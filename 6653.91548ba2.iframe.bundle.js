"use strict";(self.webpackChunk_midspace_frontend=self.webpackChunk_midspace_frontend||[]).push([[6653],{"./src/aspects/Conference/Attend/Room/Chime/ChimeRoom.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ChimeRoom:()=>ChimeRoom});__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.split.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.promise.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.join.js");var chakra_ui_toast_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+toast@1.5.4_3467197ee0b52af28e4f3b42a3c78b88/node_modules/@chakra-ui/toast/dist/chakra-ui-toast.esm.js"),chakra_ui_layout_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+layout@1.7.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/layout/dist/chakra-ui-layout.esm.js"),chakra_ui_button_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+button@1.5.5_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/button/dist/chakra-ui-button.esm.js"),index_esm=__webpack_require__("../node_modules/.pnpm/amazon-chime-sdk-component-library-react@2.15.0_170a55af4786d08133e2acf92bb1c67c/node_modules/amazon-chime-sdk-component-library-react/lib/index.esm.js"),react=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),react_router=__webpack_require__("../node_modules/.pnpm/react-router@5.2.1_react@17.0.2/node_modules/react-router/esm/react-router.js"),ChatProfileModalProvider=__webpack_require__("./src/aspects/Chat/Frame/ChatProfileModalProvider.tsx"),chakra_ui_hooks_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+hooks@1.8.2_react@17.0.2/node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js"),chakra_ui_modal_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+modal@1.10.7_d24435ba52f1f88b08cc54a1f1d4e56f/node_modules/@chakra-ui/modal/dist/chakra-ui-modal.esm.js"),es=__webpack_require__("../node_modules/.pnpm/ramda@0.28.0/node_modules/ramda/es/index.js"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");function PermissionsExplanationModal(){var devicePermissionStatus=(0,index_esm.Bgk)(),deniedDisclosure=(0,chakra_ui_hooks_esm.qY)();return(0,react.useEffect)((function(){devicePermissionStatus===index_esm.$FW.DENIED&&deniedDisclosure.onOpen()}),[devicePermissionStatus]),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(chakra_ui_modal_esm.u_,{isOpen:devicePermissionStatus===index_esm.$FW.IN_PROGRESS,onClose:es.Bxt(void 0),children:[(0,jsx_runtime.jsx)(chakra_ui_modal_esm.ZA,{}),(0,jsx_runtime.jsxs)(chakra_ui_modal_esm.hz,{marginTop:"auto",children:[(0,jsx_runtime.jsx)(chakra_ui_modal_esm.xB,{children:"Detecting cameras and microphones"}),(0,jsx_runtime.jsx)(chakra_ui_modal_esm.fe,{children:"To connect to the video room, we need to detect what cameras and microphones are connected to your computer. Your browser may ask you for permission to share this information."})]})]}),(0,jsx_runtime.jsxs)(chakra_ui_modal_esm.u_,{isOpen:deniedDisclosure.isOpen,onClose:deniedDisclosure.onClose,children:[(0,jsx_runtime.jsx)(chakra_ui_modal_esm.ZA,{}),(0,jsx_runtime.jsxs)(chakra_ui_modal_esm.hz,{marginTop:"auto",children:[(0,jsx_runtime.jsx)(chakra_ui_modal_esm.xB,{children:"Permissions were denied"}),(0,jsx_runtime.jsx)(chakra_ui_modal_esm.ol,{}),(0,jsx_runtime.jsx)(chakra_ui_modal_esm.fe,{children:"Permissions to choose camera and microphone settings were denied."})]})]})]})}__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.map.js");var chakra_ui_icons_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+icons@1.1.5_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/icons/dist/chakra-ui-icons.esm.js"),chakra_ui_menu_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+menu@1.8.6_381b254eb05ba0b21fa13fc526cde82c/node_modules/@chakra-ui/menu/dist/chakra-ui-menu.esm.js"),chakra_ui_tag_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+tag@1.2.5_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/tag/dist/chakra-ui-tag.esm.js"),FAIcon=__webpack_require__("./src/aspects/Chakra/FAIcon.tsx"),PermissionInstructions=__webpack_require__("./src/aspects/Conference/Attend/Room/VideoChat/PermissionInstructions.tsx");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function ChimeRoomControlBar(){var meetingManager=(0,index_esm.fjl)(),meetingStatus=(0,index_esm.dpf)(),audioInputs=(0,index_esm.m6Y)(),selectAudioInput=(0,index_esm.XFJ)(),videoInputs=(0,index_esm.ULf)(),selectVideoInput=(0,index_esm.XIn)(),audioVideo=(0,index_esm.LoD)(),_useLocalVideo=(0,index_esm.Onx)(),isVideoEnabled=_useLocalVideo.isVideoEnabled,toggleVideo=_useLocalVideo.toggleVideo,_useContentShareState=(0,index_esm.EJc)(),isLocalUserSharing=_useContentShareState.isLocalUserSharing,isLocalShareLoading=_useContentShareState.isLocalShareLoading,sharingAttendeeId=_useContentShareState.sharingAttendeeId,_useToggleLocalMute=(0,index_esm.HI)(),muted=_useToggleLocalMute.muted,toggleMute=_useToggleLocalMute.toggleMute,toggleContentShare=(0,index_esm.mvG)().toggleContentShare,videoNeedsRestartRef=(0,react.useRef)(!1),toast=(0,chakra_ui_toast_esm.pm)();(0,react.useEffect)((function(){null==audioVideo||audioVideo.chooseVideoInputQuality(1280,720,30,1400)}),[audioVideo]);var onLeaveRoom=(0,react.useCallback)(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,meetingManager.leave();case 2:case"end":return _context.stop()}}),_callee)}))),[meetingManager]);(0,react.useEffect)((function(){function _toggle(){return(_toggle=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,videoNeedsRestartRef.current=!0,_context2.next=4,toggleVideo();case 4:_context2.next=9;break;case 6:_context2.prev=6,_context2.t0=_context2.catch(0),toast({title:"Could not enable camera",description:(0,jsx_runtime.jsx)(PermissionInstructions.vj,{camera:!0}),isClosable:!0,duration:null,status:"error"});case 9:case"end":return _context2.stop()}}),_callee2,null,[[0,6]])})))).apply(this,arguments)}meetingStatus===index_esm.ytK.Succeeded&&isVideoEnabled&&function toggle(){return _toggle.apply(this,arguments)}()}),[meetingStatus]),(0,react.useEffect)((function(){function _toggle2(){return(_toggle2=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,videoNeedsRestartRef.current=!1,_context3.next=4,toggleVideo();case 4:_context3.next=9;break;case 6:_context3.prev=6,_context3.t0=_context3.catch(0),toast({title:"Could not enable camera",description:(0,jsx_runtime.jsx)(PermissionInstructions.vj,{camera:!0}),isClosable:!0,duration:null,status:"error"});case 9:case"end":return _context3.stop()}}),_callee3,null,[[0,6]])})))).apply(this,arguments)}videoNeedsRestartRef.current&&!isVideoEnabled&&function toggle(){return _toggle2.apply(this,arguments)}()}),[isVideoEnabled]),(0,react.useEffect)((function(){var _audioInputStreamEnded,_videoInputStreamEnded,deviceChangeObserver={videoInputStreamEnded:(_videoInputStreamEnded=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return console.log("Video input stream ended",{isVideoEnabled}),_context4.next=3,selectVideoInput("none");case 3:if(!isVideoEnabled){_context4.next=6;break}return _context4.next=6,toggleVideo();case 6:case"end":return _context4.stop()}}),_callee4)}))),function videoInputStreamEnded(){return _videoInputStreamEnded.apply(this,arguments)}),audioInputStreamEnded:(_audioInputStreamEnded=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return console.log("Audio input stream ended"),_context5.next=3,selectAudioInput("none");case 3:case"end":return _context5.stop()}}),_callee5)}))),function audioInputStreamEnded(){return _audioInputStreamEnded.apply(this,arguments)})};return null==audioVideo||audioVideo.addDeviceChangeObserver(deviceChangeObserver),function(){null==audioVideo||audioVideo.removeDeviceChangeObserver(deviceChangeObserver)}}),[audioVideo]);var toggleVideoWrapper=(0,react.useCallback)(_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){return regeneratorRuntime.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.prev=0,_context6.next=3,toggleVideo();case 3:_context6.next=8;break;case 5:_context6.prev=5,_context6.t0=_context6.catch(0),toast({title:"Could not enable camera",description:(0,jsx_runtime.jsx)(PermissionInstructions.vj,{camera:!0}),isClosable:!0,duration:null,status:"error"});case 8:case"end":return _context6.stop()}}),_callee6,null,[[0,5]])}))),[toast,toggleVideo]),changeAudioInputDevice=(0,react.useCallback)(function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(deviceId){return regeneratorRuntime.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.prev=0,_context7.next=3,null==audioVideo?void 0:audioVideo.chooseAudioInputDevice(deviceId);case 3:return _context7.next=5,selectAudioInput(deviceId);case 5:_context7.next=18;break;case 7:return _context7.prev=7,_context7.t0=_context7.catch(0),toast({title:"Could not change audio input device",description:(0,jsx_runtime.jsx)(PermissionInstructions.vj,{microphone:!0}),isClosable:!0,duration:null,status:"error"}),_context7.prev=10,_context7.next=13,selectAudioInput("none");case 13:_context7.next=18;break;case 15:_context7.prev=15,_context7.t1=_context7.catch(10),console.error("Failed to unselect audio device",_context7.t1);case 18:case"end":return _context7.stop()}}),_callee7,null,[[0,7],[10,15]])})));return function(_x){return _ref3.apply(this,arguments)}}(),[audioVideo,selectAudioInput,toast]),changeVideoInputDevice=(0,react.useCallback)(function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee8(deviceId){return regeneratorRuntime.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(_context8.prev=0,"smpte"===deviceId){_context8.next=4;break}return _context8.next=4,null==audioVideo?void 0:audioVideo.chooseVideoInputDevice(deviceId);case 4:return _context8.next=6,selectVideoInput(deviceId);case 6:_context8.next=19;break;case 8:return _context8.prev=8,_context8.t0=_context8.catch(0),toast({title:"Could not change camera device",description:(0,jsx_runtime.jsx)(PermissionInstructions.vj,{camera:!0}),isClosable:!0,duration:null,status:"error"}),_context8.prev=11,_context8.next=14,selectVideoInput("none");case 14:_context8.next=19;break;case 16:_context8.prev=16,_context8.t1=_context8.catch(11),console.error("Failed to unselect camera device",_context8.t1);case 19:case"end":return _context8.stop()}}),_callee8,null,[[0,8],[11,16]])})));return function(_x2){return _ref4.apply(this,arguments)}}(),[audioVideo,selectVideoInput,toast]);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Eq,{p:2,children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.Uc,{children:(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{children:meetingStatus===index_esm.ytK.Succeeded?(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{colorScheme:"DestructiveActionButton",onClick:onLeaveRoom,children:"Leave Room"}):void 0})}),audioVideo?(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Uc,{children:[(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{onClick:toggleMute,isDisabled:!audioInputs.selectedDevice,colorScheme:muted||!audioInputs.selectedDevice?"SecondaryActionButton":"PrimaryActionButton",children:muted||!audioInputs.selectedDevice?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(FAIcon.Z,{icon:"microphone-slash",iconStyle:"s"}),(0,jsx_runtime.jsx)("span",{style:{marginLeft:"1rem"},children:"Unmute"})]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(FAIcon.Z,{icon:"microphone",iconStyle:"s"}),(0,jsx_runtime.jsx)("span",{style:{marginLeft:"1rem"},children:"Mute"})]})}),(0,jsx_runtime.jsxs)(chakra_ui_menu_esm.v2,{onOpen:function onOpen(){return meetingManager.updateDeviceLists()},children:[(0,jsx_runtime.jsx)(chakra_ui_menu_esm.j2,{as:chakra_ui_button_esm.zx,rightIcon:(0,jsx_runtime.jsx)(chakra_ui_icons_esm.ChevronDownIcon,{}),pl:0,pr:3,"aria-label":"Choose microphone",colorScheme:"SecondaryActionButton"}),(0,jsx_runtime.jsx)(chakra_ui_menu_esm.qy,{zIndex:"300",children:audioInputs.devices.map((function(device){return(0,jsx_runtime.jsx)(chakra_ui_menu_esm.sN,{onClick:function onClick(){return changeAudioInputDevice(device.deviceId)},fontWeight:meetingManager.selectedAudioInputDevice===device.deviceId?"bold":"normal",children:device.label},device.deviceId)}))})]})]}):void 0,audioVideo?(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Uc,{children:[(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{onClick:toggleVideoWrapper,isDisabled:!videoInputs.selectedDevice,colorScheme:videoInputs.selectedDevice?"PrimaryActionButton":"SecondaryActionButton",children:isVideoEnabled&&videoInputs.selectedDevice?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(FAIcon.Z,{icon:"video",iconStyle:"s"}),(0,jsx_runtime.jsx)("span",{style:{marginLeft:"1rem"},children:"Disable camera"})]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(FAIcon.Z,{icon:"video-slash",iconStyle:"s"}),(0,jsx_runtime.jsx)("span",{style:{marginLeft:"1rem"},children:"Start camera"})]})}),(0,jsx_runtime.jsxs)(chakra_ui_menu_esm.v2,{onOpen:function onOpen(){return meetingManager.updateDeviceLists()},children:[(0,jsx_runtime.jsx)(chakra_ui_menu_esm.j2,{as:chakra_ui_button_esm.zx,rightIcon:(0,jsx_runtime.jsx)(chakra_ui_icons_esm.ChevronDownIcon,{}),pl:0,pr:3,"aria-label":"Choose camera",colorScheme:"SecondaryActionButton"}),(0,jsx_runtime.jsxs)(chakra_ui_menu_esm.qy,{zIndex:"300",children:[videoInputs.devices.map((function(device){return(0,jsx_runtime.jsx)(chakra_ui_menu_esm.sN,{onClick:function onClick(){return changeVideoInputDevice(device.deviceId)},fontWeight:meetingManager.selectedVideoInputDevice===device.deviceId?"bold":"normal",children:device.label},device.deviceId)})),"development"===(void 0).MODE?(0,jsx_runtime.jsx)(chakra_ui_menu_esm.sN,{onClick:function onClick(){return changeVideoInputDevice("smpte")},fontWeight:"smpte"===meetingManager.selectedVideoInputDevice?"bold":"normal",children:"Test video"},"smpte"):void 0]})]})]}):void 0,audioVideo?(0,jsx_runtime.jsx)(chakra_ui_layout_esm.Uc,{children:meetingStatus===index_esm.ytK.Succeeded?isLocalUserSharing?(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{onClick:function onClick(){return toggleContentShare()},colorScheme:"SecondaryActionButton",children:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(FAIcon.Z,{icon:"desktop",iconStyle:"s"}),(0,jsx_runtime.jsx)("span",{style:{marginLeft:"1rem"},children:"Stop sharing"})]})}):isLocalShareLoading?(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{onClick:function onClick(){return toggleContentShare()},isLoading:!0,colorScheme:"SecondaryActionButton",children:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(FAIcon.Z,{icon:"desktop",iconStyle:"s"}),(0,jsx_runtime.jsx)("span",{style:{marginLeft:"1rem"},children:"Share screen"})]})}):sharingAttendeeId?(0,jsx_runtime.jsxs)(chakra_ui_tag_esm.Vp,{size:"sm",variant:"outline",colorScheme:"SecondaryActionButton",px:2,py:"4px",ml:1,mr:"auto",maxW:"190px",children:[(0,jsx_runtime.jsx)(chakra_ui_tag_esm.AD,{as:chakra_ui_icons_esm.CheckCircleIcon}),(0,jsx_runtime.jsx)(chakra_ui_tag_esm.Sn,{whiteSpace:"normal",children:"Someone else is sharing their screen at the moment"})]}):(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{onClick:function onClick(){return toggleContentShare()},colorScheme:"PrimaryActionButton",children:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(FAIcon.Z,{icon:"desktop",iconStyle:"s"}),(0,jsx_runtime.jsx)("span",{style:{marginLeft:"1rem"},children:"Share screen"})]})}):void 0}):void 0]})})}function ContentShare(){var audioVideo=(0,index_esm.LoD)(),tileId=(0,index_esm.EJc)().tileId,videoEl=(0,react.useRef)(null);return(0,react.useEffect)((function(){if(audioVideo&&videoEl.current&&tileId)return audioVideo.bindVideoElement(tileId,videoEl.current),function(){audioVideo.getVideoTile(tileId)&&audioVideo.unbindVideoElement(tileId)}}),[audioVideo,tileId]),tileId?(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{"data-testid":"video-tile",objectFit:"contain",children:(0,jsx_runtime.jsx)("video",{ref:videoEl})}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})}__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.from.js");var _templateObject,chakra_ui_system_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+system@1.10.3_922a85da57e3646a57465b7970b0de85/node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js"),styled_components_browser_esm=__webpack_require__("../node_modules/.pnpm/styled-components@5.3.3_281a4fa50a045c9112baf635f3bc27a7/node_modules/styled-components/dist/styled-components.browser.esm.js"),v4=__webpack_require__("../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v4.js");function PreviewVideo_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function PreviewVideo_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){PreviewVideo_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){PreviewVideo_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var StyledPreview=(0,styled_components_browser_esm.ZP)(index_esm.yBo)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    height: auto;\n    background: unset;\n\n    video {\n        position: static;\n    }\n"])));function PreviewVideo(){var audioVideo=(0,index_esm.LoD)(),videoEl=(0,react.useRef)(null),selectedDevice=(0,index_esm.ULf)().selectedDevice,key=(0,react.useMemo)((function(){return(0,v4.Z)()}),[]);return(0,react.useEffect)((function(){if(audioVideo&&selectedDevice&&videoEl.current){var currentVideoEl=videoEl.current,mounted=!0;return function startPreview(){return _startPreview.apply(this,arguments)}(),function(){mounted=!1,currentVideoEl&&audioVideo.stopVideoPreviewForVideoInput(currentVideoEl)}}function _startPreview(){return(_startPreview=PreviewVideo_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(audioVideo){_context.next=2;break}return _context.abrupt("return");case 2:return _context.next=4,audioVideo.chooseVideoInputDevice(selectedDevice);case 4:currentVideoEl&&mounted&&audioVideo.startVideoPreviewForVideoInput(currentVideoEl);case 5:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}}),[audioVideo,selectedDevice]),(0,jsx_runtime.jsx)(StyledPreview,{ref:videoEl},key)}PreviewVideo.displayName="PreviewVideo";const DeviceSetup_PreviewVideo=PreviewVideo;var CameraDevices=(0,chakra_ui_system_esm.m$)(CameraDevicesInner);function CameraDevicesInner(_ref){var className=_ref.className,isVideoEnabled=(0,index_esm.Onx)().isVideoEnabled;return(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{className,children:isVideoEnabled?(0,jsx_runtime.jsx)(DeviceSetup_PreviewVideo,{}):void 0})}CameraDevicesInner.displayName="CameraDevicesInner";try{CameraDevices.displayName="CameraDevices",CameraDevices.__docgenInfo={description:"",displayName:"CameraDevices",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},_hover:{defaultValue:null,description:"Styles for CSS selector `&:hover`",name:"_hover",required:!1,type:{name:"CSSObject"}},_active:{defaultValue:null,description:"Styles for CSS Selector `&:active`",name:"_active",required:!1,type:{name:"CSSObject"}},_focus:{defaultValue:null,description:"Styles for CSS selector `&:focus`",name:"_focus",required:!1,type:{name:"CSSObject"}},_highlighted:{defaultValue:null,description:"Styles for the highlighted state.",name:"_highlighted",required:!1,type:{name:"CSSObject"}},_focusWithin:{defaultValue:null,description:"Styles to apply when a child of this element has received focus\n- CSS Selector `&:focus-within`",name:"_focusWithin",required:!1,type:{name:"CSSObject"}},_focusVisible:{defaultValue:null,description:"Styles to apply when this element has received focus via tabbing\n- CSS Selector `&:focus-visible`",name:"_focusVisible",required:!1,type:{name:"CSSObject"}},_disabled:{defaultValue:null,description:"Styles to apply when this element is disabled. The passed styles are applied to these CSS selectors:\n- `&[aria-disabled=true]`\n- `&:disabled`\n- `&[data-disabled]`",name:"_disabled",required:!1,type:{name:"CSSObject"}},_readOnly:{defaultValue:null,description:"Styles for CSS Selector `&:readonly`",name:"_readOnly",required:!1,type:{name:"CSSObject"}},_before:{defaultValue:null,description:'Styles for CSS selector `&::before`\n\nNOTE:When using this, ensure the `content` is wrapped in a backtick.\n@example ```jsx\n<Box _before={{content:`""` }}/>\n```',name:"_before",required:!1,type:{name:"CSSObject"}},_after:{defaultValue:null,description:'Styles for CSS selector `&::after`\n\nNOTE:When using this, ensure the `content` is wrapped in a backtick.\n@example ```jsx\n<Box _after={{content:`""` }}/>\n```',name:"_after",required:!1,type:{name:"CSSObject"}},_empty:{defaultValue:null,description:"Styles for CSS selector `&:empty`",name:"_empty",required:!1,type:{name:"CSSObject"}},_expanded:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-expanded` is `true`\n- CSS selector `&[aria-expanded=true]`",name:"_expanded",required:!1,type:{name:"CSSObject"}},_checked:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-checked` is `true`\n- CSS selector `&[aria-checked=true]`",name:"_checked",required:!1,type:{name:"CSSObject"}},_grabbed:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-grabbed` is `true`\n- CSS selector `&[aria-grabbed=true]`",name:"_grabbed",required:!1,type:{name:"CSSObject"}},_pressed:{defaultValue:null,description:'Styles for CSS Selector `&[aria-pressed=true]`\nTypically used to style the current "pressed" state of toggle buttons',name:"_pressed",required:!1,type:{name:"CSSObject"}},_invalid:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-invalid` is `true`\n- CSS selector `&[aria-invalid=true]`",name:"_invalid",required:!1,type:{name:"CSSObject"}},_valid:{defaultValue:null,description:"Styles for the valid state\n- CSS selector `&[data-valid], &[data-state=valid]`",name:"_valid",required:!1,type:{name:"CSSObject"}},_loading:{defaultValue:null,description:"Styles for CSS Selector `&[aria-busy=true]` or `&[data-loading=true]`.\nUseful for styling loading states",name:"_loading",required:!1,type:{name:"CSSObject"}},_selected:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-selected` is `true`\n\n- CSS selector `&[aria-selected=true]`",name:"_selected",required:!1,type:{name:"CSSObject"}},_hidden:{defaultValue:null,description:"Styles for CSS Selector `[hidden=true]`",name:"_hidden",required:!1,type:{name:"CSSObject"}},_autofill:{defaultValue:null,description:"Styles for CSS Selector `&:-webkit-autofill`",name:"_autofill",required:!1,type:{name:"CSSObject"}},_even:{defaultValue:null,description:"Styles for CSS Selector `&:nth-child(even)`",name:"_even",required:!1,type:{name:"CSSObject"}},_odd:{defaultValue:null,description:"Styles for CSS Selector `&:nth-child(odd)`",name:"_odd",required:!1,type:{name:"CSSObject"}},_first:{defaultValue:null,description:"Styles for CSS Selector `&:first-of-type`",name:"_first",required:!1,type:{name:"CSSObject"}},_last:{defaultValue:null,description:"Styles for CSS Selector `&:last-of-type`",name:"_last",required:!1,type:{name:"CSSObject"}},_notFirst:{defaultValue:null,description:"Styles for CSS Selector `&:not(:first-of-type)`",name:"_notFirst",required:!1,type:{name:"CSSObject"}},_notLast:{defaultValue:null,description:"Styles for CSS Selector `&:not(:last-of-type)`",name:"_notLast",required:!1,type:{name:"CSSObject"}},_visited:{defaultValue:null,description:"Styles for CSS Selector `&:visited`",name:"_visited",required:!1,type:{name:"CSSObject"}},_activeLink:{defaultValue:null,description:"Used to style the active link in a navigation\nStyles for CSS Selector `&[aria-current=page]`",name:"_activeLink",required:!1,type:{name:"CSSObject"}},_activeStep:{defaultValue:null,description:"Used to style the current step within a process\nStyles for CSS Selector `&[aria-current=step]`",name:"_activeStep",required:!1,type:{name:"CSSObject"}},_indeterminate:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-checked` is `mixed`\n- CSS selector `&[aria-checked=mixed]`",name:"_indeterminate",required:!1,type:{name:"CSSObject"}},_groupHover:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is hovered",name:"_groupHover",required:!1,type:{name:"CSSObject"}},_peerHover:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is hovered",name:"_peerHover",required:!1,type:{name:"CSSObject"}},_groupFocus:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is focused",name:"_groupFocus",required:!1,type:{name:"CSSObject"}},_peerFocus:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is focused",name:"_peerFocus",required:!1,type:{name:"CSSObject"}},_groupFocusVisible:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` has visible focus",name:"_groupFocusVisible",required:!1,type:{name:"CSSObject"}},_peerFocusVisible:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer`or `data-peer` has visible focus",name:"_peerFocusVisible",required:!1,type:{name:"CSSObject"}},_groupActive:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is active",name:"_groupActive",required:!1,type:{name:"CSSObject"}},_peerActive:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is active",name:"_peerActive",required:!1,type:{name:"CSSObject"}},_groupDisabled:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is disabled",name:"_groupDisabled",required:!1,type:{name:"CSSObject"}},_peerDisabled:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is disabled",name:"_peerDisabled",required:!1,type:{name:"CSSObject"}},_groupInvalid:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is invalid",name:"_groupInvalid",required:!1,type:{name:"CSSObject"}},_peerInvalid:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is invalid",name:"_peerInvalid",required:!1,type:{name:"CSSObject"}},_groupChecked:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is checked",name:"_groupChecked",required:!1,type:{name:"CSSObject"}},_peerChecked:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is checked",name:"_peerChecked",required:!1,type:{name:"CSSObject"}},_groupFocusWithin:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` has focus within",name:"_groupFocusWithin",required:!1,type:{name:"CSSObject"}},_peerFocusWithin:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` has focus within",name:"_peerFocusWithin",required:!1,type:{name:"CSSObject"}},_peerPlaceholderShown:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` has placeholder shown",name:"_peerPlaceholderShown",required:!1,type:{name:"CSSObject"}},_placeholder:{defaultValue:null,description:"Styles for CSS Selector `&::placeholder`.",name:"_placeholder",required:!1,type:{name:"CSSObject"}},_placeholderShown:{defaultValue:null,description:"Styles for CSS Selector `&:placeholder-shown`.",name:"_placeholderShown",required:!1,type:{name:"CSSObject"}},_fullScreen:{defaultValue:null,description:"Styles for CSS Selector `&:fullscreen`.",name:"_fullScreen",required:!1,type:{name:"CSSObject"}},_selection:{defaultValue:null,description:"Styles for CSS Selector `&::selection`",name:"_selection",required:!1,type:{name:"CSSObject"}},_rtl:{defaultValue:null,description:'Styles for CSS Selector `[dir=rtl] &`\nIt is applied when a parent element or this element has `dir="rtl"`',name:"_rtl",required:!1,type:{name:"CSSObject"}},_ltr:{defaultValue:null,description:'Styles for CSS Selector `[dir=ltr] &`\nIt is applied when a parent element or this element has `dir="ltr"`',name:"_ltr",required:!1,type:{name:"CSSObject"}},_mediaDark:{defaultValue:null,description:"Styles for CSS Selector `@media (prefers-color-scheme: dark)`\nIt is used when the user has requested the system use a light or dark color theme.",name:"_mediaDark",required:!1,type:{name:"CSSObject"}},_mediaReduceMotion:{defaultValue:null,description:"Styles for CSS Selector `@media (prefers-reduced-motion: reduce)`\nIt is used when the user has requested the system to reduce the amount of animations.",name:"_mediaReduceMotion",required:!1,type:{name:"CSSObject"}},_dark:{defaultValue:null,description:"Styles for when `data-theme` is applied to any parent of\nthis component or element.",name:"_dark",required:!1,type:{name:"CSSObject"}},_light:{defaultValue:null,description:"Styles for when `data-theme` is applied to any parent of\nthis component or element.",name:"_light",required:!1,type:{name:"CSSObject"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"As<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Attend/Room/Chime/DeviceSetup/CameraDevices.tsx#CameraDevices"]={docgenInfo:CameraDevices.__docgenInfo,name:"CameraDevices",path:"src/aspects/Conference/Attend/Room/Chime/DeviceSetup/CameraDevices.tsx#CameraDevices"})}catch(__react_docgen_typescript_loader_error){}var chakra_ui_form_control_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+form-control@1.5.6_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/form-control/dist/chakra-ui-form-control.esm.js"),chakra_ui_progress_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+progress@1.2.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/progress/dist/chakra-ui-progress.esm.js"),usePolling=__webpack_require__("./src/aspects/Hooks/usePolling.ts");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function MicrophoneActivityPreviewInner(_ref){var className=_ref.className,_useState2=_slicedToArray((0,react.useState)(0),2),value=_useState2[0],setValue=_useState2[1],valueRef=(0,react.useRef)(0),muted=(0,index_esm.HI)().muted;(0,index_esm.CUE)((function(d){var oldValue=valueRef.current;oldValue-=oldValue/5,oldValue+=d/5,valueRef.current=muted?0:oldValue}));var id=(0,chakra_ui_hooks_esm.Me)(),cb=(0,react.useCallback)((function(){return setValue(valueRef.current)}),[]);return(0,usePolling.Z)(cb,200,!0),(0,jsx_runtime.jsxs)(chakra_ui_form_control_esm.NI,{className,children:[(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{htmlFor:id,children:"Microphone activity"}),(0,jsx_runtime.jsx)(chakra_ui_progress_esm.Ex,{id,sx:{div:{transition:"all 0.2s"}},value,min:0,max:1})]})}MicrophoneActivityPreviewInner.displayName="MicrophoneActivityPreviewInner";var MicrophoneActivityPreview=(0,chakra_ui_system_esm.m$)(MicrophoneActivityPreviewInner);try{MicrophoneActivityPreviewInner.displayName="MicrophoneActivityPreviewInner",MicrophoneActivityPreviewInner.__docgenInfo={description:"",displayName:"MicrophoneActivityPreviewInner",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Attend/Room/Chime/MicrophoneActivityPreview.tsx#MicrophoneActivityPreviewInner"]={docgenInfo:MicrophoneActivityPreviewInner.__docgenInfo,name:"MicrophoneActivityPreviewInner",path:"src/aspects/Conference/Attend/Room/Chime/MicrophoneActivityPreview.tsx#MicrophoneActivityPreviewInner"})}catch(__react_docgen_typescript_loader_error){}try{MicrophoneActivityPreview.displayName="MicrophoneActivityPreview",MicrophoneActivityPreview.__docgenInfo={description:"",displayName:"MicrophoneActivityPreview",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},_hover:{defaultValue:null,description:"Styles for CSS selector `&:hover`",name:"_hover",required:!1,type:{name:"CSSObject"}},_active:{defaultValue:null,description:"Styles for CSS Selector `&:active`",name:"_active",required:!1,type:{name:"CSSObject"}},_focus:{defaultValue:null,description:"Styles for CSS selector `&:focus`",name:"_focus",required:!1,type:{name:"CSSObject"}},_highlighted:{defaultValue:null,description:"Styles for the highlighted state.",name:"_highlighted",required:!1,type:{name:"CSSObject"}},_focusWithin:{defaultValue:null,description:"Styles to apply when a child of this element has received focus\n- CSS Selector `&:focus-within`",name:"_focusWithin",required:!1,type:{name:"CSSObject"}},_focusVisible:{defaultValue:null,description:"Styles to apply when this element has received focus via tabbing\n- CSS Selector `&:focus-visible`",name:"_focusVisible",required:!1,type:{name:"CSSObject"}},_disabled:{defaultValue:null,description:"Styles to apply when this element is disabled. The passed styles are applied to these CSS selectors:\n- `&[aria-disabled=true]`\n- `&:disabled`\n- `&[data-disabled]`",name:"_disabled",required:!1,type:{name:"CSSObject"}},_readOnly:{defaultValue:null,description:"Styles for CSS Selector `&:readonly`",name:"_readOnly",required:!1,type:{name:"CSSObject"}},_before:{defaultValue:null,description:'Styles for CSS selector `&::before`\n\nNOTE:When using this, ensure the `content` is wrapped in a backtick.\n@example ```jsx\n<Box _before={{content:`""` }}/>\n```',name:"_before",required:!1,type:{name:"CSSObject"}},_after:{defaultValue:null,description:'Styles for CSS selector `&::after`\n\nNOTE:When using this, ensure the `content` is wrapped in a backtick.\n@example ```jsx\n<Box _after={{content:`""` }}/>\n```',name:"_after",required:!1,type:{name:"CSSObject"}},_empty:{defaultValue:null,description:"Styles for CSS selector `&:empty`",name:"_empty",required:!1,type:{name:"CSSObject"}},_expanded:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-expanded` is `true`\n- CSS selector `&[aria-expanded=true]`",name:"_expanded",required:!1,type:{name:"CSSObject"}},_checked:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-checked` is `true`\n- CSS selector `&[aria-checked=true]`",name:"_checked",required:!1,type:{name:"CSSObject"}},_grabbed:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-grabbed` is `true`\n- CSS selector `&[aria-grabbed=true]`",name:"_grabbed",required:!1,type:{name:"CSSObject"}},_pressed:{defaultValue:null,description:'Styles for CSS Selector `&[aria-pressed=true]`\nTypically used to style the current "pressed" state of toggle buttons',name:"_pressed",required:!1,type:{name:"CSSObject"}},_invalid:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-invalid` is `true`\n- CSS selector `&[aria-invalid=true]`",name:"_invalid",required:!1,type:{name:"CSSObject"}},_valid:{defaultValue:null,description:"Styles for the valid state\n- CSS selector `&[data-valid], &[data-state=valid]`",name:"_valid",required:!1,type:{name:"CSSObject"}},_loading:{defaultValue:null,description:"Styles for CSS Selector `&[aria-busy=true]` or `&[data-loading=true]`.\nUseful for styling loading states",name:"_loading",required:!1,type:{name:"CSSObject"}},_selected:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-selected` is `true`\n\n- CSS selector `&[aria-selected=true]`",name:"_selected",required:!1,type:{name:"CSSObject"}},_hidden:{defaultValue:null,description:"Styles for CSS Selector `[hidden=true]`",name:"_hidden",required:!1,type:{name:"CSSObject"}},_autofill:{defaultValue:null,description:"Styles for CSS Selector `&:-webkit-autofill`",name:"_autofill",required:!1,type:{name:"CSSObject"}},_even:{defaultValue:null,description:"Styles for CSS Selector `&:nth-child(even)`",name:"_even",required:!1,type:{name:"CSSObject"}},_odd:{defaultValue:null,description:"Styles for CSS Selector `&:nth-child(odd)`",name:"_odd",required:!1,type:{name:"CSSObject"}},_first:{defaultValue:null,description:"Styles for CSS Selector `&:first-of-type`",name:"_first",required:!1,type:{name:"CSSObject"}},_last:{defaultValue:null,description:"Styles for CSS Selector `&:last-of-type`",name:"_last",required:!1,type:{name:"CSSObject"}},_notFirst:{defaultValue:null,description:"Styles for CSS Selector `&:not(:first-of-type)`",name:"_notFirst",required:!1,type:{name:"CSSObject"}},_notLast:{defaultValue:null,description:"Styles for CSS Selector `&:not(:last-of-type)`",name:"_notLast",required:!1,type:{name:"CSSObject"}},_visited:{defaultValue:null,description:"Styles for CSS Selector `&:visited`",name:"_visited",required:!1,type:{name:"CSSObject"}},_activeLink:{defaultValue:null,description:"Used to style the active link in a navigation\nStyles for CSS Selector `&[aria-current=page]`",name:"_activeLink",required:!1,type:{name:"CSSObject"}},_activeStep:{defaultValue:null,description:"Used to style the current step within a process\nStyles for CSS Selector `&[aria-current=step]`",name:"_activeStep",required:!1,type:{name:"CSSObject"}},_indeterminate:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-checked` is `mixed`\n- CSS selector `&[aria-checked=mixed]`",name:"_indeterminate",required:!1,type:{name:"CSSObject"}},_groupHover:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is hovered",name:"_groupHover",required:!1,type:{name:"CSSObject"}},_peerHover:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is hovered",name:"_peerHover",required:!1,type:{name:"CSSObject"}},_groupFocus:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is focused",name:"_groupFocus",required:!1,type:{name:"CSSObject"}},_peerFocus:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is focused",name:"_peerFocus",required:!1,type:{name:"CSSObject"}},_groupFocusVisible:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` has visible focus",name:"_groupFocusVisible",required:!1,type:{name:"CSSObject"}},_peerFocusVisible:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer`or `data-peer` has visible focus",name:"_peerFocusVisible",required:!1,type:{name:"CSSObject"}},_groupActive:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is active",name:"_groupActive",required:!1,type:{name:"CSSObject"}},_peerActive:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is active",name:"_peerActive",required:!1,type:{name:"CSSObject"}},_groupDisabled:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is disabled",name:"_groupDisabled",required:!1,type:{name:"CSSObject"}},_peerDisabled:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is disabled",name:"_peerDisabled",required:!1,type:{name:"CSSObject"}},_groupInvalid:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is invalid",name:"_groupInvalid",required:!1,type:{name:"CSSObject"}},_peerInvalid:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is invalid",name:"_peerInvalid",required:!1,type:{name:"CSSObject"}},_groupChecked:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is checked",name:"_groupChecked",required:!1,type:{name:"CSSObject"}},_peerChecked:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is checked",name:"_peerChecked",required:!1,type:{name:"CSSObject"}},_groupFocusWithin:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` has focus within",name:"_groupFocusWithin",required:!1,type:{name:"CSSObject"}},_peerFocusWithin:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` has focus within",name:"_peerFocusWithin",required:!1,type:{name:"CSSObject"}},_peerPlaceholderShown:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` has placeholder shown",name:"_peerPlaceholderShown",required:!1,type:{name:"CSSObject"}},_placeholder:{defaultValue:null,description:"Styles for CSS Selector `&::placeholder`.",name:"_placeholder",required:!1,type:{name:"CSSObject"}},_placeholderShown:{defaultValue:null,description:"Styles for CSS Selector `&:placeholder-shown`.",name:"_placeholderShown",required:!1,type:{name:"CSSObject"}},_fullScreen:{defaultValue:null,description:"Styles for CSS Selector `&:fullscreen`.",name:"_fullScreen",required:!1,type:{name:"CSSObject"}},_selection:{defaultValue:null,description:"Styles for CSS Selector `&::selection`",name:"_selection",required:!1,type:{name:"CSSObject"}},_rtl:{defaultValue:null,description:'Styles for CSS Selector `[dir=rtl] &`\nIt is applied when a parent element or this element has `dir="rtl"`',name:"_rtl",required:!1,type:{name:"CSSObject"}},_ltr:{defaultValue:null,description:'Styles for CSS Selector `[dir=ltr] &`\nIt is applied when a parent element or this element has `dir="ltr"`',name:"_ltr",required:!1,type:{name:"CSSObject"}},_mediaDark:{defaultValue:null,description:"Styles for CSS Selector `@media (prefers-color-scheme: dark)`\nIt is used when the user has requested the system use a light or dark color theme.",name:"_mediaDark",required:!1,type:{name:"CSSObject"}},_mediaReduceMotion:{defaultValue:null,description:"Styles for CSS Selector `@media (prefers-reduced-motion: reduce)`\nIt is used when the user has requested the system to reduce the amount of animations.",name:"_mediaReduceMotion",required:!1,type:{name:"CSSObject"}},_dark:{defaultValue:null,description:"Styles for when `data-theme` is applied to any parent of\nthis component or element.",name:"_dark",required:!1,type:{name:"CSSObject"}},_light:{defaultValue:null,description:"Styles for when `data-theme` is applied to any parent of\nthis component or element.",name:"_light",required:!1,type:{name:"CSSObject"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"As<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Attend/Room/Chime/MicrophoneActivityPreview.tsx#MicrophoneActivityPreview"]={docgenInfo:MicrophoneActivityPreview.__docgenInfo,name:"MicrophoneActivityPreview",path:"src/aspects/Conference/Attend/Room/Chime/MicrophoneActivityPreview.tsx#MicrophoneActivityPreview"})}catch(__react_docgen_typescript_loader_error){}var MicrophoneDevices=MicrophoneActivityPreview;try{MicrophoneDevices.displayName="MicrophoneDevices",MicrophoneDevices.__docgenInfo={description:"",displayName:"MicrophoneDevices",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},_hover:{defaultValue:null,description:"Styles for CSS selector `&:hover`",name:"_hover",required:!1,type:{name:"CSSObject"}},_active:{defaultValue:null,description:"Styles for CSS Selector `&:active`",name:"_active",required:!1,type:{name:"CSSObject"}},_focus:{defaultValue:null,description:"Styles for CSS selector `&:focus`",name:"_focus",required:!1,type:{name:"CSSObject"}},_highlighted:{defaultValue:null,description:"Styles for the highlighted state.",name:"_highlighted",required:!1,type:{name:"CSSObject"}},_focusWithin:{defaultValue:null,description:"Styles to apply when a child of this element has received focus\n- CSS Selector `&:focus-within`",name:"_focusWithin",required:!1,type:{name:"CSSObject"}},_focusVisible:{defaultValue:null,description:"Styles to apply when this element has received focus via tabbing\n- CSS Selector `&:focus-visible`",name:"_focusVisible",required:!1,type:{name:"CSSObject"}},_disabled:{defaultValue:null,description:"Styles to apply when this element is disabled. The passed styles are applied to these CSS selectors:\n- `&[aria-disabled=true]`\n- `&:disabled`\n- `&[data-disabled]`",name:"_disabled",required:!1,type:{name:"CSSObject"}},_readOnly:{defaultValue:null,description:"Styles for CSS Selector `&:readonly`",name:"_readOnly",required:!1,type:{name:"CSSObject"}},_before:{defaultValue:null,description:'Styles for CSS selector `&::before`\n\nNOTE:When using this, ensure the `content` is wrapped in a backtick.\n@example ```jsx\n<Box _before={{content:`""` }}/>\n```',name:"_before",required:!1,type:{name:"CSSObject"}},_after:{defaultValue:null,description:'Styles for CSS selector `&::after`\n\nNOTE:When using this, ensure the `content` is wrapped in a backtick.\n@example ```jsx\n<Box _after={{content:`""` }}/>\n```',name:"_after",required:!1,type:{name:"CSSObject"}},_empty:{defaultValue:null,description:"Styles for CSS selector `&:empty`",name:"_empty",required:!1,type:{name:"CSSObject"}},_expanded:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-expanded` is `true`\n- CSS selector `&[aria-expanded=true]`",name:"_expanded",required:!1,type:{name:"CSSObject"}},_checked:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-checked` is `true`\n- CSS selector `&[aria-checked=true]`",name:"_checked",required:!1,type:{name:"CSSObject"}},_grabbed:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-grabbed` is `true`\n- CSS selector `&[aria-grabbed=true]`",name:"_grabbed",required:!1,type:{name:"CSSObject"}},_pressed:{defaultValue:null,description:'Styles for CSS Selector `&[aria-pressed=true]`\nTypically used to style the current "pressed" state of toggle buttons',name:"_pressed",required:!1,type:{name:"CSSObject"}},_invalid:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-invalid` is `true`\n- CSS selector `&[aria-invalid=true]`",name:"_invalid",required:!1,type:{name:"CSSObject"}},_valid:{defaultValue:null,description:"Styles for the valid state\n- CSS selector `&[data-valid], &[data-state=valid]`",name:"_valid",required:!1,type:{name:"CSSObject"}},_loading:{defaultValue:null,description:"Styles for CSS Selector `&[aria-busy=true]` or `&[data-loading=true]`.\nUseful for styling loading states",name:"_loading",required:!1,type:{name:"CSSObject"}},_selected:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-selected` is `true`\n\n- CSS selector `&[aria-selected=true]`",name:"_selected",required:!1,type:{name:"CSSObject"}},_hidden:{defaultValue:null,description:"Styles for CSS Selector `[hidden=true]`",name:"_hidden",required:!1,type:{name:"CSSObject"}},_autofill:{defaultValue:null,description:"Styles for CSS Selector `&:-webkit-autofill`",name:"_autofill",required:!1,type:{name:"CSSObject"}},_even:{defaultValue:null,description:"Styles for CSS Selector `&:nth-child(even)`",name:"_even",required:!1,type:{name:"CSSObject"}},_odd:{defaultValue:null,description:"Styles for CSS Selector `&:nth-child(odd)`",name:"_odd",required:!1,type:{name:"CSSObject"}},_first:{defaultValue:null,description:"Styles for CSS Selector `&:first-of-type`",name:"_first",required:!1,type:{name:"CSSObject"}},_last:{defaultValue:null,description:"Styles for CSS Selector `&:last-of-type`",name:"_last",required:!1,type:{name:"CSSObject"}},_notFirst:{defaultValue:null,description:"Styles for CSS Selector `&:not(:first-of-type)`",name:"_notFirst",required:!1,type:{name:"CSSObject"}},_notLast:{defaultValue:null,description:"Styles for CSS Selector `&:not(:last-of-type)`",name:"_notLast",required:!1,type:{name:"CSSObject"}},_visited:{defaultValue:null,description:"Styles for CSS Selector `&:visited`",name:"_visited",required:!1,type:{name:"CSSObject"}},_activeLink:{defaultValue:null,description:"Used to style the active link in a navigation\nStyles for CSS Selector `&[aria-current=page]`",name:"_activeLink",required:!1,type:{name:"CSSObject"}},_activeStep:{defaultValue:null,description:"Used to style the current step within a process\nStyles for CSS Selector `&[aria-current=step]`",name:"_activeStep",required:!1,type:{name:"CSSObject"}},_indeterminate:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-checked` is `mixed`\n- CSS selector `&[aria-checked=mixed]`",name:"_indeterminate",required:!1,type:{name:"CSSObject"}},_groupHover:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is hovered",name:"_groupHover",required:!1,type:{name:"CSSObject"}},_peerHover:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is hovered",name:"_peerHover",required:!1,type:{name:"CSSObject"}},_groupFocus:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is focused",name:"_groupFocus",required:!1,type:{name:"CSSObject"}},_peerFocus:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is focused",name:"_peerFocus",required:!1,type:{name:"CSSObject"}},_groupFocusVisible:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` has visible focus",name:"_groupFocusVisible",required:!1,type:{name:"CSSObject"}},_peerFocusVisible:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer`or `data-peer` has visible focus",name:"_peerFocusVisible",required:!1,type:{name:"CSSObject"}},_groupActive:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is active",name:"_groupActive",required:!1,type:{name:"CSSObject"}},_peerActive:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is active",name:"_peerActive",required:!1,type:{name:"CSSObject"}},_groupDisabled:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is disabled",name:"_groupDisabled",required:!1,type:{name:"CSSObject"}},_peerDisabled:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is disabled",name:"_peerDisabled",required:!1,type:{name:"CSSObject"}},_groupInvalid:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is invalid",name:"_groupInvalid",required:!1,type:{name:"CSSObject"}},_peerInvalid:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is invalid",name:"_peerInvalid",required:!1,type:{name:"CSSObject"}},_groupChecked:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is checked",name:"_groupChecked",required:!1,type:{name:"CSSObject"}},_peerChecked:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is checked",name:"_peerChecked",required:!1,type:{name:"CSSObject"}},_groupFocusWithin:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` has focus within",name:"_groupFocusWithin",required:!1,type:{name:"CSSObject"}},_peerFocusWithin:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` has focus within",name:"_peerFocusWithin",required:!1,type:{name:"CSSObject"}},_peerPlaceholderShown:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` has placeholder shown",name:"_peerPlaceholderShown",required:!1,type:{name:"CSSObject"}},_placeholder:{defaultValue:null,description:"Styles for CSS Selector `&::placeholder`.",name:"_placeholder",required:!1,type:{name:"CSSObject"}},_placeholderShown:{defaultValue:null,description:"Styles for CSS Selector `&:placeholder-shown`.",name:"_placeholderShown",required:!1,type:{name:"CSSObject"}},_fullScreen:{defaultValue:null,description:"Styles for CSS Selector `&:fullscreen`.",name:"_fullScreen",required:!1,type:{name:"CSSObject"}},_selection:{defaultValue:null,description:"Styles for CSS Selector `&::selection`",name:"_selection",required:!1,type:{name:"CSSObject"}},_rtl:{defaultValue:null,description:'Styles for CSS Selector `[dir=rtl] &`\nIt is applied when a parent element or this element has `dir="rtl"`',name:"_rtl",required:!1,type:{name:"CSSObject"}},_ltr:{defaultValue:null,description:'Styles for CSS Selector `[dir=ltr] &`\nIt is applied when a parent element or this element has `dir="ltr"`',name:"_ltr",required:!1,type:{name:"CSSObject"}},_mediaDark:{defaultValue:null,description:"Styles for CSS Selector `@media (prefers-color-scheme: dark)`\nIt is used when the user has requested the system use a light or dark color theme.",name:"_mediaDark",required:!1,type:{name:"CSSObject"}},_mediaReduceMotion:{defaultValue:null,description:"Styles for CSS Selector `@media (prefers-reduced-motion: reduce)`\nIt is used when the user has requested the system to reduce the amount of animations.",name:"_mediaReduceMotion",required:!1,type:{name:"CSSObject"}},_dark:{defaultValue:null,description:"Styles for when `data-theme` is applied to any parent of\nthis component or element.",name:"_dark",required:!1,type:{name:"CSSObject"}},_light:{defaultValue:null,description:"Styles for when `data-theme` is applied to any parent of\nthis component or element.",name:"_light",required:!1,type:{name:"CSSObject"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"As<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Attend/Room/Chime/DeviceSetup/MicrophoneDevices.tsx#MicrophoneDevices"]={docgenInfo:MicrophoneDevices.__docgenInfo,name:"MicrophoneDevices",path:"src/aspects/Conference/Attend/Room/Chime/DeviceSetup/MicrophoneDevices.tsx#MicrophoneDevices"})}catch(__react_docgen_typescript_loader_error){}function DeviceSetup_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function DeviceSetup_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){DeviceSetup_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){DeviceSetup_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function DeviceSetup_slicedToArray(arr,i){return function DeviceSetup_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function DeviceSetup_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function DeviceSetup_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return DeviceSetup_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DeviceSetup_arrayLikeToArray(o,minLen)}(arr,i)||function DeviceSetup_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DeviceSetup_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function DeviceSetup(){var toast=(0,chakra_ui_toast_esm.pm)(),meetingManager=(0,index_esm.fjl)(),_useState2=DeviceSetup_slicedToArray((0,react.useState)(!1),2),isLoading=_useState2[0],setIsLoading=_useState2[1],handleJoinMeeting=(0,react.useCallback)(DeviceSetup_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _e$message;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return setIsLoading(!0),_context.prev=1,_context.next=4,meetingManager.start();case 4:setIsLoading(!1),_context.next=12;break;case 7:_context.prev=7,_context.t0=_context.catch(1),setIsLoading(!1),console.error("Failed to start meeting",_context.t0),toast({status:"error",title:"Cannot connect to room",description:"string"==typeof _context.t0?_context.t0:null!==(_e$message=null===_context.t0||void 0===_context.t0?void 0:_context.t0.message)&&void 0!==_e$message?_e$message:void 0,isClosable:!0});case 12:case"end":return _context.stop()}}),_callee,null,[[1,7]])}))),[meetingManager,toast]);return(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xu,{mt:4,children:[(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Ug,{alignItems:"flex-start",children:[(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xu,{flex:1,px:4,children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.X6,{as:"h2",mb:4,children:"Microphone"}),(0,jsx_runtime.jsx)(MicrophoneDevices,{})]}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xu,{flex:1,px:4,children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.X6,{as:"h2",mb:4,children:"Camera"}),(0,jsx_runtime.jsx)(CameraDevices,{})]})]}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{textAlign:"center",children:(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{onClick:handleJoinMeeting,isLoading,my:4,mx:"auto",colorScheme:"PrimaryActionButton",w:"10em",h:"6ex",fontSize:"xl",variant:"glowing",children:"Join Room"})})]})}DeviceSetup.displayName="DeviceSetup";var chakra_ui_media_query_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+media-query@2.0.1_1d6d56d3efa8dbea199a44830c333793/node_modules/@chakra-ui/media-query/dist/chakra-ui-media-query.esm.js"),useCurrentRegistrant=__webpack_require__("./src/aspects/Conference/useCurrentRegistrant.tsx"),chakra_ui_image_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+image@1.1.5_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/image/dist/chakra-ui-image.esm.js"),RegistrantsContext=__webpack_require__("./src/aspects/Conference/RegistrantsContext.tsx"),resources=__webpack_require__("./src/aspects/Conference/Attend/Room/Vonage/resources.ts");function PlaceholderImage(_ref){var _registrant$profile,connectionData=_ref.connectionData,zIndex=_ref.zIndex,registrantIdObj=(0,react.useMemo)((function(){if(!connectionData)return null;try{var data=JSON.parse(connectionData);return data.registrantId?{registrant:data.registrantId}:null}catch(e){return console.warn("Couldn't parse registrant ID from Vonage subscriber data"),null}}),[connectionData]),registrant=(0,RegistrantsContext.lS)(registrantIdObj);return null!=registrant&&null!==(_registrant$profile=registrant.profile)&&void 0!==_registrant$profile&&_registrant$profile.photoURL_350x350?(0,jsx_runtime.jsx)(chakra_ui_image_esm.Ee,{position:"absolute",width:"100%",height:"100%",objectFit:"cover",objectPosition:"center",top:"0",left:"0",src:null==registrant?void 0:registrant.profile.photoURL_350x350,overflow:"hidden",alt:"Profile picture of "+(null==registrant?void 0:registrant.displayName),opacity:.8,zIndex}):(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{position:"absolute",width:"100%",height:"100%",bgColor:"black",bgImage:resources.N,bgRepeat:"no-repeat",bgSize:"auto 76%",bgPos:"center bottom",opacity:"0.25",top:"0",zIndex})}try{PlaceholderImage.displayName="PlaceholderImage",PlaceholderImage.__docgenInfo={description:"",displayName:"PlaceholderImage",props:{connectionData:{defaultValue:null,description:"",name:"connectionData",required:!1,type:{name:"string"}},zIndex:{defaultValue:null,description:"",name:"zIndex",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Attend/Room/PlaceholderImage.tsx#PlaceholderImage"]={docgenInfo:PlaceholderImage.__docgenInfo,name:"PlaceholderImage",path:"src/aspects/Conference/Attend/Room/PlaceholderImage.tsx#PlaceholderImage"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.object.assign.js");var chakra_ui_tooltip_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+tooltip@1.4.6_3467197ee0b52af28e4f3b42a3c78b88/node_modules/@chakra-ui/tooltip/dist/chakra-ui-tooltip.esm.js");function VonageOverlay(_ref){var _registrant$displayNa,_registrant$profile,_registrant$displayNa2,connectionData=_ref.connectionData,microphoneEnabled=_ref.microphoneEnabled,cameraHidden=_ref.cameraHidden,videoStatus=_ref.videoStatus,audioBlocked=_ref.audioBlocked,registrantIdObj=(0,react.useMemo)((function(){try{var data=JSON.parse(connectionData);return data.registrantId?{registrant:data.registrantId}:null}catch(e){return console.warn("Couldn't parse registrant ID from Vonage subscriber data"),null}}),[connectionData]),registrant=(0,RegistrantsContext.lS)(registrantIdObj),profileModal=(0,ChatProfileModalProvider.s)(),toast=(0,chakra_ui_toast_esm.pm)();return(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.gC,{flexDir:"column-reverse",alignItems:"flex-start",height:"100%",mx:1,mb:.5,borderRadius:5,overflow:"hidden",children:[(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{minW:"0",maxW:"100%",minH:"unset",h:"auto",p:0,my:1,size:"xs",background:"none",borderRadius:5,overflow:"hidden",display:"block","aria-label":"View "+(null!==(_registrant$displayNa=null==registrant?void 0:registrant.displayName)&&void 0!==_registrant$displayNa?_registrant$displayNa:"<Loading name>")+"'s profile",onClick:function onClick(){registrant&&registrant.profile?profileModal.open(Object.assign({},registrant,{profile:registrant.profile})):toast({status:"warning",title:"Profile currently unavailable",duration:2e3})},children:(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Ug,{pr:2,bgColor:"rgba(0,0,0,0.6)",maxWidth:"100%",children:[null!=registrant&&null!==(_registrant$profile=registrant.profile)&&void 0!==_registrant$profile&&_registrant$profile.photoURL_50x50?(0,jsx_runtime.jsx)(chakra_ui_image_esm.Ee,{w:"2rem",h:"auto",objectFit:"cover",objectPosition:"center",src:null==registrant?void 0:registrant.profile.photoURL_50x50,overflow:"hidden",alt:"Profile picture of "+(null==registrant?void 0:registrant.displayName)}):(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"s",icon:"cat",h:"2rem",w:"2rem",fontSize:"24px",color:"white",textAlign:"center"}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{display:"block",color:"gray.100",noOfLines:1,children:null!==(_registrant$displayNa2=null==registrant?void 0:registrant.displayName)&&void 0!==_registrant$displayNa2?_registrant$displayNa2:"<Loading name>"}),void 0!==microphoneEnabled?microphoneEnabled?(0,jsx_runtime.jsx)(FAIcon.Z,{ml:1,iconStyle:"s",icon:"microphone",color:"white"}):(0,jsx_runtime.jsx)(FAIcon.Z,{ml:1,iconStyle:"s",icon:"microphone-slash",color:"red.600"}):void 0]})}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Ug,{children:[cameraHidden?(0,jsx_runtime.jsx)(chakra_ui_tooltip_esm.u,{label:"There are too many people here to show everyone's video at once. This person is hidden because they haven't spoken recently.",children:(0,jsx_runtime.jsx)(chakra_ui_icons_esm.ViewOffIcon,{w:6,h:6,bgColor:"rgba(0,0,0,0.6)",color:"white",p:1,"aria-label":"Video hidden",borderRadius:5})}):void 0,"codec-not-supported"===(null==videoStatus?void 0:videoStatus.error)?(0,jsx_runtime.jsx)(chakra_ui_tooltip_esm.u,{label:"The video format is not supported in your browser.",children:(0,jsx_runtime.jsx)(chakra_ui_icons_esm.WarningTwoIcon,{w:6,h:6,bgColor:"rgba(0,0,0,0.6)",color:"red.500",p:1,"aria-label":"Video format not supported",borderRadius:5})}):void 0,"quality"===(null==videoStatus?void 0:videoStatus.error)?(0,jsx_runtime.jsx)(chakra_ui_tooltip_esm.u,{label:"The video was hidden because the connection is not stable enough at the moment.",children:(0,jsx_runtime.jsx)(chakra_ui_icons_esm.WarningTwoIcon,{w:6,h:6,bgColor:"rgba(0,0,0,0.6)",color:"red.500",p:1,"aria-label":"Connection too unstable to show video",borderRadius:5})}):void 0,"quality"===(null==videoStatus?void 0:videoStatus.warning)&&"quality"!==videoStatus.error?(0,jsx_runtime.jsx)(chakra_ui_tooltip_esm.u,{label:"Video quality may be limited due to an unstable connection.",children:(0,jsx_runtime.jsx)(chakra_ui_icons_esm.WarningTwoIcon,{w:6,h:6,bgColor:"rgba(0,0,0,0.6)",color:"orange.500",p:1,"aria-label":"Connection unstable",borderRadius:5})}):void 0,audioBlocked?(0,jsx_runtime.jsx)(chakra_ui_tooltip_esm.u,{label:"Audio is currently blocked by your browser. Click to unblock.",children:(0,jsx_runtime.jsx)(chakra_ui_icons_esm.WarningTwoIcon,{w:6,h:6,bgColor:"rgba(0,0,0,0.6)",color:"orange.500",p:1,"aria-label":"Audio blocked by browser",onClick:function onClick(){OT.unblockAudio()},borderRadius:5})}):void 0]})]})}VonageOverlay.displayName="VonageOverlay";try{VonageOverlay.displayName="VonageOverlay",VonageOverlay.__docgenInfo={description:"",displayName:"VonageOverlay",props:{connectionData:{defaultValue:null,description:"",name:"connectionData",required:!0,type:{name:"string"}},microphoneEnabled:{defaultValue:null,description:"",name:"microphoneEnabled",required:!1,type:{name:"boolean"}},cameraHidden:{defaultValue:null,description:"",name:"cameraHidden",required:!1,type:{name:"boolean"}},videoStatus:{defaultValue:null,description:"",name:"videoStatus",required:!1,type:{name:'{ streamHasVideo: boolean; warning?: "quality"; error?: "quality" | "codec-not-supported" | "exceeds-max-streams"; } | undefined'}},audioBlocked:{defaultValue:null,description:"",name:"audioBlocked",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Attend/Room/Vonage/Components/Overlays/VonageOverlay.tsx#VonageOverlay"]={docgenInfo:VonageOverlay.__docgenInfo,name:"VonageOverlay",path:"src/aspects/Conference/Attend/Room/Vonage/Components/Overlays/VonageOverlay.tsx#VonageOverlay"})}catch(__react_docgen_typescript_loader_error){}function LocalVideo(_ref){var participantWidth=_ref.participantWidth,_useLocalVideo=(0,index_esm.Onx)(),tileId=_useLocalVideo.tileId,isVideoEnabled=_useLocalVideo.isVideoEnabled,audioVideo=(0,index_esm.LoD)(),videoEl=(0,react.useRef)(null);(0,index_esm.PM$)(videoEl);var registrant=(0,useCurrentRegistrant.ZP)(),muted=(0,index_esm.HI)().muted;(0,react.useEffect)((function(){if(audioVideo&&tileId&&videoEl.current&&isVideoEnabled)return audioVideo.bindVideoElement(tileId,videoEl.current),function(){audioVideo.getVideoTile(tileId)&&audioVideo.unbindVideoElement(tileId)}}),[audioVideo,tileId,isVideoEnabled]);var connectionData=(0,react.useMemo)((function(){return JSON.stringify({registrantId:null==registrant?void 0:registrant.id})}),[null==registrant?void 0:registrant.id]);return(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xu,{"data-testid":"video-tile",position:"relative",flex:"0 0 "+participantWidth+"px",w:participantWidth,h:participantWidth,children:[(0,jsx_runtime.jsx)("video",{ref:videoEl,style:{zIndex:100,position:"relative",height:"100%"}}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{position:"absolute",left:"1",bottom:"1",zIndex:"200",w:"100%",children:(0,jsx_runtime.jsx)(VonageOverlay,{connectionData,microphoneEnabled:!muted})}),(0,jsx_runtime.jsx)(PlaceholderImage,{connectionData})]})}LocalVideo.displayName="LocalVideo";try{LocalVideo.displayName="LocalVideo",LocalVideo.__docgenInfo={description:"",displayName:"LocalVideo",props:{participantWidth:{defaultValue:null,description:"",name:"participantWidth",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Attend/Room/Chime/LocalVideo.tsx#LocalVideo"]={docgenInfo:LocalVideo.__docgenInfo,name:"LocalVideo",path:"src/aspects/Conference/Attend/Room/Chime/LocalVideo.tsx#LocalVideo"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/web.timers.js");function RemoteVideo(_ref){var participantWidth=_ref.participantWidth,tileId=_ref.tileId,audioVideo=(0,index_esm.LoD)(),videoEl=(0,react.useRef)(null);(0,index_esm.PM$)(videoEl);var tileIdToAttendeeId=(0,index_esm.akC)().tileIdToAttendeeId,roster=(0,index_esm.dJs)().roster,borderEl=(0,react.useRef)(null);(0,react.useEffect)((function(){if(audioVideo&&videoEl.current)return audioVideo.bindVideoElement(tileId,videoEl.current),function(){audioVideo.getVideoTile(tileId)&&audioVideo.unbindVideoElement(tileId)}}),[audioVideo,tileId]);var registrantId=(0,react.useMemo)((function(){return tileIdToAttendeeId[tileId]}),[tileIdToAttendeeId,tileId]),muted=(0,index_esm.ZzJ)(registrantId).muted;(0,react.useEffect)((function(){if(audioVideo&&registrantId&&borderEl.current){var smoothedVolume=0,callback=function callback(_,volume,__,___){borderEl.current&&(smoothedVolume-=smoothedVolume/3,smoothedVolume+=(null!=volume?volume:0)/3)},decay=setInterval((function(){borderEl.current&&(borderEl.current.style.border=(smoothedVolume>.2?3:0)+"px solid green"),(smoothedVolume*=.5)<.1&&(smoothedVolume=0)}),1e3);return audioVideo.realtimeSubscribeToVolumeIndicator(registrantId,callback),function(){audioVideo.realtimeUnsubscribeFromVolumeIndicator(registrantId,callback),clearTimeout(decay)}}}),[registrantId,audioVideo]);var connectionData=(0,react.useMemo)((function(){var _roster$registrantId;return JSON.stringify({registrantId:null===(_roster$registrantId=roster[registrantId])||void 0===_roster$registrantId?void 0:_roster$registrantId.externalUserId})}),[registrantId,roster]);return(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xu,{"data-testid":"video-tile",position:"relative",flex:"0 0 "+participantWidth+"px",w:participantWidth,h:participantWidth,children:[(0,jsx_runtime.jsx)("video",{ref:videoEl,style:{zIndex:200,position:"relative",height:"100%"}}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{position:"absolute",left:"1",bottom:"1",zIndex:"200",w:"100%",children:(0,jsx_runtime.jsx)(VonageOverlay,{connectionData,microphoneEnabled:!muted})}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{position:"absolute",zIndex:"200",left:"0",top:"0",height:"100%",width:"100%",pointerEvents:"none",ref:borderEl}),(0,jsx_runtime.jsx)(PlaceholderImage,{connectionData})]})}RemoteVideo.displayName="RemoteVideo";try{RemoteVideo.displayName="RemoteVideo",RemoteVideo.__docgenInfo={description:"",displayName:"RemoteVideo",props:{tileId:{defaultValue:null,description:"",name:"tileId",required:!0,type:{name:"number"}},participantWidth:{defaultValue:null,description:"",name:"participantWidth",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Attend/Room/Chime/RemoteVideo.tsx#RemoteVideo"]={docgenInfo:RemoteVideo.__docgenInfo,name:"RemoteVideo",path:"src/aspects/Conference/Attend/Room/Chime/RemoteVideo.tsx#RemoteVideo"})}catch(__react_docgen_typescript_loader_error){}function RemoteVideos(_ref){var participantWidth=_ref.participantWidth,tiles=(0,index_esm.akC)().tiles;return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:tiles.map((function(tileId){return(0,jsx_runtime.jsx)(RemoteVideo,{tileId,participantWidth},tileId)}))})}try{RemoteVideos.displayName="RemoteVideos",RemoteVideos.__docgenInfo={description:"",displayName:"RemoteVideos",props:{participantWidth:{defaultValue:null,description:"",name:"participantWidth",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Attend/Room/Chime/RemoteVideos.tsx#RemoteVideos"]={docgenInfo:RemoteVideos.__docgenInfo,name:"RemoteVideos",path:"src/aspects/Conference/Attend/Room/Chime/RemoteVideos.tsx#RemoteVideos"})}catch(__react_docgen_typescript_loader_error){}function VideoTiles(_props){var tiles=(0,index_esm.akC)().tiles,contentTileId=(0,index_esm.EJc)().tileId,resolutionBP=(0,chakra_ui_media_query_esm.Sx)({base:"low",lg:"normal"}),screenSharingActive=!!contentTileId,maxVideoStreams=screenSharingActive?4:10,participantWidth="low"===(screenSharingActive||tiles.length>=maxVideoStreams?"low":null!=resolutionBP?resolutionBP:"normal")?150:300;return(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.kC,{width:"100%",height:"auto",flexWrap:null!==contentTileId?"nowrap":"wrap",overflowX:null!==contentTileId?"auto":"hidden",overflowY:null!==contentTileId?"hidden":"auto",children:[(0,jsx_runtime.jsx)(LocalVideo,{participantWidth}),(0,jsx_runtime.jsx)(RemoteVideos,{participantWidth})]})}VideoTiles.displayName="VideoTiles";try{VideoTiles.displayName="VideoTiles",VideoTiles.__docgenInfo={description:"",displayName:"VideoTiles",props:{layout:{defaultValue:null,description:"",name:"layout",required:!1,type:{name:"string"}},noRemoteVideoView:{defaultValue:null,description:"",name:"noRemoteVideoView",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Attend/Room/Chime/VideoTiles.tsx#VideoTiles"]={docgenInfo:VideoTiles.__docgenInfo,name:"VideoTiles",path:"src/aspects/Conference/Attend/Room/Chime/VideoTiles.tsx#VideoTiles"})}catch(__react_docgen_typescript_loader_error){}function ChimeRoom_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function ChimeRoom_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){ChimeRoom_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){ChimeRoom_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function ChimeRoom(_ref){var roomId=_ref.roomId,getMeetingData=_ref.getMeetingData,disable=_ref.disable,location=(0,react_router.TH)(),locationParts=(location.pathname.startsWith("/")?location.pathname.substr(1):location.pathname).split("/"),roomCouldBeInUse="conference"===locationParts[0]&&"room"===locationParts[2];return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(ChatProfileModalProvider.Z,{children:(0,jsx_runtime.jsx)(ChimeRoomInner,{stop:!roomCouldBeInUse||disable,getMeetingData,roomId})})})}function ChimeRoomInner(_ref2){var getMeetingData=_ref2.getMeetingData,stop=_ref2.stop,roomId=_ref2.roomId,meetingStatus=(0,index_esm.dpf)(),meetingManager=(0,index_esm.fjl)(),toggleVideo=(0,index_esm.Onx)().toggleVideo,toast=(0,chakra_ui_toast_esm.pm)();(0,react.useEffect)((function(){meetingManager.leave().catch((function(e){return console.error("Failed to leave Chime room",e)}))}),[roomId]),(0,react.useEffect)((function(){stop&&meetingManager.leave().catch((function(e){return console.error("Failed to leave Chime room",e)}))}),[meetingManager,stop]);var joinRoom=(0,react.useCallback)(ChimeRoom_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var meetingData;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,null==getMeetingData?void 0:getMeetingData();case 3:if(meetingData=_context.sent){_context.next=6;break}throw new Error("No meeting data returned");case 6:return _context.next=8,meetingManager.join(meetingData);case 8:return _context.next=10,toggleVideo();case 10:console.log("Initialized meeting"),_context.next=17;break;case 13:_context.prev=13,_context.t0=_context.catch(0),console.error("Failed to join Chime room",{err:_context.t0}),toast({title:"Failed to get join room",status:"error",description:_context.t0.message});case 17:case"end":return _context.stop()}}),_callee,null,[[0,13]])}))),[getMeetingData,meetingManager,toast,toggleVideo]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(PermissionsExplanationModal,{}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{children:(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xu,{position:"relative",width:"100%",children:[meetingManager.meetingSession&&meetingStatus===index_esm.ytK.Loading?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ChimeRoomControlBar,{}),(0,jsx_runtime.jsx)(DeviceSetup,{})]}):void 0,meetingManager.meetingSession?void 0:(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{textAlign:"center",children:(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{colorScheme:"PrimaryActionButton",w:"10em",h:"6ex",fontSize:"xl",my:8,onClick:joinRoom,isLoading:!1,variant:"glowing",children:"Join Room"})}),meetingStatus===index_esm.ytK.Succeeded?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ChimeRoomControlBar,{}),(0,jsx_runtime.jsx)(ContentShare,{}),(0,jsx_runtime.jsx)(VideoTiles,{})]}):void 0,meetingStatus===index_esm.ytK.Ended?(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{children:"Ended"}):void 0,meetingStatus===index_esm.ytK.Failed?(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{children:"Failed"}):void 0]})})]})}try{ChimeRoom.displayName="ChimeRoom",ChimeRoom.__docgenInfo={description:"",displayName:"ChimeRoom",props:{roomId:{defaultValue:null,description:"",name:"roomId",required:!0,type:{name:"string"}},getMeetingData:{defaultValue:null,description:"",name:"getMeetingData",required:!1,type:{name:"(() => Promise<{ meetingInfo: Meeting; attendeeInfo: Attendee; }>)"}},disable:{defaultValue:null,description:"",name:"disable",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Attend/Room/Chime/ChimeRoom.tsx#ChimeRoom"]={docgenInfo:ChimeRoom.__docgenInfo,name:"ChimeRoom",path:"src/aspects/Conference/Attend/Room/Chime/ChimeRoom.tsx#ChimeRoom"})}catch(__react_docgen_typescript_loader_error){}},"./src/aspects/Conference/Attend/Room/VideoChat/PermissionInstructions.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S$:()=>devicesToFriendlyName,vj:()=>PermissionInstructions});__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.join.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.object.assign.js");var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../node_modules/.pnpm/@chakra-ui+layout@1.7.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/layout/dist/chakra-ui-layout.esm.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../node_modules/.pnpm/@chakra-ui+image@1.1.5_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/image/dist/chakra-ui-image.esm.js"),detect_browser__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../node_modules/.pnpm/detect-browser@5.3.0/node_modules/detect-browser/es/index.js"),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),_images_chrome_permissions_png__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/aspects/Conference/Attend/Room/VideoChat/images/chrome-permissions.png"),_images_chrome_screenshare_png__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/aspects/Conference/Attend/Room/VideoChat/images/chrome-screenshare.png"),_images_firefox_permissions_png__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/aspects/Conference/Attend/Room/VideoChat/images/firefox-permissions.png"),_images_safari_permissions_png__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/aspects/Conference/Attend/Room/VideoChat/images/safari-permissions.png"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function devicesToFriendlyName(devices){var connective=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"or",selectedDevices=Object.entries(devices).filter((function(x){return x[1]})).map((function(x){return x[0]}));switch(selectedDevices.length){case 0:return"device";case 1:return selectedDevices[0];default:var head=selectedDevices.slice(0,-1).join(", "),tail=connective+" "+selectedDevices[selectedDevices.length-1];return head+" "+tail}}function PermissionInstructions(_ref){var props=_extends({},_ref),detected=(0,react__WEBPACK_IMPORTED_MODULE_7__.useMemo)((function(){return(0,detect_browser__WEBPACK_IMPORTED_MODULE_13__.detect)()}),[]),browserInstructionsEl=(0,react__WEBPACK_IMPORTED_MODULE_7__.useMemo)((function(){switch(null==detected?void 0:detected.name){case"chrome":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(PermissionInstructionsChrome,Object.assign({},props));case"firefox":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(PermissionInstructionsFirefox,Object.assign({},props));case"safari":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(PermissionInstructionsSafari,Object.assign({},props));default:return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(PermissionInstructionsOther,Object.assign({},props))}}),[null==detected?void 0:detected.name,props]),osInstructionsEl=(0,react__WEBPACK_IMPORTED_MODULE_7__.useMemo)((function(){if("Mac OS"===(null==detected?void 0:detected.os))return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(PermissionInstructionsMacOs,Object.assign({},props))}),[null==detected?void 0:detected.os,props]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment,{children:[browserInstructionsEl,osInstructionsEl,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(PermissionInstructionsOtherApplications,{})]})}var imageProps={mx:"5%",my:4,w:"auto",maxW:"90%",boxShadow:"lg",rounded:"xl"};function PermissionInstructionsChrome(devices){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment,{children:[devices.camera||devices.microphone?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.xv,{children:["It seems that your web browser is not allowing Midspace to access the"," ",devicesToFriendlyName(devices),". Update your settings by clicking the icon in the address bar and setting the Camera and Microphone permissions to Allow."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_15__.Ee,Object.assign({},imageProps,{src:_images_chrome_permissions_png__WEBPACK_IMPORTED_MODULE_8__,maxH:"50vh",alt:"Use the permissions controls in the left end of the Chrome address bar to manage camera and microphone permissions."})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.xv,{children:["If you need more help, see the"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.rU,{isExternal:!0,href:"https://support.google.com/chrome/answer/2693767?co=GENIE.Platform%3DDesktop",children:"official Google Chrome instructions"}),"."]})]}):void 0,devices.screen?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.xv,{children:["The screen could not be shared. Did you click ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("em",{children:"Cancel"}),"?"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.xv,{children:["To share, choose a screen, window or tab and click the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("em",{children:"Share"})," button."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_15__.Ee,Object.assign({},imageProps,{src:_images_chrome_screenshare_png__WEBPACK_IMPORTED_MODULE_9__,maxH:"50vh",alt:"The Chrome 'Choose what to share' dialog, showing the list of tabs that can be shared."}))]}):void 0]})}function PermissionInstructionsFirefox(devices){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.xv,{children:["It seems that your web browser is not allowing Midspace to access the ",devicesToFriendlyName(devices),". Remove any blocked devices by clicking the icon in the address bar and then the appropriate x button."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_15__.Ee,Object.assign({},imageProps,{src:_images_firefox_permissions_png__WEBPACK_IMPORTED_MODULE_10__,alt:"Use the permissions controls in the left end of the Firefox address bar to manage "+devicesToFriendlyName(devices,"and")+" permissions."})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.xv,{children:["If you need more help, see the"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.rU,{isExternal:!0,href:"https://support.mozilla.org/en-US/kb/how-manage-your-camera-and-microphone-permissions",children:"official Mozilla Firefox instructions"}),"."]})]})}function PermissionInstructionsSafari(devices){var _window$location$host;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.xv,{children:["It seems that your web browser is not allowing Midspace to access the ",devicesToFriendlyName(devices),". You may need to tell Safari to allow this. Open ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("em",{children:"Safari  Preferences..."})," and go to the"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("em",{children:"Website"})," tab. Choose to Allow access to the"," ",devicesToFriendlyName(devices,"and")," on ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("em",{children:null!==(_window$location$host=window.location.host)&&void 0!==_window$location$host?_window$location$host:"Midspace"}),"."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_15__.Ee,Object.assign({},imageProps,{src:_images_safari_permissions_png__WEBPACK_IMPORTED_MODULE_11__,alt:"Use the Websites tab in Safari's preferences to manage "+devicesToFriendlyName(devices,"and")+" permissions."}))]})}function PermissionInstructionsOther(devices){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.xv,{children:["It seems that your web browser is not allowing Midspace to access the ",devicesToFriendlyName(devices),". Please check your browser settings and try again."]})})}function PermissionInstructionsMacOs(devices){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.X6,{as:"h2",size:"sm",textAlign:"left",mb:2,mt:4,children:"Using macOS?"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.xv,{children:["macOS will not allow your browser to access the ",devicesToFriendlyName(devices)," unless you have given permission to do so."," ",devices.screen?"Permissions controls for screen recording were introduced in macOS Catalina (10.15). ":"","You may find the following helpful:"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.aV,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.HC,{children:devices.camera?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.rU,{isExternal:!0,href:"https://support.apple.com/en-gb/guide/mac-help/mchlf6d108da/mac",children:"Control access to the camera on your Mac"}):void 0}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.HC,{children:devices.microphone?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.rU,{isExternal:!0,href:"https://support.apple.com/en-gb/guide/mac-help/mchla1b1e1fe/mac",children:"Control access to the microphone on your Mac"}):void 0}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.HC,{children:devices.screen?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.rU,{isExternal:!0,href:"https://support.apple.com/en-gb/guide/mac-help/mchld6aa7d23/mac",children:"Control access to screen recording on your Mac"}):void 0})]})]})}function PermissionInstructionsOtherApplications(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.X6,{as:"h2",size:"sm",textAlign:"left",mb:2,mt:4,children:"Check other applications"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.xv,{children:"Make sure you have fully exited other video applications like Zoom, Skype or Google Meet. These may prevent Midspace from accessing your camera or microphone."})]})}try{PermissionInstructions.displayName="PermissionInstructions",PermissionInstructions.__docgenInfo={description:"",displayName:"PermissionInstructions",props:{camera:{defaultValue:null,description:"",name:"camera",required:!1,type:{name:"boolean"}},microphone:{defaultValue:null,description:"",name:"microphone",required:!1,type:{name:"boolean"}},screen:{defaultValue:null,description:"",name:"screen",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Attend/Room/VideoChat/PermissionInstructions.tsx#PermissionInstructions"]={docgenInfo:PermissionInstructions.__docgenInfo,name:"PermissionInstructions",path:"src/aspects/Conference/Attend/Room/VideoChat/PermissionInstructions.tsx#PermissionInstructions"})}catch(__react_docgen_typescript_loader_error){}try{PermissionInstructionsChrome.displayName="PermissionInstructionsChrome",PermissionInstructionsChrome.__docgenInfo={description:"",displayName:"PermissionInstructionsChrome",props:{camera:{defaultValue:null,description:"",name:"camera",required:!1,type:{name:"boolean"}},microphone:{defaultValue:null,description:"",name:"microphone",required:!1,type:{name:"boolean"}},screen:{defaultValue:null,description:"",name:"screen",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Attend/Room/VideoChat/PermissionInstructions.tsx#PermissionInstructionsChrome"]={docgenInfo:PermissionInstructionsChrome.__docgenInfo,name:"PermissionInstructionsChrome",path:"src/aspects/Conference/Attend/Room/VideoChat/PermissionInstructions.tsx#PermissionInstructionsChrome"})}catch(__react_docgen_typescript_loader_error){}try{PermissionInstructionsFirefox.displayName="PermissionInstructionsFirefox",PermissionInstructionsFirefox.__docgenInfo={description:"",displayName:"PermissionInstructionsFirefox",props:{camera:{defaultValue:null,description:"",name:"camera",required:!1,type:{name:"boolean"}},microphone:{defaultValue:null,description:"",name:"microphone",required:!1,type:{name:"boolean"}},screen:{defaultValue:null,description:"",name:"screen",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Attend/Room/VideoChat/PermissionInstructions.tsx#PermissionInstructionsFirefox"]={docgenInfo:PermissionInstructionsFirefox.__docgenInfo,name:"PermissionInstructionsFirefox",path:"src/aspects/Conference/Attend/Room/VideoChat/PermissionInstructions.tsx#PermissionInstructionsFirefox"})}catch(__react_docgen_typescript_loader_error){}try{PermissionInstructionsSafari.displayName="PermissionInstructionsSafari",PermissionInstructionsSafari.__docgenInfo={description:"",displayName:"PermissionInstructionsSafari",props:{camera:{defaultValue:null,description:"",name:"camera",required:!1,type:{name:"boolean"}},microphone:{defaultValue:null,description:"",name:"microphone",required:!1,type:{name:"boolean"}},screen:{defaultValue:null,description:"",name:"screen",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Attend/Room/VideoChat/PermissionInstructions.tsx#PermissionInstructionsSafari"]={docgenInfo:PermissionInstructionsSafari.__docgenInfo,name:"PermissionInstructionsSafari",path:"src/aspects/Conference/Attend/Room/VideoChat/PermissionInstructions.tsx#PermissionInstructionsSafari"})}catch(__react_docgen_typescript_loader_error){}try{PermissionInstructionsOther.displayName="PermissionInstructionsOther",PermissionInstructionsOther.__docgenInfo={description:"",displayName:"PermissionInstructionsOther",props:{camera:{defaultValue:null,description:"",name:"camera",required:!1,type:{name:"boolean"}},microphone:{defaultValue:null,description:"",name:"microphone",required:!1,type:{name:"boolean"}},screen:{defaultValue:null,description:"",name:"screen",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Attend/Room/VideoChat/PermissionInstructions.tsx#PermissionInstructionsOther"]={docgenInfo:PermissionInstructionsOther.__docgenInfo,name:"PermissionInstructionsOther",path:"src/aspects/Conference/Attend/Room/VideoChat/PermissionInstructions.tsx#PermissionInstructionsOther"})}catch(__react_docgen_typescript_loader_error){}},"./src/aspects/Conference/Attend/Room/VideoChat/images/chrome-permissions.png":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"static/media/chrome-permissions.737aeca2.png"},"./src/aspects/Conference/Attend/Room/VideoChat/images/chrome-screenshare.png":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"static/media/chrome-screenshare.9844ffa0.png"},"./src/aspects/Conference/Attend/Room/VideoChat/images/firefox-permissions.png":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"static/media/firefox-permissions.3138caf6.png"},"./src/aspects/Conference/Attend/Room/VideoChat/images/safari-permissions.png":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"static/media/safari-permissions.6631699f.png"}}]);