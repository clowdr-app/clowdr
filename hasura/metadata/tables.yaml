- table:
    schema: chat
    name: Chat
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: duplicateTo
    using:
      foreign_key_constraint_on: duplicateToId
  array_relationships:
  - name: contentGroup
    using:
      foreign_key_constraint_on:
        column: chatId
        table:
          schema: public
          name: ContentGroup
  - name: duplicatesFrom
    using:
      foreign_key_constraint_on:
        column: duplicateToId
        table:
          schema: chat
          name: Chat
  - name: flags
    using:
      foreign_key_constraint_on:
        column: discussionChatId
        table:
          schema: chat
          name: Flag
  - name: messages
    using:
      foreign_key_constraint_on:
        column: chatId
        table:
          schema: chat
          name: Message
  - name: pins
    using:
      foreign_key_constraint_on:
        column: chatId
        table:
          schema: chat
          name: Pin
  - name: readUpToIndices
    using:
      foreign_key_constraint_on:
        column: chatId
        table:
          schema: chat
          name: ReadUpToIndex
  - name: room
    using:
      foreign_key_constraint_on:
        column: chatId
        table:
          schema: public
          name: Room
  - name: subscriptions
    using:
      foreign_key_constraint_on:
        column: chatId
        table:
          schema: chat
          name: Subscription
  - name: typers
    using:
      foreign_key_constraint_on:
        column: chatId
        table:
          schema: chat
          name: Typer
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - id
      filter: {}
  - role: user
    permission:
      columns:
      - conferenceId
      - created_at
      - enableAutoPin
      - enableAutoSubscribe
      - enableMandatoryPin
      - enableMandatorySubscribe
      - id
      - restrictToAdmins
      - updated_at
      filter:
        _and:
        - _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_VIEW_ATTENDEES
                    - CONFERENCE_MANAGE_SCHEDULE
                    - CONFERENCE_MODERATE_ATTENDEES
              _table:
                schema: public
                name: FlatUserPermission
        - _or:
          - room:
              _or:
              - roomPrivacyName:
                  _eq: PUBLIC
              - roomPeople:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
          - _not:
              room: {}
  update_permissions:
  - role: user
    permission:
      columns:
      - enableAutoPin
      - enableAutoSubscribe
      - enableMandatoryPin
      - enableMandatorySubscribe
      - restrictToAdmins
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
- table:
    schema: chat
    name: Flag
  object_relationships:
  - name: discussionChat
    using:
      foreign_key_constraint_on: discussionChatId
  - name: flaggedBy
    using:
      foreign_key_constraint_on: flaggedById
  - name: message
    using:
      foreign_key_constraint_on: messageId
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - flaggedBy:
            userId:
              _eq: X-Hasura-User-Id
        - message:
            chat:
              _or:
              - _and:
                - restrictToAdmins:
                    _eq: false
                - conference:
                    groups:
                      _and:
                      - enabled:
                          _eq: true
                      - groupRoles:
                          role:
                            rolePermissions:
                              _or:
                              - permissionName:
                                  _eq: CONFERENCE_VIEW
                              - permissionName:
                                  _eq: CONFERENCE_MANAGE_ATTENDEES
                              - permissionName:
                                  _eq: CONFERENCE_VIEW_ATTENDEES
                      - _or:
                        - includeUnauthenticated:
                            _eq: true
                        - groupAttendees:
                            attendee:
                              userId:
                                _eq: X-Hasura-User-Id
                - _or:
                  - room:
                      _or:
                      - roomPrivacyName:
                          _eq: PUBLIC
                      - roomPeople:
                          attendee:
                            userId:
                              _eq: X-Hasura-User-Id
                  - _not:
                      room: {}
              - _and:
                - restrictToAdmins:
                    _eq: true
                - conference:
                    groups:
                      _and:
                      - enabled:
                          _eq: true
                      - groupRoles:
                          role:
                            rolePermissions:
                              permissionName:
                                _eq: CONFERENCE_MANAGE_ATTENDEES
                      - _or:
                        - includeUnauthenticated:
                            _eq: true
                        - groupAttendees:
                            attendee:
                              userId:
                                _eq: X-Hasura-User-Id
                - _or:
                  - room:
                      _or:
                      - roomPrivacyName:
                          _eq: PUBLIC
                      - roomPeople:
                          attendee:
                            userId:
                              _eq: X-Hasura-User-Id
                  - _not:
                      room: {}
      columns:
      - discussionChatId
      - flaggedById
      - id
      - messageId
      - notes
      - type
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - id
      - messageId
      - notes
      - resolution
      - type
      - created_at
      - resolved_at
      - updated_at
      - discussionChatId
      - flaggedById
      filter:
        _or:
        - flaggedBy:
            userId:
              _eq: X-Hasura-User-Id
        - message:
            chat:
              conference:
                groups:
                  _and:
                  - enabled:
                      _eq: true
                  - groupRoles:
                      role:
                        rolePermissions:
                          permissionName:
                            _eq: CONFERENCE_MANAGE_ATTENDEES
                  - _or:
                    - includeUnauthenticated:
                        _eq: true
                    - groupAttendees:
                        attendee:
                          userId:
                            _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - discussionChatId
      - id
      - notes
      - resolution
      - resolved_at
      - type
      filter:
        _and:
        - resolved_at:
            _is_null: true
        - _or:
          - flaggedBy:
              userId:
                _eq: X-Hasura-User-Id
          - message:
              chat:
                conference:
                  groups:
                    _and:
                    - enabled:
                        _eq: true
                    - groupRoles:
                        role:
                          rolePermissions:
                            permissionName:
                              _eq: CONFERENCE_MANAGE_ATTENDEES
                    - _or:
                      - includeUnauthenticated:
                          _eq: true
                      - groupAttendees:
                          attendee:
                            userId:
                              _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - resolved_at:
            _is_null: true
        - flaggedBy:
            userId:
              _eq: X-Hasura-User-Id
- table:
    schema: chat
    name: FlagType
  is_enum: true
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - description
      - name
      filter: {}
  - role: user
    permission:
      columns:
      - name
      - description
      filter: {}
- table:
    schema: chat
    name: Message
  object_relationships:
  - name: chat
    using:
      foreign_key_constraint_on: chatId
  - name: duplicateIncoming
    using:
      manual_configuration:
        remote_table:
          schema: chat
          name: Message
        column_mapping:
          id: duplicatedMessageId
  - name: duplicateOutgoing
    using:
      foreign_key_constraint_on: duplicatedMessageId
  - name: sender
    using:
      foreign_key_constraint_on: senderId
  array_relationships:
  - name: flags
    using:
      foreign_key_constraint_on:
        column: messageId
        table:
          schema: chat
          name: Flag
  - name: reactions
    using:
      foreign_key_constraint_on:
        column: messageId
        table:
          schema: chat
          name: Reaction
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - sender:
            userId:
              _eq: X-Hasura-User-Id
        - chat:
            _or:
            - _and:
              - restrictToAdmins:
                  _eq: false
              - _and:
                - conference:
                    slug:
                      _eq: X-Hasura-Conference-Slug
                - _exists:
                    _where:
                      _and:
                      - user_id:
                          _eq: X-Hasura-User-Id
                      - slug:
                          _eq: X-Hasura-Conference-Slug
                      - permission_name:
                          _in:
                          - CONFERENCE_MANAGE_ATTENDEES
                          - CONFERENCE_VIEW_ATTENDEES
                    _table:
                      schema: public
                      name: FlatUserPermission
              - _or:
                - room:
                    _or:
                    - roomPrivacyName:
                        _eq: PUBLIC
                    - roomPeople:
                        attendee:
                          userId:
                            _eq: X-Hasura-User-Id
                - _not:
                    room: {}
            - _and:
              - restrictToAdmins:
                  _eq: true
              - _and:
                - conference:
                    slug:
                      _eq: X-Hasura-Conference-Slug
                - _exists:
                    _where:
                      _and:
                      - user_id:
                          _eq: X-Hasura-User-Id
                      - slug:
                          _eq: X-Hasura-Conference-Slug
                      - permission_name:
                          _in:
                          - CONFERENCE_MANAGE_ATTENDEES
                          - CONFERENCE_MODERATE_ATTENDEES
                    _table:
                      schema: public
                      name: FlatUserPermission
              - _or:
                - room:
                    _or:
                    - roomPrivacyName:
                        _eq: PUBLIC
                    - roomPeople:
                        attendee:
                          userId:
                            _eq: X-Hasura-User-Id
                - _not:
                    room: {}
      columns:
      - chatId
      - chatTitle
      - data
      - duplicatedMessageId
      - id
      - isPinned
      - message
      - senderId
      - senderName
      - type
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - isPinned
      - duplicatedMessageId
      - id
      - data
      - chatTitle
      - message
      - senderName
      - systemId
      - type
      - created_at
      - updated_at
      - chatId
      - senderId
      filter:
        chat:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _or:
            - room:
                _or:
                - roomPrivacyName:
                    _eq: PUBLIC
                - roomPeople:
                    attendee:
                      userId:
                        _eq: X-Hasura-User-Id
            - _not:
                room: {}
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_ATTENDEES
                    - CONFERENCE_MODERATE_ATTENDEES
                    - CONFERENCE_VIEW_ATTENDEES
              _table:
                schema: public
                name: FlatUserPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - data
      - duplicatedMessageId
      - isPinned
      - message
      filter:
        _and:
        - sender:
            userId:
              _eq: X-Hasura-User-Id
        - chat:
            _or:
            - _and:
              - restrictToAdmins:
                  _eq: false
              - _and:
                - conference:
                    slug:
                      _eq: X-Hasura-Conference-Slug
                - _exists:
                    _where:
                      _and:
                      - user_id:
                          _eq: X-Hasura-User-Id
                      - slug:
                          _eq: X-Hasura-Conference-Slug
                      - permission_name:
                          _in:
                          - CONFERENCE_MANAGE_ATTENDEES
                          - CONFERENCE_VIEW_ATTENDEES
                    _table:
                      schema: public
                      name: FlatUserPermission
              - _or:
                - room:
                    _or:
                    - roomPrivacyName:
                        _eq: PUBLIC
                    - roomPeople:
                        attendee:
                          userId:
                            _eq: X-Hasura-User-Id
                - _not:
                    room: {}
            - _and:
              - restrictToAdmins:
                  _eq: true
              - _and:
                - conference:
                    slug:
                      _eq: X-Hasura-Conference-Slug
                - _exists:
                    _where:
                      _and:
                      - user_id:
                          _eq: X-Hasura-User-Id
                      - slug:
                          _eq: X-Hasura-Conference-Slug
                      - permission_name:
                          _in:
                          - CONFERENCE_MANAGE_ATTENDEES
                          - CONFERENCE_MODERATE_ATTENDEES
                    _table:
                      schema: public
                      name: FlatUserPermission
              - _or:
                - room:
                    _or:
                    - roomPrivacyName:
                        _eq: PUBLIC
                    - roomPeople:
                        attendee:
                          userId:
                            _eq: X-Hasura-User-Id
                - _not:
                    room: {}
      check: {}
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - sender:
            userId:
              _eq: X-Hasura-User-Id
        - chat:
            _or:
            - _and:
              - restrictToAdmins:
                  _eq: false
              - _and:
                - conference:
                    slug:
                      _eq: X-Hasura-Conference-Slug
                - _exists:
                    _where:
                      _and:
                      - user_id:
                          _eq: X-Hasura-User-Id
                      - slug:
                          _eq: X-Hasura-Conference-Slug
                      - permission_name:
                          _in:
                          - CONFERENCE_MANAGE_ATTENDEES
                          - CONFERENCE_VIEW_ATTENDEES
                    _table:
                      schema: public
                      name: FlatUserPermission
              - _or:
                - room:
                    _or:
                    - roomPrivacyName:
                        _eq: PUBLIC
                    - roomPeople:
                        attendee:
                          userId:
                            _eq: X-Hasura-User-Id
                - _not:
                    room: {}
            - _and:
              - restrictToAdmins:
                  _eq: true
              - _and:
                - conference:
                    slug:
                      _eq: X-Hasura-Conference-Slug
                - _exists:
                    _where:
                      _and:
                      - user_id:
                          _eq: X-Hasura-User-Id
                      - slug:
                          _eq: X-Hasura-Conference-Slug
                      - permission_name:
                          _in:
                          - CONFERENCE_MANAGE_ATTENDEES
                          - CONFERENCE_MODERATE_ATTENDEES
                    _table:
                      schema: public
                      name: FlatUserPermission
              - _or:
                - room:
                    _or:
                    - roomPrivacyName:
                        _eq: PUBLIC
                    - roomPeople:
                        attendee:
                          userId:
                            _eq: X-Hasura-User-Id
                - _not:
                    room: {}
- table:
    schema: chat
    name: MessageType
  is_enum: true
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - name
      filter: {}
  - role: user
    permission:
      columns:
      - name
      filter: {}
- table:
    schema: chat
    name: Pin
  object_relationships:
  - name: attendee
    using:
      foreign_key_constraint_on: attendeeId
  - name: chat
    using:
      foreign_key_constraint_on: chatId
  insert_permissions:
  - role: user
    permission:
      check:
        attendee:
          userId:
            _eq: X-Hasura-User-Id
      columns:
      - attendeeId
      - chatId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - wasManuallyPinned
      - created_at
      - attendeeId
      - chatId
      filter:
        attendee:
          userId:
            _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - wasManuallyPinned
      filter:
        attendee:
          userId:
            _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        attendee:
          userId:
            _eq: X-Hasura-User-Id
- table:
    schema: chat
    name: Reaction
  object_relationships:
  - name: duplicate
    using:
      foreign_key_constraint_on: duplicateId
  - name: message
    using:
      foreign_key_constraint_on: messageId
  - name: sender
    using:
      foreign_key_constraint_on: senderId
  array_relationships:
  - name: duplicates
    using:
      foreign_key_constraint_on:
        column: duplicateId
        table:
          schema: chat
          name: Reaction
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - sender:
            userId:
              _eq: X-Hasura-User-Id
        - message:
            chat:
              _and:
              - conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
              - _or:
                - room:
                    _or:
                    - roomPrivacyName:
                        _eq: PUBLIC
                    - roomPeople:
                        attendee:
                          userId:
                            _eq: X-Hasura-User-Id
                - _not:
                    room: {}
              - _exists:
                  _where:
                    _and:
                    - user_id:
                        _eq: X-Hasura-User-Id
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _in:
                        - CONFERENCE_MANAGE_ATTENDEES
                        - CONFERENCE_MODERATE_ATTENDEES
                        - CONFERENCE_VIEW_ATTENDEES
                  _table:
                    schema: public
                    name: FlatUserPermission
      columns:
      - data
      - id
      - messageId
      - senderId
      - symbol
      - type
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - id
      - messageId
      - data
      - symbol
      - type
      - created_at
      - updated_at
      - senderId
      filter:
        message:
          chat:
            _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _or:
              - room:
                  _or:
                  - roomPrivacyName:
                      _eq: PUBLIC
                  - roomPeople:
                      attendee:
                        userId:
                          _eq: X-Hasura-User-Id
              - _not:
                  room: {}
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_ATTENDEES
                      - CONFERENCE_MODERATE_ATTENDEES
                      - CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - sender:
            userId:
              _eq: X-Hasura-User-Id
        - message:
            chat:
              _and:
              - conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
              - _or:
                - room:
                    _or:
                    - roomPrivacyName:
                        _eq: PUBLIC
                    - roomPeople:
                        attendee:
                          userId:
                            _eq: X-Hasura-User-Id
                - _not:
                    room: {}
              - _exists:
                  _where:
                    _and:
                    - user_id:
                        _eq: X-Hasura-User-Id
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _in:
                        - CONFERENCE_MANAGE_ATTENDEES
                        - CONFERENCE_MODERATE_ATTENDEES
                  _table:
                    schema: public
                    name: FlatUserPermission
- table:
    schema: chat
    name: ReactionType
  is_enum: true
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - description
      - name
      filter: {}
  - role: user
    permission:
      columns:
      - name
      - description
      filter: {}
- table:
    schema: chat
    name: ReadUpToIndex
  object_relationships:
  - name: attendee
    using:
      foreign_key_constraint_on: attendeeId
  - name: chat
    using:
      foreign_key_constraint_on: chatId
  computed_fields:
  - name: unreadCount
    definition:
      function:
        schema: chat
        name: unreadCount
    comment: ""
  - name: unnotifiedCount
    definition:
      function:
        schema: chat
        name: unnotifiedCount
    comment: ""
  insert_permissions:
  - role: user
    permission:
      check:
        attendee:
          userId:
            _eq: X-Hasura-User-Id
      columns:
      - attendeeId
      - chatId
      - messageId
      - notifiedUpToMessageId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - attendeeId
      - chatId
      - messageId
      - notifiedUpToMessageId
      - updated_at
      computed_fields:
      - unreadCount
      filter:
        attendee:
          userId:
            _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - messageId
      - notifiedUpToMessageId
      filter:
        attendee:
          userId:
            _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        attendee:
          userId:
            _eq: X-Hasura-User-Id
- table:
    schema: chat
    name: Subscription
  object_relationships:
  - name: attendee
    using:
      foreign_key_constraint_on: attendeeId
  - name: chat
    using:
      foreign_key_constraint_on: chatId
  insert_permissions:
  - role: user
    permission:
      check:
        attendee:
          userId:
            _eq: X-Hasura-User-Id
      columns:
      - attendeeId
      - chatId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - wasManuallySubscribed
      - created_at
      - attendeeId
      - chatId
      filter:
        attendee:
          userId:
            _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - wasManuallySubscribed
      filter:
        attendee:
          userId:
            _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        attendee:
          userId:
            _eq: X-Hasura-User-Id
- table:
    schema: chat
    name: SubscriptionsWithUnnotifiedMessages
  object_relationships:
  - name: attendee
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: Attendee
        column_mapping:
          attendeeId: id
  - name: chat
    using:
      manual_configuration:
        remote_table:
          schema: chat
          name: Chat
        column_mapping:
          chatId: id
- table:
    schema: chat
    name: Typer
  object_relationships:
  - name: attendee
    using:
      foreign_key_constraint_on: attendeeId
  - name: chat
    using:
      foreign_key_constraint_on: chatId
  insert_permissions:
  - role: user
    permission:
      check:
        attendee:
          userId:
            _eq: X-Hasura-User-Id
      columns:
      - attendeeId
      - chatId
      - updated_at
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - updated_at
      - attendeeId
      - chatId
      filter:
        chat:
          _or:
          - _and:
            - restrictToAdmins:
                _eq: false
            - conference:
                groups:
                  _and:
                  - enabled:
                      _eq: true
                  - groupRoles:
                      role:
                        rolePermissions:
                          _or:
                          - permissionName:
                              _eq: CONFERENCE_MANAGE_ATTENDEES
                          - permissionName:
                              _eq: CONFERENCE_VIEW_ATTENDEES
                  - _or:
                    - includeUnauthenticated:
                        _eq: true
                    - groupAttendees:
                        attendee:
                          userId:
                            _eq: X-Hasura-User-Id
            - _or:
              - room:
                  _or:
                  - roomPrivacyName:
                      _eq: PUBLIC
                  - roomPeople:
                      attendee:
                        userId:
                          _eq: X-Hasura-User-Id
              - _not:
                  room: {}
          - _and:
            - restrictToAdmins:
                _eq: true
            - conference:
                groups:
                  _and:
                  - enabled:
                      _eq: true
                  - groupRoles:
                      role:
                        rolePermissions:
                          permissionName:
                            _eq: CONFERENCE_MANAGE_ATTENDEES
                  - _or:
                    - includeUnauthenticated:
                        _eq: true
                    - groupAttendees:
                        attendee:
                          userId:
                            _eq: X-Hasura-User-Id
            - _or:
              - room:
                  _or:
                  - roomPrivacyName:
                      _eq: PUBLIC
                  - roomPeople:
                      attendee:
                        userId:
                          _eq: X-Hasura-User-Id
              - _not:
                  room: {}
  update_permissions:
  - role: user
    permission:
      columns:
      - updated_at
      filter:
        attendee:
          userId:
            _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter: {}
- table:
    schema: job_queues
    name: InvitationEmailJob
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  insert_permissions:
  - role: user
    permission:
      check:
        conference:
          _or:
          - createdBy:
              _eq: X-Hasura-User-Id
          - groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      _or:
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_ROLES
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_GROUPS
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_ATTENDEES
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
      columns:
      - attendeeIds
      - conferenceId
      - sendRepeat
      backend_only: false
- table:
    schema: job_queues
    name: MediaPackageHarvestJob
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: event
    using:
      foreign_key_constraint_on: eventId
  - name: jobStatus
    using:
      foreign_key_constraint_on: jobStatusName
  event_triggers:
  - name: MediaPackageHarvestJobUpdated
    definition:
      enable_manual: true
      insert:
        columns: '*'
      update:
        columns:
        - jobStatusName
        - mediaPackageHarvestJobId
        - message
        - created_at
        - updated_at
        - conferenceId
        - eventId
        - id
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/mediaPackageHarvestJob/updated'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: job_queues
    name: PublishVideoJob
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: contentItem
    using:
      foreign_key_constraint_on: contentItemId
  insert_permissions:
  - role: user
    permission:
      check:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _eq: CONFERENCE_MANAGE_CONTENT
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
      columns:
      - conferenceId
      - contentItemId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - contentItemId
      - created_at
      - id
      - jobStatusName
      - updated_at
      filter:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _eq: CONFERENCE_MANAGE_CONTENT
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
  event_triggers:
  - name: PublishVideoJob
    definition:
      enable_manual: true
      insert:
        columns: '*'
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/publishVideoJob/created'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: job_queues
    name: SubmissionRequestEmailJob
  object_relationships:
  - name: uploader
    using:
      foreign_key_constraint_on: uploaderId
  insert_permissions:
  - role: user
    permission:
      check:
        uploader:
          conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        permissionName:
                          _eq: CONFERENCE_MANAGE_CONTENT
                - groupAttendees:
                    attendee:
                      userId:
                        _eq: X-Hasura-User-Id
      columns:
      - uploaderId
      backend_only: false
- table:
    schema: public
    name: Attendee
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: invitation
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: Invitation
        column_mapping:
          id: attendeeId
  - name: profile
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: AttendeeProfile
        column_mapping:
          id: attendeeId
  - name: user
    using:
      foreign_key_constraint_on: userId
  array_relationships:
  - name: contentPeople
    using:
      foreign_key_constraint_on:
        column: attendeeId
        table:
          schema: public
          name: ContentPerson
  - name: eventPeople
    using:
      foreign_key_constraint_on:
        column: attendeeId
        table:
          schema: public
          name: EventPerson
  - name: groupAttendees
    using:
      foreign_key_constraint_on:
        column: attendeeId
        table:
          schema: public
          name: GroupAttendee
  - name: roomParticipants
    using:
      foreign_key_constraint_on:
        column: attendeeId
        table:
          schema: public
          name: RoomParticipant
  computed_fields:
  - name: inviteSent
    definition:
      function:
        schema: public
        name: hasbeeninvited
    comment: ""
  insert_permissions:
  - role: user
    permission:
      check:
        conference:
          _or:
          - createdBy:
              _eq: X-Hasura-User-Id
          - _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_ROLES
                      - CONFERENCE_MANAGE_GROUPS
                      - CONFERENCE_MANAGE_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
      columns:
      - conferenceId
      - displayName
      - id
      - userId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - created_at
      - displayName
      - id
      - updated_at
      - userId
      computed_fields:
      - inviteSent
      filter:
        _or:
        - _and:
          - userId:
              _is_null: false
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW_ATTENDEES
              _table:
                schema: public
                name: FlatUserPermission
        - _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_ROLES
                    - CONFERENCE_MANAGE_GROUPS
                    - CONFERENCE_MANAGE_ATTENDEES
              _table:
                schema: public
                name: FlatUserPermission
        - conference:
            createdBy:
              _eq: X-Hasura-User-Id
        - _and:
          - userId:
              _is_null: false
          - userId:
              _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - displayName
      - userId
      filter:
        _or:
        - userId:
            _eq: X-Hasura-User-Id
        - conference:
            createdBy:
              _eq: X-Hasura-User-Id
        - _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_ROLES
                    - CONFERENCE_MANAGE_GROUPS
                    - CONFERENCE_MANAGE_ATTENDEES
              _table:
                schema: public
                name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _or:
        - userId:
            _eq: X-Hasura-User-Id
        - conference:
            createdBy:
              _eq: X-Hasura-User-Id
        - _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_ROLES
                    - CONFERENCE_MANAGE_GROUPS
                    - CONFERENCE_MANAGE_ATTENDEES
              _table:
                schema: public
                name: FlatUserPermission
- table:
    schema: public
    name: AttendeeProfile
  object_relationships:
  - name: attendee
    using:
      foreign_key_constraint_on: attendeeId
  select_permissions:
  - role: user
    permission:
      columns:
      - affiliation
      - affiliationURL
      - attendeeId
      - badges
      - bio
      - country
      - github
      - hasBeenEdited
      - photoURL_350x350
      - photoURL_50x50
      - pronouns
      - timezoneUTCOffset
      - twitter
      - website
      filter:
        attendee:
          _or:
          - _and:
            - userId:
                _is_null: false
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
          - _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_ROLES
                      - CONFERENCE_MANAGE_GROUPS
                      - CONFERENCE_MANAGE_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - affiliation
      - affiliationURL
      - badges
      - bio
      - country
      - github
      - hasBeenEdited
      - pronouns
      - realName
      - timezoneUTCOffset
      - twitter
      - website
      filter:
        attendee:
          _or:
          - userId:
              _eq: X-Hasura-User-Id
          - _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_ROLES
                      - CONFERENCE_MANAGE_GROUPS
                      - CONFERENCE_MANAGE_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        attendee:
          conference:
            _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_ROLES
                      - CONFERENCE_MANAGE_GROUPS
                      - CONFERENCE_MANAGE_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
- table:
    schema: public
    name: Broadcast
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: event
    using:
      foreign_key_constraint_on: eventId
- table:
    schema: public
    name: BroadcastContentItem
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: contentItem
    using:
      foreign_key_constraint_on: contentItemId
  - name: event
    using:
      foreign_key_constraint_on: eventId
  - name: inputType
    using:
      foreign_key_constraint_on: inputTypeName
  array_relationships:
  - name: executedTransitions
    using:
      foreign_key_constraint_on:
        column: broadcastContentId
        table:
          schema: public
          name: ExecutedTransitions
  - name: fallbackForTransitions
    using:
      foreign_key_constraint_on:
        column: fallbackBroadcastContentId
        table:
          schema: public
          name: Transitions
  - name: transitions
    using:
      foreign_key_constraint_on:
        column: broadcastContentId
        table:
          schema: public
          name: Transitions
  event_triggers:
  - name: BroadcastContentItemUpdated
    definition:
      enable_manual: false
      insert:
        columns: '*'
      update:
        columns:
        - input
        - inputTypeName
        - conferenceId
        - contentItemId
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/broadcastContentItem/updated'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: public
    name: Conference
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: creator
    using:
      foreign_key_constraint_on: createdBy
  - name: demoCode
    using:
      foreign_key_constraint_on: demoCodeId
  array_relationships:
  - name: attendees
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: public
          name: Attendee
  - name: chats
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: chat
          name: Chat
  - name: configurations
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: public
          name: ConferenceConfiguration
  - name: contentGroups
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: public
          name: ContentGroup
  - name: contentPeople
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: public
          name: ContentPerson
  - name: groups
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: public
          name: Group
  - name: hallways
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: public
          name: Hallway
  - name: originatingDatas
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: public
          name: OriginatingData
  - name: roles
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: public
          name: Role
  - name: rooms
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: public
          name: Room
  - name: shufflePeriods
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: room
          name: ShufflePeriod
  - name: tags
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: public
          name: Tag
  insert_permissions:
  - role: user
    permission:
      check:
        demoCode:
          usedById:
            _is_null: true
      set:
        createdBy: x-hasura-User-Id
      columns:
      - demoCodeId
      - name
      - shortName
      - slug
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - createdBy
      - created_at
      - id
      - name
      - shortName
      - slug
      - updated_at
      filter:
        _and:
        - slug:
            _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_VIEW
            _table:
              schema: public
              name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - createdBy
      - created_at
      - id
      - name
      - shortName
      - slug
      - updated_at
      filter:
        _or:
        - createdBy:
            _eq: X-Hasura-User-Id
        - groups:
            _and:
            - enabled:
                _eq: true
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - name
      - shortName
      - slug
      filter:
        _or:
        - createdBy:
            _eq: X-Hasura-User-Id
        - _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_NAME
              _table:
                schema: public
                name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        createdBy:
          _eq: X-Hasura-User-Id
- table:
    schema: public
    name: ConferenceConfiguration
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
- table:
    schema: public
    name: ConferenceDemoCode
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: Conference
        column_mapping:
          id: demoCodeId
  - name: usedBy
    using:
      foreign_key_constraint_on: usedById
  select_permissions:
  - role: user
    permission:
      columns:
      - id
      - note
      - usedById
      filter:
        usedById:
          _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - note
      filter:
        usedById:
          _is_null: true
      check: {}
      set:
        usedById: x-hasura-User-Id
- table:
    schema: public
    name: ConferencePrepareJob
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: jobStatus
    using:
      foreign_key_constraint_on: jobStatusName
  array_relationships:
  - name: videoRenderJobs
    using:
      foreign_key_constraint_on:
        column: conferencePrepareJobId
        table:
          schema: public
          name: VideoRenderJob
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - conferenceId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - created_at
      - id
      - jobStatusName
      - message
      - updated_at
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
  event_triggers:
  - name: ConferencePrepareJobCreated
    definition:
      enable_manual: false
      insert:
        columns: '*'
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 300
    webhook: '{{ACTION_BASE_URL}}/conferencePrepareJob/inserted'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: public
    name: ContentGroup
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: chat
    using:
      foreign_key_constraint_on: chatId
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: contentGroupType
    using:
      foreign_key_constraint_on: contentGroupTypeName
  - name: originatingData
    using:
      foreign_key_constraint_on: originatingDataId
  - name: room
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: Room
        column_mapping:
          id: originatingContentGroupId
  array_relationships:
  - name: contentGroupTags
    using:
      foreign_key_constraint_on:
        column: contentGroupId
        table:
          schema: public
          name: ContentGroupTag
  - name: contentItems
    using:
      foreign_key_constraint_on:
        column: contentGroupId
        table:
          schema: public
          name: ContentItem
  - name: events
    using:
      foreign_key_constraint_on:
        column: contentGroupId
        table:
          schema: public
          name: Event
  - name: hallways
    using:
      foreign_key_constraint_on:
        column: groupId
        table:
          schema: public
          name: ContentGroupHallway
  - name: people
    using:
      foreign_key_constraint_on:
        column: groupId
        table:
          schema: public
          name: ContentGroupPerson
  - name: requiredContentItems
    using:
      foreign_key_constraint_on:
        column: contentGroupId
        table:
          schema: public
          name: RequiredContentItem
  - name: rooms
    using:
      foreign_key_constraint_on:
        column: originatingContentGroupId
        table:
          schema: public
          name: Room
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - conferenceId
      - contentGroupTypeName
      - id
      - originatingDataId
      - shortTitle
      - title
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - chatId
      - conferenceId
      - contentGroupTypeName
      - created_at
      - id
      - originatingDataId
      - shortTitle
      - title
      - updated_at
      filter:
        conference:
          _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - chatId
      - conferenceId
      - contentGroupTypeName
      - id
      - originatingDataId
      - shortTitle
      - title
      - updated_at
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_VIEW
                    - CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - contentGroupTypeName
      - originatingDataId
      - shortTitle
      - title
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      check: {}
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
- table:
    schema: public
    name: ContentGroupHallway
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: contentGroup
    using:
      foreign_key_constraint_on: groupId
  - name: hallway
    using:
      foreign_key_constraint_on: hallwayId
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - conferenceId
      - groupId
      - hallwayId
      - id
      - layout
      - priority
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - conferenceId
      - groupId
      - hallwayId
      - id
      - layout
      - priority
      filter:
        conference:
          _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - conferenceId
      - groupId
      - hallwayId
      - id
      - layout
      - priority
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_VIEW
                    - CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - layout
      - priority
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
- table:
    schema: public
    name: ContentGroupPerson
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: group
    using:
      foreign_key_constraint_on: groupId
  - name: person
    using:
      foreign_key_constraint_on: personId
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - conferenceId
      - groupId
      - id
      - personId
      - priority
      - roleName
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - conferenceId
      - groupId
      - id
      - personId
      - priority
      - roleName
      filter:
        conference:
          _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - conferenceId
      - groupId
      - id
      - personId
      - priority
      - roleName
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_VIEW
                    - CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - priority
      - roleName
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
- table:
    schema: public
    name: ContentGroupTag
  object_relationships:
  - name: contentGroup
    using:
      foreign_key_constraint_on: contentGroupId
  - name: tag
    using:
      foreign_key_constraint_on: tagId
  insert_permissions:
  - role: user
    permission:
      check:
        contentGroup:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
      columns:
      - contentGroupId
      - id
      - tagId
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - contentGroupId
      - id
      - tagId
      filter:
        contentGroup:
          conference:
            _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW
                _table:
                  schema: public
                  name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - contentGroupId
      - id
      - tagId
      filter:
        contentGroup:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _or:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_VIEW
                      - CONFERENCE_MANAGE_CONTENT
                _table:
                  schema: public
                  name: FlatUserPermission
            - _exists:
                _where:
                  _and:
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW
                _table:
                  schema: public
                  name: FlatUnauthPermission
  delete_permissions:
  - role: user
    permission:
      filter:
        contentGroup:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
- table:
    schema: public
    name: ContentGroupType
  is_enum: true
  array_relationships:
  - name: contentGroups
    using:
      foreign_key_constraint_on:
        column: contentGroupTypeName
        table:
          schema: public
          name: ContentGroup
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - name
      - description
      filter: {}
  - role: user
    permission:
      columns:
      - description
      - name
      filter: {}
- table:
    schema: public
    name: ContentItem
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: broadcastContentItem
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: BroadcastContentItem
        column_mapping:
          id: contentItemId
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: contentGroup
    using:
      foreign_key_constraint_on: contentGroupId
  - name: contentType
    using:
      foreign_key_constraint_on: contentTypeName
  - name: originatingData
    using:
      foreign_key_constraint_on: originatingDataId
  - name: requiredContentItem
    using:
      foreign_key_constraint_on: requiredContentId
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - conferenceId
      - contentGroupId
      - contentTypeName
      - data
      - id
      - isHidden
      - layoutData
      - name
      - originatingDataId
      - requiredContentId
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - conferenceId
      - contentGroupId
      - contentTypeName
      - data
      - id
      - isHidden
      - layoutData
      - name
      - originatingDataId
      filter:
        _and:
        - conference:
            _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW
                _table:
                  schema: public
                  name: FlatUnauthPermission
        - contentTypeName:
            _in:
            - ABSTRACT
            - TEXT
            - VIDEO_FILE
            - VIDEO_URL
            - VIDEO_LINK
            - IMAGE_FILE
            - IMAGE_URL
            - PAPER_FILE
            - PAPER_URL
            - PAPER_LINK
            - LINK
            - LINK_BUTTON
            - VIDEO_BROADCAST
            - VIDEO_PREPUBLISH
            - CONTENT_GROUP_LIST
            - WHOLE_SCHEDULE
  - role: user
    permission:
      columns:
      - conferenceId
      - contentGroupId
      - contentTypeName
      - data
      - id
      - isHidden
      - layoutData
      - name
      - originatingDataId
      - requiredContentId
      - updated_at
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_VIEW
                    - CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - contentGroupId
      - contentTypeName
      - data
      - isHidden
      - layoutData
      - name
      - originatingDataId
      - requiredContentId
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      check:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _eq: CONFERENCE_MANAGE_CONTENT
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
  event_triggers:
  - name: ContentItemUpdated
    definition:
      enable_manual: true
      insert:
        columns: '*'
      update:
        columns:
        - isHidden
        - data
        - layoutData
        - contentTypeName
        - name
        - created_at
        - updated_at
        - conferenceId
        - contentGroupId
        - id
        - originatingDataId
        - requiredContentId
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/contentItem/updated'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: public
    name: ContentPerson
  object_relationships:
  - name: attendee
    using:
      foreign_key_constraint_on: attendeeId
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: originatingData
    using:
      foreign_key_constraint_on: originatingDataId
  array_relationships:
  - name: contentItemPeople
    using:
      foreign_key_constraint_on:
        column: personId
        table:
          schema: public
          name: ContentGroupPerson
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - affiliation
      - attendeeId
      - conferenceId
      - email
      - id
      - name
      - originatingDataId
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - affiliation
      - attendeeId
      - conferenceId
      - email
      - id
      - name
      - originatingDataId
      filter:
        conference:
          _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - affiliation
      - attendeeId
      - conferenceId
      - email
      - id
      - name
      - originatingDataId
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_VIEW
                    - CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - affiliation
      - attendeeId
      - email
      - name
      - originatingDataId
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
- table:
    schema: public
    name: ContentType
  is_enum: true
  array_relationships:
  - name: contentItems
    using:
      foreign_key_constraint_on:
        column: contentTypeName
        table:
          schema: public
          name: ContentItem
  - name: requiredContentItems
    using:
      foreign_key_constraint_on:
        column: contentTypeName
        table:
          schema: public
          name: RequiredContentItem
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - description
      - name
      filter: {}
  - role: user
    permission:
      columns:
      - description
      - name
      filter: {}
- table:
    schema: public
    name: Email
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: invitation
    using:
      foreign_key_constraint_on: invitationId
  - name: user
    using:
      foreign_key_constraint_on: userId
- table:
    schema: public
    name: Event
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: broadcastContentItem
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: BroadcastContentItem
        column_mapping:
          id: eventId
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: contentGroup
    using:
      foreign_key_constraint_on: contentGroupId
  - name: eventVonageSession
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: EventVonageSession
        column_mapping:
          id: eventId
  - name: originatingData
    using:
      foreign_key_constraint_on: originatingDataId
  - name: room
    using:
      foreign_key_constraint_on: roomId
  - name: roomMode
    using:
      foreign_key_constraint_on: intendedRoomModeName
  array_relationships:
  - name: broadcasts
    using:
      foreign_key_constraint_on:
        column: eventId
        table:
          schema: public
          name: Broadcast
  - name: eventPeople
    using:
      foreign_key_constraint_on:
        column: eventId
        table:
          schema: public
          name: EventPerson
  - name: eventTags
    using:
      foreign_key_constraint_on:
        column: eventId
        table:
          schema: public
          name: EventTag
  - name: executedTransitions
    using:
      foreign_key_constraint_on:
        column: eventId
        table:
          schema: public
          name: ExecutedTransitions
  - name: transitions
    using:
      foreign_key_constraint_on:
        column: eventId
        table:
          schema: public
          name: Transitions
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - conferenceId
      - contentGroupId
      - durationSeconds
      - id
      - intendedRoomModeName
      - name
      - originatingDataId
      - roomId
      - startTime
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - conferenceId
      - contentGroupId
      - durationSeconds
      - endTime
      - id
      - intendedRoomModeName
      - name
      - originatingDataId
      - roomId
      - startTime
      filter:
        conference:
          _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - conferenceId
      - contentGroupId
      - created_at
      - durationSeconds
      - endTime
      - id
      - intendedRoomModeName
      - name
      - originatingDataId
      - roomId
      - startTime
      - updated_at
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_VIEW
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - contentGroupId
      - durationSeconds
      - intendedRoomModeName
      - name
      - originatingDataId
      - roomId
      - startTime
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
  event_triggers:
  - name: EventUpdated
    definition:
      enable_manual: true
      insert:
        columns: '*'
      update:
        columns:
        - durationSeconds
        - intendedRoomModeName
        - name
        - created_at
        - endTime
        - startTime
        - updated_at
        - conferenceId
        - contentGroupId
        - id
        - originatingDataId
        - roomId
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/event/updated'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: public
    name: EventParticipantStream
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: attendee
    using:
      foreign_key_constraint_on: attendeeId
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: event
    using:
      foreign_key_constraint_on: eventId
  select_permissions:
  - role: user
    permission:
      columns:
      - attendeeId
      - conferenceId
      - eventId
      - id
      - updated_at
      - vonageStreamId
      - vonageStreamType
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: CONFERENCE_MANAGE_SCHEDULE
                - permission_name:
                    _eq: CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
          - _and:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - event:
                eventPeople:
                  _and:
                  - attendee:
                      userId:
                        _eq: X-Hasura-User-Id
                  - eventPersonRole:
                      name:
                        _in:
                        - CHAIR
                        - PRESENTER
- table:
    schema: public
    name: EventPerson
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: attendee
    using:
      foreign_key_constraint_on: attendeeId
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: event
    using:
      foreign_key_constraint_on: eventId
  - name: eventPersonRole
    using:
      foreign_key_constraint_on: roleName
  - name: originatingData
    using:
      foreign_key_constraint_on: originatingDataId
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
          - _and:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - event:
                eventPeople:
                  _and:
                  - attendee:
                      userId:
                        _eq: X-Hasura-User-Id
                  - eventPersonRole:
                      name:
                        _in:
                        - CHAIR
                        - PRESENTER
      columns:
      - id
      - eventId
      - attendeeId
      - name
      - affiliation
      - roleName
      - originatingDataId
      - conferenceId
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - affiliation
      - attendeeId
      - conferenceId
      - eventId
      - id
      - name
      - originatingDataId
      - roleName
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_VIEW
            _table:
              schema: public
              name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - affiliation
      - attendeeId
      - conferenceId
      - eventId
      - id
      - name
      - originatingDataId
      - roleName
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_VIEW
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - affiliation
      - attendeeId
      - name
      - originatingDataId
      - roleName
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
          - _and:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - event:
                eventPeople:
                  _and:
                  - attendee:
                      userId:
                        _eq: X-Hasura-User-Id
                  - eventPersonRole:
                      name:
                        _in:
                        - CHAIR
                        - PRESENTER
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
          - _and:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - event:
                eventPeople:
                  _and:
                  - attendee:
                      userId:
                        _eq: X-Hasura-User-Id
                  - eventPersonRole:
                      name:
                        _in:
                        - CHAIR
                        - PRESENTER
  event_triggers:
  - name: EventPersonDeleted
    definition:
      enable_manual: false
      delete:
        columns: '*'
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/eventPerson/deleted'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: public
    name: EventPersonRole
  is_enum: true
  array_relationships:
  - name: eventPeople
    using:
      foreign_key_constraint_on:
        column: roleName
        table:
          schema: public
          name: EventPerson
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - name
      - description
      filter: {}
  - role: user
    permission:
      columns:
      - description
      - name
      filter: {}
- table:
    schema: public
    name: EventRoomJoinRequest
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: attendee
    using:
      foreign_key_constraint_on: attendeeId
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: event
    using:
      foreign_key_constraint_on: eventId
  - name: eventPersonRole
    using:
      foreign_key_constraint_on: eventPersonRoleName
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW_ATTENDEES
              _table:
                schema: public
                name: FlatUserPermission
        - attendee:
            userId:
              _eq: X-Hasura-User-Id
        - event:
            conferenceId:
              _ceq: conferenceId
      set:
        eventPersonRoleName: PARTICIPANT
        approved: "false"
      columns:
      - attendeeId
      - conferenceId
      - eventId
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - approved
      - eventPersonRoleName
      - created_at
      - updated_at
      - attendeeId
      - conferenceId
      - eventId
      - id
      filter:
        _and:
        - conference:
            _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUnauthPermission
        - event:
            conferenceId:
              _ceq: conferenceId
  - role: user
    permission:
      columns:
      - approved
      - attendeeId
      - conferenceId
      - created_at
      - eventId
      - eventPersonRoleName
      - id
      - updated_at
      filter:
        _and:
        - conference:
            _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - _or:
              - _exists:
                  _where:
                    _and:
                    - user_id:
                        _eq: X-Hasura-User-Id
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _in:
                        - CONFERENCE_VIEW_ATTENDEES
                        - CONFERENCE_MANAGE_SCHEDULE
                  _table:
                    schema: public
                    name: FlatUserPermission
        - event:
            conferenceId:
              _ceq: conferenceId
      allow_aggregations: true
  update_permissions:
  - role: user
    permission:
      columns:
      - approved
      filter:
        _or:
        - conference:
            _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_MANAGE_SCHEDULE
                _table:
                  schema: public
                  name: FlatUserPermission
        - _and:
          - conference:
              _and:
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - _exists:
                  _where:
                    _and:
                    - user_id:
                        _eq: X-Hasura-User-Id
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _eq: CONFERENCE_VIEW_ATTENDEES
                  _table:
                    schema: public
                    name: FlatUserPermission
          - event:
              eventPeople:
                _and:
                - attendee:
                    userId:
                      _eq: X-Hasura-User-Id
                - eventPersonRole:
                    name:
                      _in:
                      - CHAIR
                      - PRESENTER
      check: null
  event_triggers:
  - name: EventRoomJoinRequestUpdated
    definition:
      enable_manual: true
      insert:
        columns: '*'
      update:
        columns:
        - approved
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/eventRoomJoinRequest/updated'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: public
    name: EventTag
  object_relationships:
  - name: event
    using:
      foreign_key_constraint_on: eventId
  - name: tag
    using:
      foreign_key_constraint_on: tagId
  insert_permissions:
  - role: user
    permission:
      check:
        event:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
      columns:
      - eventId
      - id
      - tagId
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - eventId
      - id
      - tagId
      filter:
        event:
          conference:
            _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW
                _table:
                  schema: public
                  name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - eventId
      - id
      - tagId
      filter:
        event:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_SCHEDULE
                    - CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUserPermission
  delete_permissions:
  - role: user
    permission:
      filter:
        event:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
- table:
    schema: public
    name: EventVonageSession
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: event
    using:
      foreign_key_constraint_on: eventId
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - created_at
      - id
      - sessionId
      - updated_at
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_VIEW
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - layoutData
      filter:
        _or:
        - conference:
            _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_SCHEDULE
                _table:
                  schema: public
                  name: FlatUserPermission
        - _and:
          - _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
          - event:
              eventPeople:
                _and:
                - attendee:
                    userId:
                      _eq: X-Hasura-User-Id
                - eventPersonRole:
                    name:
                      _in:
                      - CHAIR
                      - PRESENTER
      check: null
  event_triggers:
  - name: EventVonageSessionUpdated
    definition:
      enable_manual: true
      update:
        columns:
        - layoutData
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/eventVonageSession/updated'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: public
    name: ExecutedTransitions
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: broadcastContentItem
    using:
      foreign_key_constraint_on: broadcastContentId
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: event
    using:
      foreign_key_constraint_on: eventId
  - name: room
    using:
      foreign_key_constraint_on: roomId
- table:
    schema: public
    name: FlatUnauthPermission
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - permission_name
      - slug
      filter: {}
  - role: user
    permission:
      columns:
      - permission_name
      - slug
      filter: {}
- table:
    schema: public
    name: FlatUserPermission
  object_relationships:
  - name: conference
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: Conference
        column_mapping:
          slug: slug
  - name: permission
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: Permission
        column_mapping:
          permission_name: name
  - name: user
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: User
        column_mapping:
          user_id: id
  select_permissions:
  - role: user
    permission:
      columns:
      - permission_name
      - slug
      - user_id
      filter:
        user_id:
          _eq: X-Hasura-User-Id
- table:
    schema: public
    name: Group
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  array_relationships:
  - name: groupAttendees
    using:
      foreign_key_constraint_on:
        column: groupId
        table:
          schema: public
          name: GroupAttendee
  - name: groupRoles
    using:
      foreign_key_constraint_on:
        column: groupId
        table:
          schema: public
          name: GroupRole
  insert_permissions:
  - role: user
    permission:
      check:
        conference:
          _or:
          - createdBy:
              _eq: X-Hasura-User-Id
          - groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      _or:
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_ROLES
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_GROUPS
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
      columns:
      - conferenceId
      - enabled
      - includeUnauthenticated
      - name
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - conferenceId
      - enabled
      - id
      - includeUnauthenticated
      - name
      filter:
        _and:
        - enabled:
            _eq: true
        - includeUnauthenticated:
            _eq: true
  - role: user
    permission:
      columns:
      - conferenceId
      - enabled
      - id
      - includeUnauthenticated
      - name
      filter:
        _or:
        - _and:
          - enabled:
              _eq: true
          - _or:
            - includeUnauthenticated:
                _eq: true
            - groupAttendees:
                attendee:
                  userId:
                    _eq: X-Hasura-User-Id
        - conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        _or:
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ROLES
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_GROUPS
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ATTENDEES
                - groupAttendees:
                    attendee:
                      userId:
                        _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - enabled
      - includeUnauthenticated
      - name
      filter:
        conference:
          _or:
          - createdBy:
              _eq: X-Hasura-User-Id
          - groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      _or:
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_ROLES
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_GROUPS
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        conference:
          _or:
          - createdBy:
              _eq: X-Hasura-User-Id
          - groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      _or:
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_ROLES
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_GROUPS
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
- table:
    schema: public
    name: GroupAttendee
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: attendee
    using:
      foreign_key_constraint_on: attendeeId
  - name: group
    using:
      foreign_key_constraint_on: groupId
  insert_permissions:
  - role: user
    permission:
      check:
        group:
          conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        _or:
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ROLES
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_GROUPS
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ATTENDEES
                - groupAttendees:
                    attendee:
                      userId:
                        _eq: X-Hasura-User-Id
      columns:
      - attendeeId
      - groupId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - attendeeId
      - groupId
      - id
      filter:
        _or:
        - _and:
          - group:
              enabled:
                _eq: true
          - attendee:
              userId:
                _eq: X-Hasura-User-Id
        - group:
            conference:
              _or:
              - createdBy:
                  _eq: X-Hasura-User-Id
              - groups:
                  _and:
                  - enabled:
                      _eq: true
                  - groupRoles:
                      role:
                        rolePermissions:
                          _or:
                          - permissionName:
                              _eq: CONFERENCE_MANAGE_ROLES
                          - permissionName:
                              _eq: CONFERENCE_MANAGE_GROUPS
                          - permissionName:
                              _eq: CONFERENCE_MANAGE_ATTENDEES
                  - groupAttendees:
                      attendee:
                        userId:
                          _eq: X-Hasura-User-Id
  delete_permissions:
  - role: user
    permission:
      filter:
        group:
          conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        _or:
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ROLES
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_GROUPS
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ATTENDEES
                - groupAttendees:
                    attendee:
                      userId:
                        _eq: X-Hasura-User-Id
- table:
    schema: public
    name: GroupRole
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: group
    using:
      foreign_key_constraint_on: groupId
  - name: role
    using:
      foreign_key_constraint_on: roleId
  insert_permissions:
  - role: user
    permission:
      check:
        group:
          conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        permissionName:
                          _in:
                          - CONFERENCE_MANAGE_ROLES
                          - CONFERENCE_MANAGE_GROUPS
                - groupAttendees:
                    attendee:
                      userId:
                        _eq: X-Hasura-User-Id
      columns:
      - groupId
      - roleId
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - groupId
      - id
      - roleId
      filter:
        group:
          _and:
          - enabled:
              _eq: true
          - includeUnauthenticated:
              _eq: true
  - role: user
    permission:
      columns:
      - groupId
      - id
      - roleId
      filter:
        _or:
        - group:
            _and:
            - enabled:
                _eq: true
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
        - group:
            conference:
              _or:
              - createdBy:
                  _eq: X-Hasura-User-Id
              - groups:
                  _and:
                  - enabled:
                      _eq: true
                  - groupRoles:
                      role:
                        rolePermissions:
                          permissionName:
                            _in:
                            - CONFERENCE_MANAGE_ROLES
                            - CONFERENCE_MANAGE_GROUPS
                  - groupAttendees:
                      attendee:
                        userId:
                          _eq: X-Hasura-User-Id
  delete_permissions:
  - role: user
    permission:
      filter:
        group:
          conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        permissionName:
                          _in:
                          - CONFERENCE_MANAGE_ROLES
                          - CONFERENCE_MANAGE_GROUPS
                - groupAttendees:
                    attendee:
                      userId:
                        _eq: X-Hasura-User-Id
- table:
    schema: public
    name: Hallway
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  array_relationships:
  - name: contentGroups
    using:
      foreign_key_constraint_on:
        column: hallwayId
        table:
          schema: public
          name: ContentGroupHallway
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - colour
      - conferenceId
      - id
      - name
      - priority
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - colour
      - conferenceId
      - id
      - name
      - priority
      filter:
        conference:
          _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - colour
      - conferenceId
      - created_at
      - id
      - name
      - priority
      - updated_at
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_VIEW
                    - CONFERENCE_MANAGE_CONTENT
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - colour
      - name
      - priority
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
- table:
    schema: public
    name: InputType
  is_enum: true
  array_relationships:
  - name: broadcastContentItems
    using:
      foreign_key_constraint_on:
        column: inputTypeName
        table:
          schema: public
          name: BroadcastContentItem
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - name
      - description
      filter: {}
- table:
    schema: public
    name: Invitation
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: attendee
    using:
      foreign_key_constraint_on: attendeeId
  - name: user
    using:
      foreign_key_constraint_on: linkToUserId
  array_relationships:
  - name: emails
    using:
      foreign_key_constraint_on:
        column: invitationId
        table:
          schema: public
          name: Email
  computed_fields:
  - name: hash
    definition:
      function:
        schema: public
        name: invitationhash
    comment: ""
  insert_permissions:
  - role: user
    permission:
      check:
        attendee:
          conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        _or:
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ROLES
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_GROUPS
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ATTENDEES
                - groupAttendees:
                    attendee:
                      userId:
                        _eq: X-Hasura-User-Id
      columns:
      - attendeeId
      - invitedEmailAddress
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - inviteCode
      computed_fields:
      - hash
      filter:
        _and:
        - inviteCode:
            _eq: X-Hasura-Invite-Code
        - attendee:
            userId:
              _is_null: true
      limit: 1
  - role: user
    permission:
      columns:
      - attendeeId
      - confirmationCode
      - created_at
      - id
      - inviteCode
      - invitedEmailAddress
      - linkToUserId
      - updated_at
      computed_fields:
      - hash
      filter:
        attendee:
          _or:
          - _and:
            - conference:
                groups:
                  _and:
                  - enabled:
                      _eq: true
                  - groupRoles:
                      role:
                        rolePermissions:
                          _or:
                          - permissionName:
                              _eq: CONFERENCE_MANAGE_ATTENDEES
                          - permissionName:
                              _eq: CONFERENCE_MANAGE_GROUPS
                          - permissionName:
                              _eq: CONFERENCE_MANAGE_ROLES
                  - _or:
                    - includeUnauthenticated:
                        _eq: true
                    - groupAttendees:
                        attendee:
                          userId:
                            _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - confirmationCode
      - inviteCode
      - invitedEmailAddress
      - linkToUserId
      filter:
        attendee:
          _or:
          - _and:
            - conference:
                groups:
                  _and:
                  - enabled:
                      _eq: true
                  - groupRoles:
                      role:
                        rolePermissions:
                          _or:
                          - permissionName:
                              _eq: CONFERENCE_MANAGE_ATTENDEES
                          - permissionName:
                              _eq: CONFERENCE_MANAGE_GROUPS
                          - permissionName:
                              _eq: CONFERENCE_MANAGE_ROLES
                  - _or:
                    - includeUnauthenticated:
                        _eq: true
                    - groupAttendees:
                        attendee:
                          userId:
                            _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        attendee:
          _or:
          - _and:
            - conference:
                groups:
                  _and:
                  - enabled:
                      _eq: true
                  - groupRoles:
                      role:
                        rolePermissions:
                          _or:
                          - permissionName:
                              _eq: CONFERENCE_MANAGE_ATTENDEES
                          - permissionName:
                              _eq: CONFERENCE_MANAGE_GROUPS
                          - permissionName:
                              _eq: CONFERENCE_MANAGE_ROLES
                  - _or:
                    - includeUnauthenticated:
                        _eq: true
                    - groupAttendees:
                        attendee:
                          userId:
                            _eq: X-Hasura-User-Id
- table:
    schema: public
    name: JobStatus
  is_enum: true
- table:
    schema: public
    name: MediaLiveChannel
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: room
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: Room
        column_mapping:
          id: mediaLiveChannelId
  select_permissions:
  - role: user
    permission:
      columns:
      - cloudFrontDomain
      - endpointUri
      - id
      filter:
        _or:
        - conference:
            groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      _or:
                      - permissionName:
                          _eq: CONFERENCE_VIEW
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_SCHEDULE
              - _or:
                - includeUnauthenticated:
                    _eq: true
                - groupAttendees:
                    attendee:
                      userId:
                        _eq: X-Hasura-User-Id
- table:
    schema: public
    name: OnlineStatus
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: user
    using:
      foreign_key_constraint_on: userId
  insert_permissions:
  - role: user
    permission:
      check:
        userId:
          _eq: X-Hasura-User-Id
      columns:
      - isIncognito
      - lastSeen
      - userId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - id
      - isIncognito
      - lastSeen
      - userId
      filter:
        _or:
        - userId:
            _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - isIncognito
      - lastSeen
      - userId
      filter:
        userId:
          _eq: X-Hasura-User-Id
      check:
        userId:
          _eq: X-Hasura-User-Id
  delete_permissions:
  - role: user
    permission:
      filter:
        userId:
          _eq: X-Hasura-User-Id
- table:
    schema: public
    name: OriginatingData
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  array_relationships:
  - name: contentGroups
    using:
      foreign_key_constraint_on:
        column: originatingDataId
        table:
          schema: public
          name: ContentGroup
  - name: contentItems
    using:
      foreign_key_constraint_on:
        column: originatingDataId
        table:
          schema: public
          name: ContentItem
  - name: contentPeople
    using:
      foreign_key_constraint_on:
        column: originatingDataId
        table:
          schema: public
          name: ContentPerson
  - name: eventPeople
    using:
      foreign_key_constraint_on:
        column: originatingDataId
        table:
          schema: public
          name: EventPerson
  - name: events
    using:
      foreign_key_constraint_on:
        column: originatingDataId
        table:
          schema: public
          name: Event
  - name: requiredContentItems
    using:
      foreign_key_constraint_on:
        column: originatingDataId
        table:
          schema: public
          name: RequiredContentItem
  - name: rooms
    using:
      foreign_key_constraint_on:
        column: originatingDataId
        table:
          schema: public
          name: Room
  - name: tags
    using:
      foreign_key_constraint_on:
        column: originatingDataId
        table:
          schema: public
          name: Tag
  insert_permissions:
  - role: user
    permission:
      check:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _in:
                      - CONFERENCE_MANAGE_CONTENT
                      - CONFERENCE_MANAGE_SCHEDULE
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
      columns:
      - conferenceId
      - data
      - id
      - sourceId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - created_at
      - data
      - id
      - sourceId
      - updated_at
      filter:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _in:
                      - CONFERENCE_MANAGE_CONTENT
                      - CONFERENCE_MANAGE_SCHEDULE
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
  delete_permissions:
  - role: user
    permission:
      filter:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _in:
                      - CONFERENCE_MANAGE_CONTENT
                      - CONFERENCE_MANAGE_SCHEDULE
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
- table:
    schema: public
    name: Permission
  is_enum: true
  array_relationships:
  - name: rolePermissions
    using:
      foreign_key_constraint_on:
        column: permissionName
        table:
          schema: public
          name: RolePermission
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - description
      - name
      filter: {}
  - role: user
    permission:
      columns:
      - description
      - name
      filter: {}
- table:
    schema: public
    name: RequiredContentItem
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: contentGroup
    using:
      foreign_key_constraint_on: contentGroupId
  - name: contentItem
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: ContentItem
        column_mapping:
          id: requiredContentId
  - name: contentType
    using:
      foreign_key_constraint_on: contentTypeName
  - name: originatingData
    using:
      foreign_key_constraint_on: originatingDataId
  array_relationships:
  - name: uploaders
    using:
      foreign_key_constraint_on:
        column: requiredContentItemId
        table:
          schema: public
          name: Uploader
  computed_fields:
  - name: contentGroupTitle
    definition:
      function:
        schema: public
        name: requireditem_content_group_title
    comment: ""
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - accessToken
      - conferenceId
      - contentGroupId
      - contentTypeName
      - id
      - isHidden
      - name
      - originatingDataId
      - uploadsRemaining
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - conferenceId
      - contentGroupId
      - contentTypeName
      - id
      - isHidden
      - name
      - originatingDataId
      - updated_at
      - uploadsRemaining
      computed_fields:
      - contentGroupTitle
      filter:
        _or:
        - _and:
          - accessToken:
              _is_null: false
          - accessToken:
              _eq: X-Hasura-Magic-Token
        - conference:
            groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      permissionName:
                        _eq: CONFERENCE_VIEW
              - includeUnauthenticated:
                  _eq: true
  - role: user
    permission:
      columns:
      - conferenceId
      - contentGroupId
      - contentTypeName
      - id
      - isHidden
      - name
      - originatingDataId
      - updated_at
      - uploadsRemaining
      computed_fields:
      - contentGroupTitle
      filter:
        _or:
        - conference:
            groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      _or:
                      - permissionName:
                          _eq: CONFERENCE_VIEW
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_CONTENT
              - _or:
                - includeUnauthenticated:
                    _eq: true
                - groupAttendees:
                    attendee:
                      userId:
                        _eq: X-Hasura-User-Id
        - _and:
          - accessToken:
              _is_null: false
          - accessToken:
              _eq: X-Hasura-Magic-Token
  update_permissions:
  - role: user
    permission:
      columns:
      - accessToken
      - contentGroupId
      - contentTypeName
      - isHidden
      - name
      - originatingDataId
      - uploadsRemaining
      filter:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _eq: CONFERENCE_MANAGE_CONTENT
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _eq: CONFERENCE_MANAGE_CONTENT
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
- table:
    schema: public
    name: Role
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  array_relationships:
  - name: groupRoles
    using:
      foreign_key_constraint_on:
        column: roleId
        table:
          schema: public
          name: GroupRole
  - name: rolePermissions
    using:
      foreign_key_constraint_on:
        column: roleId
        table:
          schema: public
          name: RolePermission
  insert_permissions:
  - role: user
    permission:
      check:
        conference:
          _or:
          - createdBy:
              _eq: X-Hasura-User-Id
          - groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      permissionName:
                        _eq: CONFERENCE_MANAGE_ROLES
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
      columns:
      - conferenceId
      - name
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - conferenceId
      - id
      - name
      filter:
        groupRoles:
          group:
            _and:
            - enabled:
                _eq: true
            - includeUnauthenticated:
                _eq: true
  - role: user
    permission:
      columns:
      - conferenceId
      - id
      - name
      filter:
        _or:
        - groupRoles:
            group:
              _and:
              - enabled:
                  _eq: true
              - _or:
                - includeUnauthenticated:
                    _eq: true
                - groupAttendees:
                    attendee:
                      userId:
                        _eq: X-Hasura-User-Id
        - conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        permissionName:
                          _in:
                          - CONFERENCE_MANAGE_ROLES
                          - CONFERENCE_MANAGE_GROUPS
                - groupAttendees:
                    attendee:
                      userId:
                        _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - name
      filter:
        conference:
          _or:
          - createdBy:
              _eq: X-Hasura-User-Id
          - groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      permissionName:
                        _eq: CONFERENCE_MANAGE_ROLES
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        conference:
          _or:
          - createdBy:
              _eq: X-Hasura-User-Id
          - groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      permissionName:
                        _eq: CONFERENCE_MANAGE_ROLES
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
- table:
    schema: public
    name: RolePermission
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: permission
    using:
      foreign_key_constraint_on: permissionName
  - name: role
    using:
      foreign_key_constraint_on: roleId
  insert_permissions:
  - role: user
    permission:
      check:
        role:
          conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        permissionName:
                          _eq: CONFERENCE_MANAGE_ROLES
                - groupAttendees:
                    attendee:
                      userId:
                        _eq: X-Hasura-User-Id
      columns:
      - permissionName
      - roleId
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - id
      - permissionName
      - roleId
      filter:
        role:
          groupRoles:
            group:
              _and:
              - enabled:
                  _eq: true
              - includeUnauthenticated:
                  _eq: true
  - role: user
    permission:
      columns:
      - created_at
      - id
      - permissionName
      - roleId
      - updated_at
      filter:
        role:
          _or:
          - groupRoles:
              group:
                _and:
                - enabled:
                    _eq: true
                - _or:
                  - includeUnauthenticated:
                      _eq: true
                  - groupAttendees:
                      attendee:
                        userId:
                          _eq: X-Hasura-User-Id
          - conference:
              _or:
              - createdBy:
                  _eq: X-Hasura-User-Id
              - groups:
                  _and:
                  - enabled:
                      _eq: true
                  - groupRoles:
                      role:
                        rolePermissions:
                          permissionName:
                            _eq: CONFERENCE_MANAGE_ROLES
                  - groupAttendees:
                      attendee:
                        userId:
                          _eq: X-Hasura-User-Id
  delete_permissions:
  - role: user
    permission:
      filter:
        role:
          conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        permissionName:
                          _eq: CONFERENCE_MANAGE_ROLES
                - groupAttendees:
                    attendee:
                      userId:
                        _eq: X-Hasura-User-Id
- table:
    schema: public
    name: Room
  object_relationships:
  - name: chat
    using:
      foreign_key_constraint_on: chatId
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: currentMode
    using:
      foreign_key_constraint_on: currentModeName
  - name: mediaLiveChannel
    using:
      foreign_key_constraint_on: mediaLiveChannelId
  - name: originatingContentGroup
    using:
      foreign_key_constraint_on: originatingContentGroupId
  - name: originatingData
    using:
      foreign_key_constraint_on: originatingDataId
  - name: originatingEvent
    using:
      foreign_key_constraint_on: originatingEventId
  - name: roomPrivacy
    using:
      foreign_key_constraint_on: roomPrivacyName
  array_relationships:
  - name: events
    using:
      foreign_key_constraint_on:
        column: roomId
        table:
          schema: public
          name: Event
  - name: executedTransitions
    using:
      foreign_key_constraint_on:
        column: roomId
        table:
          schema: public
          name: ExecutedTransitions
  - name: participants
    using:
      foreign_key_constraint_on:
        column: roomId
        table:
          schema: public
          name: RoomParticipant
  - name: roomPeople
    using:
      foreign_key_constraint_on:
        column: roomId
        table:
          schema: public
          name: RoomPerson
  - name: shuffleRooms
    using:
      foreign_key_constraint_on:
        column: roomId
        table:
          schema: room
          name: ShuffleRoom
  - name: transitions
    using:
      foreign_key_constraint_on:
        column: roomId
        table:
          schema: public
          name: Transitions
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_VIEW_ATTENDEES
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - capacity
      - conferenceId
      - currentModeName
      - id
      - name
      - originatingContentGroupId
      - originatingDataId
      - priority
      - roomPrivacyName
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - capacity
      - chatId
      - conferenceId
      - created_at
      - currentModeName
      - id
      - name
      - originatingDataId
      - originatingEventId
      - priority
      - roomPrivacyName
      - updated_at
      filter:
        _and:
        - conference:
            _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW
                _table:
                  schema: public
                  name: FlatUnauthPermission
        - roomPrivacyName:
            _eq: PUBLIC
  - role: user
    permission:
      columns:
      - capacity
      - chatId
      - conferenceId
      - created_at
      - currentModeName
      - id
      - mediaLiveChannelId
      - name
      - originatingContentGroupId
      - originatingDataId
      - originatingEventId
      - priority
      - publicVonageSessionId
      - roomPrivacyName
      - updated_at
      filter:
        _and:
        - _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _or:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_VIEW
                      - CONFERENCE_MANAGE_SCHEDULE
                      - CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - _exists:
                _where:
                  _and:
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW
                _table:
                  schema: public
                  name: FlatUnauthPermission
        - _or:
          - roomPrivacyName:
              _eq: PUBLIC
          - roomPeople:
              attendee:
                userId:
                  _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - capacity
      - name
      - originatingDataId
      - priority
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
          - _and:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - roomPeople:
                _and:
                - attendee:
                    userId:
                      _eq: X-Hasura-User-Id
                - roomPersonRoleName:
                    _eq: ADMIN
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
          - _and:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - roomPeople:
                _and:
                - attendee:
                    userId:
                      _eq: X-Hasura-User-Id
                - roomPersonRoleName:
                    _eq: ADMIN
  event_triggers:
  - name: RoomCreated
    definition:
      enable_manual: true
      insert:
        columns: '*'
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/room/created'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: public
    name: RoomMode
  is_enum: true
  array_relationships:
  - name: events
    using:
      foreign_key_constraint_on:
        column: intendedRoomModeName
        table:
          schema: public
          name: Event
  - name: rooms
    using:
      foreign_key_constraint_on:
        column: currentModeName
        table:
          schema: public
          name: Room
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - name
      - description
      filter: {}
  - role: user
    permission:
      columns:
      - description
      - name
      filter: {}
- table:
    schema: public
    name: RoomParticipant
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: attendee
    using:
      foreign_key_constraint_on: attendeeId
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: room
    using:
      foreign_key_constraint_on: roomId
  select_permissions:
  - role: user
    permission:
      columns:
      - attendeeId
      - conferenceId
      - created_at
      - id
      - roomId
      - updated_at
      filter:
        _and:
        - _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _or:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_SCHEDULE
                      - CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - _exists:
                _where:
                  _and:
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUnauthPermission
        - room:
            _or:
            - roomPrivacyName:
                _eq: PUBLIC
            - roomPeople:
                attendee:
                  userId:
                    _eq: X-Hasura-User-Id
      allow_aggregations: true
- table:
    schema: public
    name: RoomPerson
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: attendee
    using:
      foreign_key_constraint_on: attendeeId
  - name: room
    using:
      foreign_key_constraint_on: roomId
  - name: roomPersonRole
    using:
      foreign_key_constraint_on: roomPersonRoleName
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - attendee:
            userId:
              _is_null: false
        - _or:
          - room:
              _and:
              - conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
              - _exists:
                  _where:
                    _and:
                    - user_id:
                        _eq: X-Hasura-User-Id
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _eq: CONFERENCE_MANAGE_SCHEDULE
                  _table:
                    schema: public
                    name: FlatUserPermission
          - _and:
            - room:
                _and:
                - conference:
                    slug:
                      _eq: X-Hasura-Conference-Slug
                - _exists:
                    _where:
                      _and:
                      - user_id:
                          _eq: X-Hasura-User-Id
                      - slug:
                          _eq: X-Hasura-Conference-Slug
                      - permission_name:
                          _eq: CONFERENCE_VIEW_ATTENDEES
                    _table:
                      schema: public
                      name: FlatUserPermission
            - room:
                roomPeople:
                  _and:
                  - attendee:
                      userId:
                        _eq: X-Hasura-User-Id
                  - roomPersonRole:
                      name:
                        _eq: ADMIN
      columns:
      - attendeeId
      - roomId
      - roomPersonRoleName
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - attendeeId
      - created_at
      - id
      - roomId
      - roomPersonRoleName
      - updated_at
      filter:
        _and:
        - attendee:
            userId:
              _is_null: false
        - _or:
          - room:
              _and:
              - conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
              - _exists:
                  _where:
                    _and:
                    - user_id:
                        _eq: X-Hasura-User-Id
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _eq: CONFERENCE_MANAGE_SCHEDULE
                  _table:
                    schema: public
                    name: FlatUserPermission
          - _and:
            - room:
                _and:
                - conference:
                    slug:
                      _eq: X-Hasura-Conference-Slug
                - _exists:
                    _where:
                      _and:
                      - user_id:
                          _eq: X-Hasura-User-Id
                      - slug:
                          _eq: X-Hasura-Conference-Slug
                      - permission_name:
                          _eq: CONFERENCE_VIEW_ATTENDEES
                    _table:
                      schema: public
                      name: FlatUserPermission
            - room:
                roomPeople:
                  _and:
                  - attendee:
                      userId:
                        _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - roomPersonRoleName
      filter:
        _and:
        - attendee:
            userId:
              _is_null: false
        - _or:
          - room:
              _and:
              - conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
              - _exists:
                  _where:
                    _and:
                    - user_id:
                        _eq: X-Hasura-User-Id
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _eq: CONFERENCE_MANAGE_SCHEDULE
                  _table:
                    schema: public
                    name: FlatUserPermission
          - _and:
            - room:
                _and:
                - conference:
                    slug:
                      _eq: X-Hasura-Conference-Slug
                - _exists:
                    _where:
                      _and:
                      - user_id:
                          _eq: X-Hasura-User-Id
                      - slug:
                          _eq: X-Hasura-Conference-Slug
                      - permission_name:
                          _eq: CONFERENCE_VIEW_ATTENDEES
                    _table:
                      schema: public
                      name: FlatUserPermission
            - room:
                roomPeople:
                  _and:
                  - attendee:
                      userId:
                        _eq: X-Hasura-User-Id
                  - roomPersonRole:
                      name:
                        _eq: ADMIN
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - attendee:
            userId:
              _is_null: false
        - _or:
          - room:
              _and:
              - conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
              - _exists:
                  _where:
                    _and:
                    - user_id:
                        _eq: X-Hasura-User-Id
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _eq: CONFERENCE_MANAGE_SCHEDULE
                  _table:
                    schema: public
                    name: FlatUserPermission
          - _and:
            - room:
                _and:
                - conference:
                    slug:
                      _eq: X-Hasura-Conference-Slug
                - _exists:
                    _where:
                      _and:
                      - user_id:
                          _eq: X-Hasura-User-Id
                      - slug:
                          _eq: X-Hasura-Conference-Slug
                      - permission_name:
                          _eq: CONFERENCE_VIEW_ATTENDEES
                    _table:
                      schema: public
                      name: FlatUserPermission
            - room:
                roomPeople:
                  _and:
                  - attendee:
                      userId:
                        _eq: X-Hasura-User-Id
                  - roomPersonRole:
                      name:
                        _eq: ADMIN
- table:
    schema: public
    name: RoomPersonRole
  is_enum: true
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - description
      - name
      filter: {}
  - role: user
    permission:
      columns:
      - description
      - name
      filter: {}
- table:
    schema: public
    name: RoomPrivacy
  is_enum: true
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - name
      - description
      filter: {}
  - role: user
    permission:
      columns:
      - description
      - name
      filter: {}
- table:
    schema: public
    name: Tag
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: originatingData
    using:
      foreign_key_constraint_on: originatingDataId
  array_relationships:
  - name: contentGroupTags
    using:
      foreign_key_constraint_on:
        column: tagId
        table:
          schema: public
          name: ContentGroupTag
  - name: eventTags
    using:
      foreign_key_constraint_on:
        column: tagId
        table:
          schema: public
          name: EventTag
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - colour
      - conferenceId
      - id
      - name
      - originatingDataId
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - colour
      - conferenceId
      - id
      - name
      - originatingDataId
      filter:
        conference:
          _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - colour
      - conferenceId
      - created_at
      - id
      - name
      - originatingDataId
      - updated_at
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_VIEW
                    - CONFERENCE_MANAGE_CONTENT
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - colour
      - name
      - originatingDataId
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
- table:
    schema: public
    name: TranscriptionJob
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
- table:
    schema: public
    name: Transitions
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: broadcastContentItem
    using:
      foreign_key_constraint_on: broadcastContentId
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: event
    using:
      foreign_key_constraint_on: eventId
  - name: fallbackBroadcastContentItem
    using:
      foreign_key_constraint_on: fallbackBroadcastContentId
  - name: room
    using:
      foreign_key_constraint_on: roomId
- table:
    schema: public
    name: Uploader
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: requiredContentItem
    using:
      foreign_key_constraint_on: requiredContentItemId
  insert_permissions:
  - role: user
    permission:
      check:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _eq: CONFERENCE_MANAGE_CONTENT
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
      columns:
      - conferenceId
      - email
      - id
      - name
      - requiredContentItemId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - created_at
      - email
      - emailsSentCount
      - id
      - name
      - requiredContentItemId
      - updated_at
      filter:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _eq: CONFERENCE_MANAGE_CONTENT
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - email
      - emailsSentCount
      - name
      filter:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _eq: CONFERENCE_MANAGE_CONTENT
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _eq: CONFERENCE_MANAGE_CONTENT
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupAttendees:
                  attendee:
                    userId:
                      _eq: X-Hasura-User-Id
- table:
    schema: public
    name: User
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: onlineStatus
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: OnlineStatus
        column_mapping:
          id: userId
  array_relationships:
  - name: attendees
    using:
      foreign_key_constraint_on:
        column: userId
        table:
          schema: public
          name: Attendee
  - name: conferenceDemoCodes
    using:
      foreign_key_constraint_on:
        column: usedById
        table:
          schema: public
          name: ConferenceDemoCode
  - name: conferencesCreated
    using:
      foreign_key_constraint_on:
        column: createdBy
        table:
          schema: public
          name: Conference
  - name: emails
    using:
      foreign_key_constraint_on:
        column: userId
        table:
          schema: public
          name: Email
  - name: invitationsPendingConfirmation
    using:
      foreign_key_constraint_on:
        column: linkToUserId
        table:
          schema: public
          name: Invitation
  select_permissions:
  - role: user
    permission:
      columns:
      - created_at
      - email
      - firstName
      - id
      - lastLoggedInAt
      - lastName
      - updated_at
      filter:
        id:
          _eq: X-Hasura-User-Id
      limit: 5000
  update_permissions:
  - role: user
    permission:
      columns:
      - email
      - firstName
      - lastName
      filter:
        id:
          _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        id:
          _eq: X-Hasura-User-Id
- table:
    schema: public
    name: VideoRenderJob
  object_relationships:
  - name: broadcastContentItem
    using:
      foreign_key_constraint_on: broadcastContentItemId
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: conferencePrepareJob
    using:
      foreign_key_constraint_on: conferencePrepareJobId
  - name: jobStatus
    using:
      foreign_key_constraint_on: jobStatusName
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - conferencePrepareJobId
      - created_at
      - id
      - jobStatusName
      - updated_at
      filter:
        _or:
        - conference:
            groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      permissionName:
                        _eq: CONFERENCE_MANAGE_CONTENT
              - _or:
                - includeUnauthenticated:
                    _eq: true
                - groupAttendees:
                    attendee:
                      userId:
                        _eq: X-Hasura-User-Id
  event_triggers:
  - name: VideoRenderJobUpdated
    definition:
      enable_manual: false
      insert:
        columns: '*'
      update:
        columns:
        - data
        - jobStatusName
        - message
        - created_at
        - updated_at
        - broadcastContentItemId
        - conferenceId
        - conferencePrepareJobId
        - id
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/videoRenderJob/updated'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: room
    name: ShufflePeriod
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: organiser
    using:
      foreign_key_constraint_on: organiserId
  array_relationships:
  - name: queueEntries
    using:
      foreign_key_constraint_on:
        column: shufflePeriodId
        table:
          schema: room
          name: ShuffleQueueEntry
  - name: shuffleRooms
    using:
      foreign_key_constraint_on:
        column: shufflePeriodId
        table:
          schema: room
          name: ShuffleRoom
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - organiser:
            userId:
              _eq: X-Hasura-User-Id
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_SCHEDULE
                  - CONFERENCE_MANAGE_ATTENDEES
                  - CONFERENCE_MODERATE_ATTENDEES
            _table:
              schema: public
              name: FlatUserPermission
      set:
        organiserId: x-hasura-User-Id
      columns:
      - endAt
      - id
      - maxAttendeesPerRoom
      - name
      - roomDurationMinutes
      - startAt
      - targetAttendeesPerRoom
      - waitRoomMaxDurationSeconds
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - maxAttendeesPerRoom
      - roomDurationMinutes
      - targetAttendeesPerRoom
      - waitRoomMaxDurationSeconds
      - name
      - created_at
      - endAt
      - startAt
      - updated_at
      - conferenceId
      - id
      - organiserId
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_SCHEDULE
                  - CONFERENCE_MANAGE_ATTENDEES
                  - CONFERENCE_MODERATE_ATTENDEES
                  - CONFERENCE_VIEW_ATTENDEES
            _table:
              schema: public
              name: FlatUserPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - created_at
      - endAt
      - maxAttendeesPerRoom
      - name
      - roomDurationMinutes
      - startAt
      - targetAttendeesPerRoom
      - updated_at
      - waitRoomMaxDurationSeconds
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_SCHEDULE
                  - CONFERENCE_MANAGE_ATTENDEES
                  - CONFERENCE_MODERATE_ATTENDEES
            _table:
              schema: public
              name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_SCHEDULE
                  - CONFERENCE_MANAGE_ATTENDEES
                  - CONFERENCE_MODERATE_ATTENDEES
            _table:
              schema: public
              name: FlatUserPermission
- table:
    schema: room
    name: ShuffleQueueEntry
  object_relationships:
  - name: attendee
    using:
      foreign_key_constraint_on: attendeeId
  - name: shufflePeriod
    using:
      foreign_key_constraint_on: shufflePeriodId
  - name: shuffleRoom
    using:
      foreign_key_constraint_on: allocatedShuffleRoomId
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - shufflePeriod:
            conference:
              slug:
                _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_SCHEDULE
                  - CONFERENCE_MANAGE_ATTENDEES
                  - CONFERENCE_MODERATE_ATTENDEES
                  - CONFERENCE_VIEW_ATTENDEES
            _table:
              schema: public
              name: FlatUserPermission
        - attendee:
            userId:
              _eq: X-Hasura-User-Id
      columns:
      - allocatedShuffleRoomId
      - attendeeId
      - id
      - shufflePeriodId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - allocatedShuffleRoomId
      - attendeeId
      - created_at
      - id
      - shufflePeriodId
      - updated_at
      filter:
        _and:
        - shufflePeriod:
            conference:
              slug:
                _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_SCHEDULE
                  - CONFERENCE_MANAGE_ATTENDEES
                  - CONFERENCE_MODERATE_ATTENDEES
                  - CONFERENCE_VIEW_ATTENDEES
            _table:
              schema: public
              name: FlatUserPermission
      allow_aggregations: true
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - shufflePeriod:
            conference:
              slug:
                _eq: X-Hasura-Conference-Slug
        - _or:
          - _and:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - attendee:
                userId:
                  _eq: X-Hasura-User-Id
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_SCHEDULE
                    - CONFERENCE_MANAGE_ATTENDEES
                    - CONFERENCE_MODERATE_ATTENDEES
              _table:
                schema: public
                name: FlatUserPermission
  event_triggers:
  - name: ShuffleQueueEntered
    definition:
      enable_manual: false
      insert:
        columns: '*'
    retry_conf:
      num_retries: 1
      interval_sec: 30
      timeout_sec: 20
    webhook: '{{ACTION_BASE_URL}}/shuffle/entered'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: room
    name: ShuffleRoom
  object_relationships:
  - name: room
    using:
      foreign_key_constraint_on: roomId
  - name: shufflePeriod
    using:
      foreign_key_constraint_on: shufflePeriodId
  array_relationships:
  - name: queueEntries
    using:
      foreign_key_constraint_on:
        column: allocatedShuffleRoomId
        table:
          schema: room
          name: ShuffleQueueEntry
  select_permissions:
  - role: user
    permission:
      columns:
      - id
      - created_at
      - updated_at
      - shufflePeriodId
      - roomId
      - durationMinutes
      - startedAt
      - reshuffleUponEnd
      - isEnded
      filter:
        _and:
        - shufflePeriod:
            conference:
              slug:
                _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_SCHEDULE
                  - CONFERENCE_MANAGE_ATTENDEES
                  - CONFERENCE_MODERATE_ATTENDEES
                  - CONFERENCE_VIEW_ATTENDEES
            _table:
              schema: public
              name: FlatUserPermission
