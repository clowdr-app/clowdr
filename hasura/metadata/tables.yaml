- table:
    schema: analytics
    name: AppStats
- table:
    schema: analytics
    name: CompletedRegistrations
  object_relationships:
  - name: conference
    using:
      manual_configuration:
        remote_table:
          schema: conference
          name: Conference
        insertion_order: null
        column_mapping:
          id: id
  select_permissions:
  - role: user
    permission:
      columns:
      - id
      - count
      filter:
        _or:
        - _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_CONTENT
                    - CONFERENCE_MANAGE_SCHEDULE
                    - CONFERENCE_MANAGE_ATTENDEES
                    - CONFERENCE_MANAGE_ROLES
                    - CONFERENCE_MANAGE_GROUPS
              _table:
                schema: public
                name: FlatUserPermission
        - conference:
            createdBy:
              _eq: X-Hasura-User-Id
- table:
    schema: analytics
    name: ContentElementStats
  object_relationships:
  - name: element
    using:
      foreign_key_constraint_on: elementId
  select_permissions:
  - role: user
    permission:
      columns:
      - created_at
      - elementId
      - id
      - updated_at
      - viewCount
      filter:
        element:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _or:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_VIEW
                      - CONFERENCE_MANAGE_CONTENT
                _table:
                  schema: public
                  name: FlatUserPermission
            - _exists:
                _where:
                  _and:
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW
                _table:
                  schema: public
                  name: FlatUnauthPermission
- table:
    schema: analytics
    name: ContentItemStats
  object_relationships:
  - name: contentGroup
    using:
      foreign_key_constraint_on: itemId
  select_permissions:
  - role: user
    permission:
      columns:
      - created_at
      - id
      - itemId
      - updated_at
      - viewCount
      filter:
        contentGroup:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _or:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_VIEW
                      - CONFERENCE_MANAGE_CONTENT
                _table:
                  schema: public
                  name: FlatUserPermission
            - _exists:
                _where:
                  _and:
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW
                _table:
                  schema: public
                  name: FlatUnauthPermission
- table:
    schema: analytics
    name: ElementTotalViews
  object_relationships:
  - name: element
    using:
      manual_configuration:
        remote_table:
          schema: content
          name: Element
        insertion_order: null
        column_mapping:
          elementId: id
  select_permissions:
  - role: user
    permission:
      columns:
      - elementId
      - totalViewCount
      filter:
        element:
          _or:
          - _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_CONTENT
                      - CONFERENCE_MANAGE_SCHEDULE
                      - CONFERENCE_MANAGE_ATTENDEES
                      - CONFERENCE_MANAGE_ROLES
                      - CONFERENCE_MANAGE_GROUPS
                _table:
                  schema: public
                  name: FlatUserPermission
          - conference:
              createdBy:
                _eq: X-Hasura-User-Id
- table:
    schema: analytics
    name: ItemTotalViews
  object_relationships:
  - name: item
    using:
      manual_configuration:
        remote_table:
          schema: content
          name: Item
        insertion_order: null
        column_mapping:
          itemId: id
  select_permissions:
  - role: user
    permission:
      columns:
      - itemId
      - totalViewCount
      filter:
        item:
          _or:
          - _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_CONTENT
                      - CONFERENCE_MANAGE_SCHEDULE
                      - CONFERENCE_MANAGE_ATTENDEES
                      - CONFERENCE_MANAGE_ROLES
                      - CONFERENCE_MANAGE_GROUPS
                _table:
                  schema: public
                  name: FlatUserPermission
          - conference:
              createdBy:
                _eq: X-Hasura-User-Id
- table:
    schema: analytics
    name: RoomPresence
  object_relationships:
  - name: room
    using:
      manual_configuration:
        remote_table:
          schema: room
          name: Room
        insertion_order: null
        column_mapping:
          id: id
  select_permissions:
  - role: user
    permission:
      columns:
      - id
      - name
      - created_at
      - count
      filter:
        room:
          _or:
          - _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_CONTENT
                      - CONFERENCE_MANAGE_SCHEDULE
                      - CONFERENCE_MANAGE_ATTENDEES
                      - CONFERENCE_MANAGE_ROLES
                      - CONFERENCE_MANAGE_GROUPS
                _table:
                  schema: public
                  name: FlatUserPermission
          - conference:
              createdBy:
                _eq: X-Hasura-User-Id
- table:
    schema: analytics
    name: RoomStats
  object_relationships:
  - name: room
    using:
      foreign_key_constraint_on: roomId
  select_permissions:
  - role: user
    permission:
      columns:
      - created_at
      - hlsViewCount
      - id
      - roomId
      - updated_at
      filter:
        room:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _or:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_SCHEDULE
                      - CONFERENCE_MANAGE_CONTENT
                _table:
                  schema: public
                  name: FlatUserPermission
            - _and:
              - _or:
                - _exists:
                    _where:
                      _and:
                      - slug:
                          _eq: X-Hasura-Conference-Slug
                      - permission_name:
                          _eq: CONFERENCE_VIEW
                    _table:
                      schema: public
                      name: FlatUnauthPermission
                - _exists:
                    _where:
                      _and:
                      - user_id:
                          _eq: X-Hasura-User-Id
                      - slug:
                          _eq: X-Hasura-Conference-Slug
                      - permission_name:
                          _in:
                          - CONFERENCE_VIEW
                          - CONFERENCE_VIEW_ATTENDEES
                          - CONFERENCE_MANAGE_SCHEDULE
                          - CONFERENCE_MANAGE_CONTENT
                    _table:
                      schema: public
                      name: FlatUserPermission
              - _or:
                - managementModeName:
                    _eq: PUBLIC
                - roomPeople:
                    registrant:
                      userId:
                        _eq: X-Hasura-User-Id
- table:
    schema: analytics
    name: mat_ElementTotalViews
- table:
    schema: analytics
    name: mat_ItemTotalViews
- table:
    schema: analytics
    name: mat_RoomPresence
- table:
    schema: chat
    name: Chat
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: duplicateTo
    using:
      foreign_key_constraint_on: duplicateToId
  array_relationships:
  - name: duplicatesFrom
    using:
      foreign_key_constraint_on:
        column: duplicateToId
        table:
          schema: chat
          name: Chat
  - name: flags
    using:
      foreign_key_constraint_on:
        column: discussionChatId
        table:
          schema: chat
          name: Flag
  - name: items
    using:
      foreign_key_constraint_on:
        column: chatId
        table:
          schema: content
          name: Item
  - name: messages
    using:
      foreign_key_constraint_on:
        column: chatId
        table:
          schema: chat
          name: Message
  - name: pins
    using:
      foreign_key_constraint_on:
        column: chatId
        table:
          schema: chat
          name: Pin
  - name: readUpToIndices
    using:
      foreign_key_constraint_on:
        column: chatId
        table:
          schema: chat
          name: ReadUpToIndex
  - name: rooms
    using:
      foreign_key_constraint_on:
        column: chatId
        table:
          schema: room
          name: Room
  - name: subscriptions
    using:
      foreign_key_constraint_on:
        column: chatId
        table:
          schema: chat
          name: Subscription
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - id
      filter: {}
  - role: user
    permission:
      columns:
      - conferenceId
      - created_at
      - enableAutoPin
      - enableAutoSubscribe
      - enableMandatoryPin
      - enableMandatorySubscribe
      - id
      - remoteServiceId
      - restrictToAdmins
      - updated_at
      filter:
        _and:
        - conference:
            _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - userPermissions:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - permission_name:
                    _in:
                    - CONFERENCE_VIEW_ATTENDEES
                    - CONFERENCE_MANAGE_SCHEDULE
                    - CONFERENCE_MODERATE_ATTENDEES
        - _or:
          - rooms:
              _or:
              - managementModeName:
                  _eq: PUBLIC
              - roomPeople:
                  registrant:
                    userId:
                      _eq: X-Hasura-User-Id
          - _not:
              rooms: {}
  update_permissions:
  - role: user
    permission:
      columns:
      - enableAutoPin
      - enableAutoSubscribe
      - enableMandatoryPin
      - enableMandatorySubscribe
      - restrictToAdmins
      filter:
        conference:
          _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - userPermissions:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        conference:
          _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - userPermissions:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
- table:
    schema: chat
    name: Flag
  object_relationships:
  - name: discussionChat
    using:
      foreign_key_constraint_on: discussionChatId
  - name: flaggedBy
    using:
      foreign_key_constraint_on: flaggedById
  - name: message
    using:
      foreign_key_constraint_on: messageSId
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - flaggedBy:
            userId:
              _eq: X-Hasura-User-Id
        - message:
            chat:
              _or:
              - _and:
                - restrictToAdmins:
                    _eq: false
                - conference:
                    groups:
                      _and:
                      - enabled:
                          _eq: true
                      - groupRoles:
                          role:
                            rolePermissions:
                              _or:
                              - permissionName:
                                  _eq: CONFERENCE_VIEW
                              - permissionName:
                                  _eq: CONFERENCE_MANAGE_ATTENDEES
                              - permissionName:
                                  _eq: CONFERENCE_VIEW_ATTENDEES
                      - _or:
                        - includeUnauthenticated:
                            _eq: true
                        - groupRegistrants:
                            registrant:
                              userId:
                                _eq: X-Hasura-User-Id
                - _or:
                  - rooms:
                      _or:
                      - managementModeName:
                          _eq: PUBLIC
                      - roomPeople:
                          registrant:
                            userId:
                              _eq: X-Hasura-User-Id
                  - _not:
                      rooms: {}
              - _and:
                - restrictToAdmins:
                    _eq: true
                - conference:
                    groups:
                      _and:
                      - enabled:
                          _eq: true
                      - groupRoles:
                          role:
                            rolePermissions:
                              permissionName:
                                _eq: CONFERENCE_MANAGE_ATTENDEES
                      - _or:
                        - includeUnauthenticated:
                            _eq: true
                        - groupRegistrants:
                            registrant:
                              userId:
                                _eq: X-Hasura-User-Id
                - _or:
                  - rooms:
                      _or:
                      - managementModeName:
                          _eq: PUBLIC
                      - roomPeople:
                          registrant:
                            userId:
                              _eq: X-Hasura-User-Id
                  - _not:
                      rooms: {}
      columns:
      - discussionChatId
      - flaggedById
      - id
      - messageSId
      - notes
      - type
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - created_at
      - discussionChatId
      - flaggedById
      - id
      - messageSId
      - notes
      - resolution
      - resolved_at
      - type
      - updated_at
      filter:
        _or:
        - flaggedBy:
            userId:
              _eq: X-Hasura-User-Id
        - message:
            chat:
              conference:
                groups:
                  _and:
                  - enabled:
                      _eq: true
                  - groupRoles:
                      role:
                        rolePermissions:
                          permissionName:
                            _eq: CONFERENCE_MODERATE_ATTENDEES
                  - _or:
                    - includeUnauthenticated:
                        _eq: true
                    - groupRegistrants:
                        registrant:
                          userId:
                            _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - discussionChatId
      - id
      - notes
      - resolution
      - resolved_at
      - type
      filter:
        _and:
        - resolved_at:
            _is_null: true
        - _or:
          - flaggedBy:
              userId:
                _eq: X-Hasura-User-Id
          - message:
              chat:
                conference:
                  groups:
                    _and:
                    - enabled:
                        _eq: true
                    - groupRoles:
                        role:
                          rolePermissions:
                            permissionName:
                              _eq: CONFERENCE_MODERATE_ATTENDEES
                    - _or:
                      - includeUnauthenticated:
                          _eq: true
                      - groupRegistrants:
                          registrant:
                            userId:
                              _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - resolved_at:
            _is_null: true
        - flaggedBy:
            userId:
              _eq: X-Hasura-User-Id
  event_triggers:
  - name: ChatFlagInserted_NotifyActions
    definition:
      enable_manual: false
      insert:
        columns: '*'
    retry_conf:
      num_retries: 2
      interval_sec: 120
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/chat/flag/inserted'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
  - name: ChatFlagInserted_NotifyRealtime
    definition:
      enable_manual: false
      insert:
        columns: '*'
    retry_conf:
      num_retries: 2
      interval_sec: 120
      timeout_sec: 60
    webhook: '{{REALTIME_BASE_URL}}/chat/flag/inserted'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: chat
    name: FlagType
  is_enum: true
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - description
      - name
      filter: {}
  - role: user
    permission:
      columns:
      - name
      - description
      filter: {}
- table:
    schema: chat
    name: Message
  object_relationships:
  - name: chat
    using:
      foreign_key_constraint_on: chatId
  - name: duplicateIncoming
    using:
      manual_configuration:
        remote_table:
          schema: chat
          name: Message
        insertion_order: null
        column_mapping:
          sId: duplicatedMessageSId
  - name: duplicateOutgoing
    using:
      foreign_key_constraint_on: duplicatedMessageSId
  - name: sender
    using:
      foreign_key_constraint_on: senderId
  array_relationships:
  - name: flags
    using:
      foreign_key_constraint_on:
        column: messageSId
        table:
          schema: chat
          name: Flag
  - name: reactions
    using:
      foreign_key_constraint_on:
        column: messageSId
        table:
          schema: chat
          name: Reaction
  select_permissions:
  - role: user
    permission:
      columns:
      - chatId
      - created_at
      - data
      - duplicatedMessageSId
      - id
      - isPinned
      - message
      - sId
      - senderId
      - systemId
      - type
      - updated_at
      filter:
        chat:
          _and:
          - _or:
            - rooms:
                _or:
                - managementModeName:
                    _eq: PUBLIC
                - roomPeople:
                    registrant:
                      userId:
                        _eq: X-Hasura-User-Id
            - _not:
                rooms: {}
          - conference:
              _and:
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - userPermissions:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_ATTENDEES
                      - CONFERENCE_MODERATE_ATTENDEES
                      - CONFERENCE_VIEW_ATTENDEES
- table:
    schema: chat
    name: MessageType
  is_enum: true
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - name
      filter: {}
  - role: user
    permission:
      columns:
      - name
      filter: {}
- table:
    schema: chat
    name: Pin
  object_relationships:
  - name: chat
    using:
      foreign_key_constraint_on: chatId
  - name: registrant
    using:
      foreign_key_constraint_on: registrantId
  insert_permissions:
  - role: user
    permission:
      check:
        registrant:
          userId:
            _eq: X-Hasura-User-Id
      columns:
      - registrantId
      - chatId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - wasManuallyPinned
      - created_at
      - registrantId
      - chatId
      filter:
        registrant:
          userId:
            _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - wasManuallyPinned
      filter:
        registrant:
          userId:
            _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        registrant:
          userId:
            _eq: X-Hasura-User-Id
  event_triggers:
  - name: ChatPinChanged
    definition:
      enable_manual: true
      insert:
        columns: '*'
      delete:
        columns: '*'
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{REALTIME_BASE_URL}}/chat/pinChanged'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: chat
    name: Reaction
  object_relationships:
  - name: duplicate
    using:
      foreign_key_constraint_on: duplicateSId
  - name: message
    using:
      foreign_key_constraint_on: messageSId
  - name: sender
    using:
      foreign_key_constraint_on: senderId
  array_relationships:
  - name: duplicates
    using:
      foreign_key_constraint_on:
        column: duplicateSId
        table:
          schema: chat
          name: Reaction
  select_permissions:
  - role: user
    permission:
      columns:
      - chatId
      - created_at
      - data
      - duplicateSId
      - messageSId
      - sId
      - senderId
      - symbol
      - type
      - updated_at
      filter:
        message:
          chat:
            _and:
            - conference:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - userPermissions:
                    _and:
                    - user_id:
                        _eq: X-Hasura-User-Id
                    - permission_name:
                        _in:
                        - CONFERENCE_MANAGE_ATTENDEES
                        - CONFERENCE_MODERATE_ATTENDEES
                        - CONFERENCE_VIEW_ATTENDEES
            - _or:
              - rooms:
                  _or:
                  - managementModeName:
                      _eq: PUBLIC
                  - roomPeople:
                      registrant:
                        userId:
                          _eq: X-Hasura-User-Id
              - _not:
                  rooms: {}
- table:
    schema: chat
    name: ReactionType
  is_enum: true
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - description
      - name
      filter: {}
  - role: user
    permission:
      columns:
      - name
      - description
      filter: {}
- table:
    schema: chat
    name: ReadUpToIndex
  object_relationships:
  - name: chat
    using:
      foreign_key_constraint_on: chatId
  - name: registrant
    using:
      foreign_key_constraint_on: registrantId
  select_permissions:
  - role: user
    permission:
      columns:
      - registrantId
      - chatId
      - messageSId
      - updated_at
      filter:
        registrant:
          userId:
            _eq: X-Hasura-User-Id
- table:
    schema: chat
    name: Subscription
  object_relationships:
  - name: chat
    using:
      foreign_key_constraint_on: chatId
  - name: registrant
    using:
      foreign_key_constraint_on: registrantId
  insert_permissions:
  - role: user
    permission:
      check:
        registrant:
          userId:
            _eq: X-Hasura-User-Id
      columns:
      - registrantId
      - chatId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - wasManuallySubscribed
      - created_at
      - registrantId
      - chatId
      filter:
        registrant:
          userId:
            _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - wasManuallySubscribed
      filter:
        registrant:
          userId:
            _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        registrant:
          userId:
            _eq: X-Hasura-User-Id
  event_triggers:
  - name: ChatSubscriptionChanged
    definition:
      enable_manual: true
      insert:
        columns: '*'
      delete:
        columns: '*'
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{REALTIME_BASE_URL}}/chat/subscriptionChanged'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: collection
    name: Exhibition
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: descriptiveItem
    using:
      foreign_key_constraint_on: descriptiveItemId
  array_relationships:
  - name: items
    using:
      foreign_key_constraint_on:
        column: exhibitionId
        table:
          schema: content
          name: ItemExhibition
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - colour
      - conferenceId
      - id
      - isHidden
      - name
      - priority
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - colour
      - conferenceId
      - descriptiveItemId
      - id
      - isHidden
      - name
      - priority
      filter:
        conference:
          _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - colour
      - conferenceId
      - created_at
      - descriptiveItemId
      - id
      - isHidden
      - name
      - priority
      - updated_at
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_VIEW
                    - CONFERENCE_MANAGE_CONTENT
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - colour
      - descriptiveItemId
      - isHidden
      - name
      - priority
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
- table:
    schema: collection
    name: ProgramPerson
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: originatingData
    using:
      foreign_key_constraint_on: originatingDataId
  - name: registrant
    using:
      foreign_key_constraint_on: registrantId
  array_relationships:
  - name: eventPeople
    using:
      foreign_key_constraint_on:
        column: personId
        table:
          schema: schedule
          name: EventProgramPerson
  - name: itemPeople
    using:
      foreign_key_constraint_on:
        column: personId
        table:
          schema: content
          name: ItemProgramPerson
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - affiliation
      - registrantId
      - conferenceId
      - email
      - id
      - name
      - originatingDataId
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - affiliation
      - conferenceId
      - id
      - name
      - registrantId
      filter:
        conference:
          _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - affiliation
      - conferenceId
      - id
      - name
      - registrantId
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_VIEW
                    - CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - affiliation
      - registrantId
      - email
      - name
      - originatingDataId
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
- table:
    schema: collection
    name: ProgramPersonByAccessToken
  array_relationships:
  - name: itemPeople
    using:
      manual_configuration:
        remote_table:
          schema: content
          name: ItemProgramPersonByAccessToken
        insertion_order: null
        column_mapping:
          id: personId
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - accessToken
      - conferenceId
      - id
      - name
      filter:
        accessToken:
          _eq: X-Hasura-Magic-Token
  - role: user
    permission:
      columns:
      - accessToken
      - conferenceId
      - id
      - name
      filter:
        accessToken:
          _eq: X-Hasura-Magic-Token
- table:
    schema: collection
    name: ProgramPersonWithAccessToken
  object_relationships:
  - name: conference
    using:
      manual_configuration:
        remote_table:
          schema: conference
          name: Conference
        insertion_order: null
        column_mapping:
          conferenceId: id
  - name: registrant
    using:
      manual_configuration:
        remote_table:
          schema: registrant
          name: Registrant
        insertion_order: null
        column_mapping:
          registrantId: id
  array_relationships:
  - name: eventPeople
    using:
      manual_configuration:
        remote_table:
          schema: schedule
          name: EventProgramPerson
        insertion_order: null
        column_mapping:
          id: personId
  - name: itemPeople
    using:
      manual_configuration:
        remote_table:
          schema: content
          name: ItemProgramPerson
        insertion_order: null
        column_mapping:
          id: personId
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - affiliation
      - conferenceId
      - email
      - id
      - name
      - originatingDataId
      - registrantId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - accessToken
      - affiliation
      - conferenceId
      - email
      - id
      - name
      - originatingDataId
      - registrantId
      - submissionRequestsSentCount
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - accessToken
      - affiliation
      - email
      - name
      - originatingDataId
      - registrantId
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
- table:
    schema: collection
    name: Tag
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: originatingData
    using:
      foreign_key_constraint_on: originatingDataId
  array_relationships:
  - name: eventTags
    using:
      foreign_key_constraint_on:
        column: tagId
        table:
          schema: schedule
          name: EventTag
  - name: itemTags
    using:
      foreign_key_constraint_on:
        column: tagId
        table:
          schema: content
          name: ItemTag
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - colour
      - conferenceId
      - id
      - name
      - originatingDataId
      - priority
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - colour
      - conferenceId
      - id
      - name
      - originatingDataId
      - priority
      filter:
        conference:
          _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - colour
      - conferenceId
      - created_at
      - id
      - name
      - originatingDataId
      - priority
      - updated_at
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_VIEW
                    - CONFERENCE_MANAGE_CONTENT
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - colour
      - name
      - originatingDataId
      - priority
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_CONTENT
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
- table:
    schema: conference
    name: Conference
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: completedRegistrationsStat
    using:
      manual_configuration:
        remote_table:
          schema: analytics
          name: CompletedRegistrations
        insertion_order: null
        column_mapping:
          id: id
  - name: creator
    using:
      foreign_key_constraint_on: createdBy
  - name: demoCode
    using:
      foreign_key_constraint_on: demoCodeId
  array_relationships:
  - name: chats
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: chat
          name: Chat
  - name: configurations
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: conference
          name: Configuration
  - name: exhibitions
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: collection
          name: Exhibition
  - name: groups
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: permissions
          name: Group
  - name: items
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: content
          name: Item
  - name: originatingDatas
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: conference
          name: OriginatingData
  - name: programPeople
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: collection
          name: ProgramPerson
  - name: publicPermissions
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: FlatUnauthPermission
        insertion_order: null
        column_mapping:
          slug: slug
  - name: registrants
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: registrant
          name: Registrant
  - name: roles
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: permissions
          name: Role
  - name: rooms
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: room
          name: Room
  - name: shufflePeriods
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: room
          name: ShufflePeriod
  - name: tags
    using:
      foreign_key_constraint_on:
        column: conferenceId
        table:
          schema: collection
          name: Tag
  - name: userPermissions
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: FlatUserPermission
        insertion_order: null
        column_mapping:
          slug: slug
  insert_permissions:
  - role: user
    permission:
      check:
        demoCode:
          usedById:
            _is_null: true
      set:
        createdBy: x-hasura-User-Id
      columns:
      - demoCodeId
      - name
      - shortName
      - slug
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - createdBy
      - created_at
      - id
      - name
      - shortName
      - slug
      - updated_at
      filter:
        _and:
        - slug:
            _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_VIEW
            _table:
              schema: public
              name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - createdBy
      - created_at
      - id
      - name
      - shortName
      - slug
      - updated_at
      filter:
        _or:
        - createdBy:
            _eq: X-Hasura-User-Id
        - registrants:
            userId:
              _eq: X-Hasura-User-Id
        - _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - name
      - shortName
      - slug
      filter:
        _or:
        - createdBy:
            _eq: X-Hasura-User-Id
        - _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_NAME
              _table:
                schema: public
                name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        createdBy:
          _eq: X-Hasura-User-Id
- table:
    schema: conference
    name: Configuration
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  insert_permissions:
  - role: user
    permission:
      check:
        _or:
        - _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
        - conference:
            createdBy:
              _eq: X-Hasura-User-Id
      columns:
      - conferenceId
      - key
      - value
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - conferenceId
      - key
      - value
      filter:
        key:
          _in:
          - CLOWDR_APP_VERSION
          - REGISTRATION_URL
          - SUPPORT_ADDRESS
          - SCHEDULE_VIEW_VERSION
          - SPONSORS_LABEL
          - DISABLE_NEARBY_EVENTS
  - role: user
    permission:
      columns:
      - conferenceId
      - created_at
      - key
      - updated_at
      - value
      filter:
        _or:
        - _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
        - conference:
            createdBy:
              _eq: X-Hasura-User-Id
        - key:
            _in:
            - CLOWDR_APP_VERSION
            - REGISTRATION_URL
            - SUPPORT_ADDRESS
            - SCHEDULE_VIEW_VERSION
            - ENABLE_BACKSTAGE_STREAM_PREVIEW
            - SPONSORS_LABEL
            - DISABLE_NEARBY_EVENTS
  update_permissions:
  - role: user
    permission:
      columns:
      - value
      filter:
        _or:
        - _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
        - conference:
            createdBy:
              _eq: X-Hasura-User-Id
      check: null
- table:
    schema: conference
    name: ConfigurationKey
  is_enum: true
- table:
    schema: conference
    name: DemoCode
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      manual_configuration:
        remote_table:
          schema: conference
          name: Conference
        insertion_order: null
        column_mapping:
          id: demoCodeId
  - name: usedBy
    using:
      foreign_key_constraint_on: usedById
  select_permissions:
  - role: user
    permission:
      columns:
      - id
      - note
      - usedById
      filter:
        usedById:
          _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - note
      filter:
        usedById:
          _is_null: true
      check: {}
      set:
        usedById: x-hasura-User-Id
- table:
    schema: conference
    name: OriginatingData
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  array_relationships:
  - name: elements
    using:
      foreign_key_constraint_on:
        column: originatingDataId
        table:
          schema: content
          name: Element
  - name: events
    using:
      foreign_key_constraint_on:
        column: originatingDataId
        table:
          schema: schedule
          name: Event
  - name: items
    using:
      foreign_key_constraint_on:
        column: originatingDataId
        table:
          schema: content
          name: Item
  - name: programPeople
    using:
      foreign_key_constraint_on:
        column: originatingDataId
        table:
          schema: collection
          name: ProgramPerson
  - name: rooms
    using:
      foreign_key_constraint_on:
        column: originatingDataId
        table:
          schema: room
          name: Room
  - name: tags
    using:
      foreign_key_constraint_on:
        column: originatingDataId
        table:
          schema: collection
          name: Tag
  insert_permissions:
  - role: user
    permission:
      check:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _in:
                      - CONFERENCE_MANAGE_CONTENT
                      - CONFERENCE_MANAGE_SCHEDULE
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupRegistrants:
                  registrant:
                    userId:
                      _eq: X-Hasura-User-Id
      columns:
      - conferenceId
      - data
      - id
      - sourceId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - created_at
      - data
      - id
      - sourceId
      - updated_at
      filter:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _in:
                      - CONFERENCE_MANAGE_CONTENT
                      - CONFERENCE_MANAGE_SCHEDULE
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupRegistrants:
                  registrant:
                    userId:
                      _eq: X-Hasura-User-Id
  delete_permissions:
  - role: user
    permission:
      filter:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _in:
                      - CONFERENCE_MANAGE_CONTENT
                      - CONFERENCE_MANAGE_SCHEDULE
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupRegistrants:
                  registrant:
                    userId:
                      _eq: X-Hasura-User-Id
- table:
    schema: conference
    name: PrepareJob
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: jobStatus
    using:
      foreign_key_constraint_on: jobStatusName
  array_relationships:
  - name: videoRenderJobs
    using:
      foreign_key_constraint_on:
        column: conferencePrepareJobId
        table:
          schema: video
          name: VideoRenderJob
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - conferenceId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - created_at
      - id
      - jobStatusName
      - message
      - updated_at
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
  event_triggers:
  - name: ConferencePrepareJobCreated
    definition:
      enable_manual: false
      insert:
        columns: '*'
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 300
    webhook: '{{ACTION_BASE_URL}}/conferencePrepareJob/inserted'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: content
    name: Element
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: item
    using:
      foreign_key_constraint_on: itemId
  - name: originatingData
    using:
      foreign_key_constraint_on: originatingDataId
  - name: totalViewsStat
    using:
      manual_configuration:
        remote_table:
          schema: analytics
          name: ElementTotalViews
        insertion_order: null
        column_mapping:
          id: elementId
  - name: type
    using:
      foreign_key_constraint_on: typeName
  array_relationships:
  - name: permissionGrants
    using:
      foreign_key_constraint_on:
        column: entityId
        table:
          schema: content
          name: ElementPermissionGrant
  - name: stats
    using:
      foreign_key_constraint_on:
        column: elementId
        table:
          schema: analytics
          name: ContentElementStats
  - name: uploaders
    using:
      foreign_key_constraint_on:
        column: elementId
        table:
          schema: content
          name: Uploader
  - name: youTubeUploads
    using:
      foreign_key_constraint_on:
        column: elementId
        table:
          schema: video
          name: YouTubeUpload
  computed_fields:
  - name: hasBeenSubmitted
    definition:
      function:
        schema: content
        name: elementHasBeenSubmitted
  - name: itemTitle
    definition:
      function:
        schema: content
        name: Element_itemTitle
  - name: uploadersCount
    definition:
      function:
        schema: content
        name: countUploaders
  insert_permissions:
  - role: user
    permission:
      check:
        _or:
        - _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
        - conference:
            createdBy:
              _eq: X-Hasura-User-Id
      columns:
      - conferenceId
      - data
      - id
      - isHidden
      - itemId
      - layoutData
      - name
      - originatingDataId
      - typeName
      - uploadsRemaining
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - conferenceId
      - created_at
      - data
      - id
      - isHidden
      - itemId
      - layoutData
      - name
      - originatingDataId
      - typeName
      - updated_at
      - uploadsRemaining
      computed_fields:
      - hasBeenSubmitted
      - itemTitle
      filter:
        _and:
        - _and:
          - conference:
              _and:
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - _exists:
                  _where:
                    _and:
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _eq: CONFERENCE_VIEW
                  _table:
                    schema: public
                    name: FlatUnauthPermission
          - _or:
            - _exists:
                _where:
                  _and:
                  - entityId:
                      _is_null: true
                  - group:
                      _and:
                      - enabled:
                          _eq: true
                      - includeUnauthenticated:
                          _eq: true
                  - conferenceSlug:
                      _eq: X-Hasura-Conference-Slug
                  - permissionSet:
                      rolePermissions:
                        permissionName:
                          _eq: CONFERENCE_VIEW
                _table:
                  schema: content
                  name: ElementPermissionGrant
            - permissionGrants:
                _and:
                - conferenceSlug:
                    _eq: X-Hasura-Conference-Slug
                - permissionSet:
                    rolePermissions:
                      permissionName:
                        _eq: CONFERENCE_VIEW
                - group:
                    _and:
                    - enabled:
                        _eq: true
                    - includeUnauthenticated:
                        _eq: true
        - typeName:
            _in:
            - ABSTRACT
            - TEXT
            - VIDEO_FILE
            - VIDEO_URL
            - VIDEO_LINK
            - IMAGE_FILE
            - IMAGE_URL
            - PAPER_FILE
            - PAPER_URL
            - PAPER_LINK
            - LINK
            - LINK_BUTTON
            - VIDEO_BROADCAST
            - VIDEO_PREPUBLISH
            - CONTENT_GROUP_LIST
            - WHOLE_SCHEDULE
            - EXPLORE_PROGRAM_BUTTON
            - EXPLORE_SCHEDULE_BUTTON
  - role: user
    permission:
      columns:
      - conferenceId
      - created_at
      - data
      - id
      - isHidden
      - itemId
      - layoutData
      - name
      - originatingDataId
      - typeName
      - updated_at
      - uploadsRemaining
      computed_fields:
      - hasBeenSubmitted
      - itemTitle
      - uploadersCount
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_CONTENT
                    - CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUserPermission
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
        - _or:
          - _exists:
              _where:
                _and:
                - entityId:
                    _is_null: true
                - _or:
                  - groupId:
                      _is_null: true
                  - group:
                      _and:
                      - _or:
                        - groupRegistrants:
                            registrant:
                              userId:
                                _eq: X-Hasura-User-Id
                        - includeUnauthenticated:
                            _eq: true
                      - enabled:
                          _eq: true
                - conferenceSlug:
                    _eq: X-Hasura-Conference-Slug
                - permissionSet:
                    rolePermissions:
                      permissionName:
                        _eq: CONFERENCE_VIEW
              _table:
                schema: content
                name: ElementPermissionGrant
          - permissionGrants:
              _and:
              - conferenceSlug:
                  _eq: X-Hasura-Conference-Slug
              - permissionSet:
                  rolePermissions:
                    permissionName:
                      _eq: CONFERENCE_VIEW
              - _or:
                - groupId:
                    _is_null: true
                - group:
                    _and:
                    - enabled:
                        _eq: true
                    - _or:
                      - includeUnauthenticated:
                          _eq: true
                      - groupRegistrants:
                          registrant:
                            userId:
                              _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - data
      - isHidden
      - itemId
      - layoutData
      - name
      - originatingDataId
      - typeName
      - uploadsRemaining
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      check:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _eq: CONFERENCE_MANAGE_CONTENT
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupRegistrants:
                  registrant:
                    userId:
                      _eq: X-Hasura-User-Id
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
  event_triggers:
  - name: ElementUpdated
    definition:
      enable_manual: true
      insert:
        columns: '*'
      update:
        columns:
        - isHidden
        - uploadsRemaining
        - data
        - layoutData
        - accessToken
        - name
        - typeName
        - conferenceId
        - id
        - itemId
        - originatingDataId
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/element/updated'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: content
    name: ElementByAccessToken
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - accessToken
      - data
      - id
      - itemTitle
      - layoutData
      - name
      - typeName
      - uploadsRemaining
      filter:
        accessToken:
          _eq: X-Hasura-Magic-Token
  - role: user
    permission:
      columns:
      - accessToken
      - data
      - id
      - itemTitle
      - layoutData
      - name
      - typeName
      - uploadsRemaining
      filter:
        accessToken:
          _eq: X-Hasura-Magic-Token
- table:
    schema: content
    name: ElementByPersonAccessToken
  object_relationships:
  - name: item
    using:
      manual_configuration:
        remote_table:
          schema: content
          name: ItemByPersonAccessToken
        insertion_order: null
        column_mapping:
          itemId: id
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - accessToken
      - conferenceId
      - created_at
      - data
      - id
      - isHidden
      - itemId
      - layoutData
      - name
      - typeName
      - updated_at
      - uploadsRemaining
      filter:
        item:
          itemPeople:
            person:
              accessToken:
                _eq: X-Hasura-Magic-Token
  - role: user
    permission:
      columns:
      - accessToken
      - conferenceId
      - created_at
      - data
      - id
      - isHidden
      - itemId
      - layoutData
      - name
      - typeName
      - updated_at
      - uploadsRemaining
      filter:
        item:
          itemPeople:
            person:
              accessToken:
                _eq: X-Hasura-Magic-Token
- table:
    schema: content
    name: ElementPermissionGrant
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceSlug
  - name: entity
    using:
      foreign_key_constraint_on: entityId
  - name: group
    using:
      foreign_key_constraint_on: groupId
  - name: permissionSet
    using:
      foreign_key_constraint_on: permissionSetId
  insert_permissions:
  - role: user
    permission:
      check:
        _or:
        - _and:
          - conferenceSlug:
              _eq: X-Hasura-Conference-Slug
          - permissionSet:
              conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
          - _or:
            - groupId:
                _is_null: true
            - group:
                conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
          - _or:
            - entityId:
                _is_null: true
            - entity:
                conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
        - conference:
            createdBy:
              _eq: X-Hasura-User-Id
      set:
        conferenceSlug: x-hasura-Conference-Slug
      columns:
      - entityId
      - groupId
      - id
      - permissionSetId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceSlug
      - created_at
      - updated_at
      - entityId
      - groupId
      - id
      - permissionSetId
      filter:
        _or:
        - _and:
          - conferenceSlug:
              _eq: X-Hasura-Conference-Slug
          - permissionSet:
              conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
          - _or:
            - groupId:
                _is_null: true
            - group:
                conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
          - _or:
            - entityId:
                _is_null: true
            - entity:
                conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
        - conference:
            createdBy:
              _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns: []
      filter:
        _or:
        - _and:
          - conferenceSlug:
              _eq: X-Hasura-Conference-Slug
          - permissionSet:
              conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
          - _or:
            - groupId:
                _is_null: true
            - group:
                conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
          - _or:
            - entityId:
                _is_null: true
            - entity:
                conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
        - conference:
            createdBy:
              _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _or:
        - _and:
          - conferenceSlug:
              _eq: X-Hasura-Conference-Slug
          - permissionSet:
              conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
          - _or:
            - groupId:
                _is_null: true
            - group:
                conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
          - _or:
            - entityId:
                _is_null: true
            - entity:
                conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
        - conference:
            createdBy:
              _eq: X-Hasura-User-Id
- table:
    schema: content
    name: ElementType
  is_enum: true
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - description
      - name
      filter: {}
  - role: user
    permission:
      columns:
      - description
      - name
      filter: {}
- table:
    schema: content
    name: Item
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: chat
    using:
      foreign_key_constraint_on: chatId
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: originatingData
    using:
      foreign_key_constraint_on: originatingDataId
  - name: room
    using:
      manual_configuration:
        remote_table:
          schema: room
          name: Room
        insertion_order: null
        column_mapping:
          id: originatingItemId
  - name: totalViewsStat
    using:
      manual_configuration:
        remote_table:
          schema: analytics
          name: ItemTotalViews
        insertion_order: null
        column_mapping:
          id: itemId
  - name: type
    using:
      foreign_key_constraint_on: typeName
  array_relationships:
  - name: elements
    using:
      foreign_key_constraint_on:
        column: itemId
        table:
          schema: content
          name: Element
  - name: events
    using:
      foreign_key_constraint_on:
        column: itemId
        table:
          schema: schedule
          name: Event
  - name: itemExhibitions
    using:
      foreign_key_constraint_on:
        column: itemId
        table:
          schema: content
          name: ItemExhibition
  - name: itemPeople
    using:
      foreign_key_constraint_on:
        column: itemId
        table:
          schema: content
          name: ItemProgramPerson
  - name: itemTags
    using:
      foreign_key_constraint_on:
        column: itemId
        table:
          schema: content
          name: ItemTag
  - name: rooms
    using:
      foreign_key_constraint_on:
        column: originatingItemId
        table:
          schema: room
          name: Room
  - name: stats
    using:
      foreign_key_constraint_on:
        column: itemId
        table:
          schema: analytics
          name: ContentItemStats
  computed_fields:
  - name: hasUnsubmittedElements
    definition:
      function:
        schema: content
        name: itemHasUnsubmittedElements
  insert_permissions:
  - role: user
    permission:
      check:
        _or:
        - _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
        - conference:
            createdBy:
              _eq: X-Hasura-User-Id
      columns:
      - conferenceId
      - typeName
      - id
      - originatingDataId
      - shortTitle
      - title
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - chatId
      - conferenceId
      - typeName
      - created_at
      - id
      - originatingDataId
      - shortTitle
      - title
      - updated_at
      filter:
        conference:
          _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - chatId
      - conferenceId
      - created_at
      - id
      - originatingDataId
      - shortTitle
      - title
      - typeName
      - updated_at
      computed_fields:
      - hasUnsubmittedElements
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_VIEW
                    - CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - typeName
      - originatingDataId
      - shortTitle
      - title
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      check: {}
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
- table:
    schema: content
    name: ItemByPersonAccessToken
  array_relationships:
  - name: elements
    using:
      manual_configuration:
        remote_table:
          schema: content
          name: ElementByPersonAccessToken
        insertion_order: null
        column_mapping:
          id: itemId
  - name: itemPeople
    using:
      manual_configuration:
        remote_table:
          schema: content
          name: ItemProgramPersonByAccessToken
        insertion_order: null
        column_mapping:
          id: itemId
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - conferenceId
      - created_at
      - id
      - shortTitle
      - title
      - typeName
      - updated_at
      filter:
        itemPeople:
          person:
            accessToken:
              _eq: X-Hasura-Magic-Token
  - role: user
    permission:
      columns:
      - conferenceId
      - created_at
      - id
      - shortTitle
      - title
      - typeName
      - updated_at
      filter:
        itemPeople:
          person:
            accessToken:
              _eq: X-Hasura-Magic-Token
- table:
    schema: content
    name: ItemExhibition
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: exhibition
    using:
      foreign_key_constraint_on: exhibitionId
  - name: item
    using:
      foreign_key_constraint_on: itemId
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - conferenceId
      - itemId
      - exhibitionId
      - id
      - layout
      - priority
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - conferenceId
      - itemId
      - exhibitionId
      - id
      - layout
      - priority
      filter:
        conference:
          _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - conferenceId
      - itemId
      - exhibitionId
      - id
      - layout
      - priority
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_VIEW
                    - CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - layout
      - priority
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
- table:
    schema: content
    name: ItemProgramPerson
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: item
    using:
      foreign_key_constraint_on: itemId
  - name: person
    using:
      foreign_key_constraint_on: personId
  - name: personWithAccessToken
    using:
      manual_configuration:
        remote_table:
          schema: collection
          name: ProgramPersonWithAccessToken
        insertion_order: null
        column_mapping:
          personId: id
  computed_fields:
  - name: hasSubmissionRequestBeenSent
    definition:
      function:
        schema: content
        name: itemProgramPerson_HasSubmissionRequestBeenSent
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - conferenceId
      - itemId
      - id
      - personId
      - priority
      - roleName
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - conferenceId
      - itemId
      - id
      - personId
      - priority
      - roleName
      filter:
        conference:
          _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - conferenceId
      - itemId
      - id
      - personId
      - priority
      - roleName
      computed_fields:
      - hasSubmissionRequestBeenSent
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_VIEW
                    - CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - priority
      - roleName
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
- table:
    schema: content
    name: ItemProgramPersonByAccessToken
  object_relationships:
  - name: item
    using:
      manual_configuration:
        remote_table:
          schema: content
          name: ItemByPersonAccessToken
        insertion_order: null
        column_mapping:
          itemId: id
  - name: person
    using:
      manual_configuration:
        remote_table:
          schema: collection
          name: ProgramPersonByAccessToken
        insertion_order: null
        column_mapping:
          personId: id
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - priority
      - roleName
      - conferenceId
      - id
      - itemId
      - personId
      filter:
        person:
          accessToken:
            _eq: X-Hasura-Magic-Token
  - role: user
    permission:
      columns:
      - id
      - personId
      - itemId
      - priority
      - roleName
      - conferenceId
      filter:
        person:
          accessToken:
            _eq: X-Hasura-Magic-Token
- table:
    schema: content
    name: ItemTag
  object_relationships:
  - name: item
    using:
      foreign_key_constraint_on: itemId
  - name: tag
    using:
      foreign_key_constraint_on: tagId
  insert_permissions:
  - role: user
    permission:
      check:
        item:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
      columns:
      - itemId
      - id
      - tagId
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - itemId
      - id
      - tagId
      filter:
        item:
          conference:
            _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW
                _table:
                  schema: public
                  name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - itemId
      - id
      - tagId
      filter:
        item:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _or:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_VIEW
                      - CONFERENCE_MANAGE_CONTENT
                _table:
                  schema: public
                  name: FlatUserPermission
            - _exists:
                _where:
                  _and:
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW
                _table:
                  schema: public
                  name: FlatUnauthPermission
  update_permissions:
  - role: user
    permission:
      columns: []
      filter:
        item:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        item:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
- table:
    schema: content
    name: ItemType
  is_enum: true
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - name
      - description
      filter: {}
  - role: user
    permission:
      columns:
      - description
      - name
      filter: {}
- table:
    schema: content
    name: Uploader
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: element
    using:
      foreign_key_constraint_on: elementId
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - elementId
      - email
      - id
      - name
      filter:
        element:
          accessToken:
            _eq: X-Hasura-Magic-Token
  - role: user
    permission:
      columns:
      - conferenceId
      - created_at
      - elementId
      - email
      - emailsSentCount
      - id
      - name
      - updated_at
      filter:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _eq: CONFERENCE_MANAGE_CONTENT
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupRegistrants:
                  registrant:
                    userId:
                      _eq: X-Hasura-User-Id
- table:
    schema: job_queues
    name: ChannelStackCreateJob
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: jobStatus
    using:
      foreign_key_constraint_on: jobStatusName
  - name: room
    using:
      foreign_key_constraint_on: roomId
- table:
    schema: job_queues
    name: ChannelStackDeleteJob
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
- table:
    schema: job_queues
    name: ChannelStackUpdateJob
  object_relationships:
  - name: channelStack
    using:
      foreign_key_constraint_on: channelStackId
  select_permissions:
  - role: user
    permission:
      columns:
      - channelStackId
      - created_at
      - id
      - jobStatusName
      - message
      - updated_at
      filter:
        channelStack:
          conference:
            groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      _or:
                      - permissionName:
                          _eq: CONFERENCE_VIEW
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_SCHEDULE
              - _or:
                - includeUnauthenticated:
                    _eq: true
                - groupRegistrants:
                    registrant:
                      userId:
                        _eq: X-Hasura-User-Id
- table:
    schema: job_queues
    name: CombineVideosJob
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: jobStatus
    using:
      foreign_key_constraint_on: jobStatusName
  - name: registrant
    using:
      foreign_key_constraint_on: createdByRegistrantId
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - registrant:
            userId:
              _eq: X-Hasura-User-Id
        - conference:
            _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - userPermissions:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - permission_name:
                    _eq: CONFERENCE_MANAGE_CONTENT
      columns:
      - conferenceId
      - createdByRegistrantId
      - data
      - outputName
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - createdByRegistrantId
      - created_at
      - data
      - id
      - jobStatusName
      - message
      - outputName
      - updated_at
      filter:
        conference:
          _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - userPermissions:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
- table:
    schema: job_queues
    name: CustomEmailJob
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  insert_permissions:
  - role: user
    permission:
      check:
        conference:
          _and:
          - _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        _or:
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ROLES
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_GROUPS
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ATTENDEES
                - groupRegistrants:
                    registrant:
                      userId:
                        _eq: X-Hasura-User-Id
          - slug:
              _eq: X-Hasura-Conference-Slug
      columns:
      - registrantIds
      - conferenceId
      - htmlBody
      - subject
      backend_only: false
- table:
    schema: job_queues
    name: InvitationEmailJob
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  insert_permissions:
  - role: user
    permission:
      check:
        conference:
          _or:
          - createdBy:
              _eq: X-Hasura-User-Id
          - groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      _or:
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_ROLES
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_GROUPS
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_ATTENDEES
              - groupRegistrants:
                  registrant:
                    userId:
                      _eq: X-Hasura-User-Id
      columns:
      - registrantIds
      - conferenceId
      - sendRepeat
      backend_only: false
- table:
    schema: job_queues
    name: MediaPackageHarvestJob
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: event
    using:
      foreign_key_constraint_on: eventId
  - name: jobStatus
    using:
      foreign_key_constraint_on: jobStatusName
  event_triggers:
  - name: MediaPackageHarvestJobUpdated
    definition:
      enable_manual: true
      insert:
        columns: '*'
      update:
        columns:
        - jobStatusName
        - mediaPackageHarvestJobId
        - message
        - conferenceId
        - eventId
        - id
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/mediaPackageHarvestJob/updated'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: job_queues
    name: PublishVideoJob
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: element
    using:
      foreign_key_constraint_on: elementId
  insert_permissions:
  - role: user
    permission:
      check:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _eq: CONFERENCE_MANAGE_CONTENT
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupRegistrants:
                  registrant:
                    userId:
                      _eq: X-Hasura-User-Id
      columns:
      - conferenceId
      - elementId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - elementId
      - created_at
      - id
      - jobStatusName
      - updated_at
      filter:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _eq: CONFERENCE_MANAGE_CONTENT
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupRegistrants:
                  registrant:
                    userId:
                      _eq: X-Hasura-User-Id
  event_triggers:
  - name: PublishVideoJob
    definition:
      enable_manual: true
      insert:
        columns: '*'
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/publishVideoJob/created'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: job_queues
    name: SubmissionRequestEmailJob
  object_relationships:
  - name: person
    using:
      foreign_key_constraint_on: personId
  - name: uploader
    using:
      foreign_key_constraint_on: uploaderId
  insert_permissions:
  - role: user
    permission:
      check:
        _or:
        - uploader:
            conference:
              _or:
              - createdBy:
                  _eq: X-Hasura-User-Id
              - groups:
                  _and:
                  - enabled:
                      _eq: true
                  - groupRoles:
                      role:
                        rolePermissions:
                          permissionName:
                            _eq: CONFERENCE_MANAGE_CONTENT
                  - groupRegistrants:
                      registrant:
                        userId:
                          _eq: X-Hasura-User-Id
        - person:
            conference:
              _or:
              - createdBy:
                  _eq: X-Hasura-User-Id
              - groups:
                  _and:
                  - enabled:
                      _eq: true
                  - groupRoles:
                      role:
                        rolePermissions:
                          permissionName:
                            _eq: CONFERENCE_MANAGE_CONTENT
                  - groupRegistrants:
                      registrant:
                        userId:
                          _eq: X-Hasura-User-Id
      columns:
      - emailTemplate
      - personId
      - uploaderId
      backend_only: false
- table:
    schema: job_queues
    name: UploadYouTubeVideoJob
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: element
    using:
      foreign_key_constraint_on: elementId
  - name: jobStatus
    using:
      foreign_key_constraint_on: jobStatusName
  - name: registrantGoogleAccount
    using:
      foreign_key_constraint_on: registrantGoogleAccountId
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - _exists:
            _where:
              _and:
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
            _table:
              schema: public
              name: FlatUserPermission
        - element:
            conference:
              slug:
                _eq: X-Hasura-Conference-Slug
        - registrantGoogleAccount:
            registrant:
              userId:
                _eq: X-Hasura-User-Id
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
      columns:
      - registrantGoogleAccountId
      - conferenceId
      - elementId
      - playlistId
      - videoDescription
      - videoPrivacyStatus
      - videoTitle
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - registrantGoogleAccountId
      - conferenceId
      - elementId
      - created_at
      - id
      - jobStatusName
      - message
      - updated_at
      filter:
        _and:
        - _exists:
            _where:
              _and:
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
            _table:
              schema: public
              name: FlatUserPermission
        - element:
            conference:
              slug:
                _eq: X-Hasura-Conference-Slug
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
- table:
    schema: permissions
    name: Group
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  array_relationships:
  - name: groupRegistrants
    using:
      foreign_key_constraint_on:
        column: groupId
        table:
          schema: permissions
          name: GroupRegistrant
  - name: groupRoles
    using:
      foreign_key_constraint_on:
        column: groupId
        table:
          schema: permissions
          name: GroupRole
  insert_permissions:
  - role: user
    permission:
      check:
        conference:
          _or:
          - createdBy:
              _eq: X-Hasura-User-Id
          - groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      _or:
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_ROLES
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_GROUPS
              - groupRegistrants:
                  registrant:
                    userId:
                      _eq: X-Hasura-User-Id
      columns:
      - conferenceId
      - enabled
      - includeUnauthenticated
      - name
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - conferenceId
      - enabled
      - id
      - includeUnauthenticated
      - name
      filter:
        _and:
        - enabled:
            _eq: true
        - includeUnauthenticated:
            _eq: true
  - role: user
    permission:
      columns:
      - conferenceId
      - enabled
      - id
      - includeUnauthenticated
      - name
      filter:
        _or:
        - _and:
          - enabled:
              _eq: true
          - _or:
            - includeUnauthenticated:
                _eq: true
            - groupRegistrants:
                registrant:
                  userId:
                    _eq: X-Hasura-User-Id
        - conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        _or:
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ROLES
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_GROUPS
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ATTENDEES
                - groupRegistrants:
                    registrant:
                      userId:
                        _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - enabled
      - includeUnauthenticated
      - name
      filter:
        conference:
          _or:
          - createdBy:
              _eq: X-Hasura-User-Id
          - groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      _or:
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_ROLES
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_GROUPS
              - groupRegistrants:
                  registrant:
                    userId:
                      _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        conference:
          _or:
          - createdBy:
              _eq: X-Hasura-User-Id
          - groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      _or:
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_ROLES
                      - permissionName:
                          _eq: CONFERENCE_MANAGE_GROUPS
              - groupRegistrants:
                  registrant:
                    userId:
                      _eq: X-Hasura-User-Id
- table:
    schema: permissions
    name: GroupRegistrant
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: group
    using:
      foreign_key_constraint_on: groupId
  - name: registrant
    using:
      foreign_key_constraint_on: registrantId
  insert_permissions:
  - role: user
    permission:
      check:
        group:
          conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        _or:
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ROLES
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_GROUPS
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ATTENDEES
                - groupRegistrants:
                    registrant:
                      userId:
                        _eq: X-Hasura-User-Id
      columns:
      - registrantId
      - groupId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - registrantId
      - groupId
      - id
      filter:
        _or:
        - _and:
          - group:
              enabled:
                _eq: true
          - registrant:
              userId:
                _eq: X-Hasura-User-Id
        - group:
            conference:
              _or:
              - createdBy:
                  _eq: X-Hasura-User-Id
              - groups:
                  _and:
                  - enabled:
                      _eq: true
                  - groupRoles:
                      role:
                        rolePermissions:
                          _or:
                          - permissionName:
                              _eq: CONFERENCE_MANAGE_ROLES
                          - permissionName:
                              _eq: CONFERENCE_MANAGE_GROUPS
                          - permissionName:
                              _eq: CONFERENCE_MANAGE_ATTENDEES
                  - groupRegistrants:
                      registrant:
                        userId:
                          _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns: []
      filter:
        group:
          conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        _or:
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ROLES
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_GROUPS
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ATTENDEES
                - groupRegistrants:
                    registrant:
                      userId:
                        _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        group:
          conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        _or:
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ROLES
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_GROUPS
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ATTENDEES
                - groupRegistrants:
                    registrant:
                      userId:
                        _eq: X-Hasura-User-Id
- table:
    schema: permissions
    name: GroupRole
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: group
    using:
      foreign_key_constraint_on: groupId
  - name: role
    using:
      foreign_key_constraint_on: roleId
  insert_permissions:
  - role: user
    permission:
      check:
        group:
          conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        permissionName:
                          _in:
                          - CONFERENCE_MANAGE_ROLES
                          - CONFERENCE_MANAGE_GROUPS
                - groupRegistrants:
                    registrant:
                      userId:
                        _eq: X-Hasura-User-Id
      columns:
      - groupId
      - roleId
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - groupId
      - id
      - roleId
      filter:
        group:
          _and:
          - enabled:
              _eq: true
          - includeUnauthenticated:
              _eq: true
  - role: user
    permission:
      columns:
      - groupId
      - id
      - roleId
      filter:
        _or:
        - group:
            _and:
            - enabled:
                _eq: true
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupRegistrants:
                  registrant:
                    userId:
                      _eq: X-Hasura-User-Id
        - group:
            conference:
              _or:
              - createdBy:
                  _eq: X-Hasura-User-Id
              - groups:
                  _and:
                  - enabled:
                      _eq: true
                  - groupRoles:
                      role:
                        rolePermissions:
                          permissionName:
                            _in:
                            - CONFERENCE_MANAGE_ROLES
                            - CONFERENCE_MANAGE_GROUPS
                  - groupRegistrants:
                      registrant:
                        userId:
                          _eq: X-Hasura-User-Id
  delete_permissions:
  - role: user
    permission:
      filter:
        group:
          conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        permissionName:
                          _in:
                          - CONFERENCE_MANAGE_ROLES
                          - CONFERENCE_MANAGE_GROUPS
                - groupRegistrants:
                    registrant:
                      userId:
                        _eq: X-Hasura-User-Id
- table:
    schema: permissions
    name: Permission
  is_enum: true
  array_relationships:
  - name: rolePermissions
    using:
      foreign_key_constraint_on:
        column: permissionName
        table:
          schema: permissions
          name: RolePermission
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - description
      - name
      filter: {}
  - role: user
    permission:
      columns:
      - description
      - name
      filter: {}
- table:
    schema: permissions
    name: Role
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  array_relationships:
  - name: groupRoles
    using:
      foreign_key_constraint_on:
        column: roleId
        table:
          schema: permissions
          name: GroupRole
  - name: rolePermissions
    using:
      foreign_key_constraint_on:
        column: roleId
        table:
          schema: permissions
          name: RolePermission
  insert_permissions:
  - role: user
    permission:
      check:
        conference:
          _or:
          - createdBy:
              _eq: X-Hasura-User-Id
          - groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      permissionName:
                        _eq: CONFERENCE_MANAGE_ROLES
              - groupRegistrants:
                  registrant:
                    userId:
                      _eq: X-Hasura-User-Id
      columns:
      - conferenceId
      - name
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - conferenceId
      - id
      - name
      filter:
        groupRoles:
          group:
            _and:
            - enabled:
                _eq: true
            - includeUnauthenticated:
                _eq: true
  - role: user
    permission:
      columns:
      - conferenceId
      - id
      - name
      filter:
        _or:
        - groupRoles:
            group:
              _and:
              - enabled:
                  _eq: true
              - _or:
                - includeUnauthenticated:
                    _eq: true
                - groupRegistrants:
                    registrant:
                      userId:
                        _eq: X-Hasura-User-Id
        - conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        permissionName:
                          _in:
                          - CONFERENCE_MANAGE_ROLES
                          - CONFERENCE_MANAGE_GROUPS
                - groupRegistrants:
                    registrant:
                      userId:
                        _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - name
      filter:
        conference:
          _or:
          - createdBy:
              _eq: X-Hasura-User-Id
          - groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      permissionName:
                        _eq: CONFERENCE_MANAGE_ROLES
              - groupRegistrants:
                  registrant:
                    userId:
                      _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        conference:
          _or:
          - createdBy:
              _eq: X-Hasura-User-Id
          - groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      permissionName:
                        _eq: CONFERENCE_MANAGE_ROLES
              - groupRegistrants:
                  registrant:
                    userId:
                      _eq: X-Hasura-User-Id
- table:
    schema: permissions
    name: RolePermission
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: permission
    using:
      foreign_key_constraint_on: permissionName
  - name: role
    using:
      foreign_key_constraint_on: roleId
  insert_permissions:
  - role: user
    permission:
      check:
        role:
          conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        permissionName:
                          _eq: CONFERENCE_MANAGE_ROLES
                - groupRegistrants:
                    registrant:
                      userId:
                        _eq: X-Hasura-User-Id
      columns:
      - permissionName
      - roleId
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - id
      - permissionName
      - roleId
      filter:
        role:
          groupRoles:
            group:
              _and:
              - enabled:
                  _eq: true
              - includeUnauthenticated:
                  _eq: true
  - role: user
    permission:
      columns:
      - created_at
      - id
      - permissionName
      - roleId
      - updated_at
      filter:
        role:
          _or:
          - groupRoles:
              group:
                _and:
                - enabled:
                    _eq: true
                - _or:
                  - includeUnauthenticated:
                      _eq: true
                  - groupRegistrants:
                      registrant:
                        userId:
                          _eq: X-Hasura-User-Id
          - conference:
              _or:
              - createdBy:
                  _eq: X-Hasura-User-Id
              - groups:
                  _and:
                  - enabled:
                      _eq: true
                  - groupRoles:
                      role:
                        rolePermissions:
                          permissionName:
                            _eq: CONFERENCE_MANAGE_ROLES
                  - groupRegistrants:
                      registrant:
                        userId:
                          _eq: X-Hasura-User-Id
  delete_permissions:
  - role: user
    permission:
      filter:
        role:
          conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        permissionName:
                          _eq: CONFERENCE_MANAGE_ROLES
                - groupRegistrants:
                    registrant:
                      userId:
                        _eq: X-Hasura-User-Id
- table:
    schema: public
    name: Email
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: invitation
    using:
      foreign_key_constraint_on: invitationId
  - name: user
    using:
      foreign_key_constraint_on: userId
- table:
    schema: public
    name: FlatUnauthPermission
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - permission_name
      - slug
      filter: {}
  - role: user
    permission:
      columns:
      - permission_name
      - slug
      filter: {}
- table:
    schema: public
    name: FlatUserPermission
  object_relationships:
  - name: conference
    using:
      manual_configuration:
        remote_table:
          schema: conference
          name: Conference
        insertion_order: null
        column_mapping:
          slug: slug
  - name: permission
    using:
      manual_configuration:
        remote_table:
          schema: permissions
          name: Permission
        insertion_order: null
        column_mapping:
          permission_name: name
  - name: user
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: User
        insertion_order: null
        column_mapping:
          user_id: id
  select_permissions:
  - role: user
    permission:
      columns:
      - permission_name
      - slug
      - user_id
      filter:
        user_id:
          _eq: X-Hasura-User-Id
- table:
    schema: public
    name: PushNotificationSubscription
  object_relationships:
  - name: user
    using:
      foreign_key_constraint_on: userId
  insert_permissions:
  - role: user
    permission:
      check: {}
      set:
        userId: x-hasura-User-Id
      columns:
      - auth
      - endpoint
      - p256dh
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - created_at
      - endpoint
      - updated_at
      - userId
      filter:
        userId:
          _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - auth
      - endpoint
      - p256dh
      filter:
        userId:
          _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        userId:
          _eq: X-Hasura-User-Id
  event_triggers:
  - name: PushNotificationSubscriptionChanged
    definition:
      enable_manual: true
      insert:
        columns: '*'
      delete:
        columns: '*'
      update:
        columns:
        - auth
        - endpoint
        - p256dh
        - userId
    retry_conf:
      num_retries: 1
      interval_sec: 120
      timeout_sec: 60
    webhook: '{{REALTIME_BASE_URL}}/pushNotificationSubscription/changed'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: public
    name: User
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  array_relationships:
  - name: conferenceDemoCodes
    using:
      foreign_key_constraint_on:
        column: usedById
        table:
          schema: conference
          name: DemoCode
  - name: conferencesCreated
    using:
      foreign_key_constraint_on:
        column: createdBy
        table:
          schema: conference
          name: Conference
  - name: emails
    using:
      foreign_key_constraint_on:
        column: userId
        table:
          schema: public
          name: Email
  - name: invitationsPendingConfirmation
    using:
      foreign_key_constraint_on:
        column: linkToUserId
        table:
          schema: registrant
          name: Invitation
  - name: pushNotificationSubscriptions
    using:
      foreign_key_constraint_on:
        column: userId
        table:
          schema: public
          name: PushNotificationSubscription
  - name: registrants
    using:
      foreign_key_constraint_on:
        column: userId
        table:
          schema: registrant
          name: Registrant
  select_permissions:
  - role: user
    permission:
      columns:
      - acceptedPrivacyPolicyAt
      - acceptedTermsAt
      - created_at
      - email
      - id
      - updated_at
      filter:
        id:
          _eq: X-Hasura-User-Id
      limit: 5000
  update_permissions:
  - role: user
    permission:
      columns:
      - acceptedPrivacyPolicyAt
      - acceptedTermsAt
      - email
      filter:
        id:
          _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        id:
          _eq: X-Hasura-User-Id
- table:
    schema: registrant
    name: GoogleAccount
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: registrant
    using:
      foreign_key_constraint_on: registrantId
  select_permissions:
  - role: user
    permission:
      columns:
      - registrantId
      - conferenceId
      - created_at
      - googleAccountEmail
      - id
      - updated_at
      - youTubeData
      filter:
        _and:
        - registrant:
            userId:
              _eq: X-Hasura-User-Id
        - _exists:
            _where:
              _and:
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - user_id:
                  _eq: X-Hasura-User-Id
            _table:
              schema: public
              name: FlatUserPermission
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - registrant:
            userId:
              _eq: X-Hasura-User-Id
        - _exists:
            _where:
              _and:
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - user_id:
                  _eq: X-Hasura-User-Id
            _table:
              schema: public
              name: FlatUserPermission
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
  event_triggers:
  - name: RegistrantGoogleAccountDeleted
    definition:
      enable_manual: false
      delete:
        columns: '*'
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/registrantGoogleAccount/deleted'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: registrant
    name: Invitation
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: registrant
    using:
      foreign_key_constraint_on: registrantId
  - name: user
    using:
      foreign_key_constraint_on: linkToUserId
  array_relationships:
  - name: emails
    using:
      foreign_key_constraint_on:
        column: invitationId
        table:
          schema: public
          name: Email
  computed_fields:
  - name: hash
    definition:
      function:
        schema: registrant
        name: invitationHash
    comment: ""
  insert_permissions:
  - role: user
    permission:
      check:
        _exists:
          _where:
            _and:
            - user_id:
                _eq: X-Hasura-User-Id
            - slug:
                _eq: X-Hasura-Conference-Slug
            - permission:
                rolePermissions:
                  permissionName:
                    _in:
                    - CONFERENCE_MANAGE_ROLES
                    - CONFERENCE_MANAGE_GROUPS
                    - CONFERENCE_MANAGE_ATTENDEES
          _table:
            schema: public
            name: FlatUserPermission
      columns:
      - registrantId
      - invitedEmailAddress
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - id
      - inviteCode
      - invitedEmailAddress
      filter:
        inviteCode:
          _eq: X-Hasura-Invite-Code
  - role: user
    permission:
      columns:
      - registrantId
      - confirmationCode
      - created_at
      - id
      - inviteCode
      - invitedEmailAddress
      - linkToUserId
      - updated_at
      computed_fields:
      - hash
      filter:
        _or:
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission:
                  rolePermissions:
                    permissionName:
                      _in:
                      - CONFERENCE_MANAGE_ROLES
                      - CONFERENCE_MANAGE_GROUPS
                      - CONFERENCE_MANAGE_ATTENDEES
            _table:
              schema: public
              name: FlatUserPermission
        - registrant:
            userId:
              _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - confirmationCode
      - inviteCode
      - invitedEmailAddress
      - linkToUserId
      filter:
        registrant:
          conference:
            _or:
            - createdBy:
                _eq: X-Hasura-User-Id
            - groups:
                _and:
                - enabled:
                    _eq: true
                - groupRoles:
                    role:
                      rolePermissions:
                        _or:
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ROLES
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_GROUPS
                        - permissionName:
                            _eq: CONFERENCE_MANAGE_ATTENDEES
                - groupRegistrants:
                    registrant:
                      userId:
                        _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _exists:
          _where:
            _and:
            - user_id:
                _eq: X-Hasura-User-Id
            - slug:
                _eq: X-Hasura-Conference-Slug
            - permission:
                rolePermissions:
                  permissionName:
                    _in:
                    - CONFERENCE_MANAGE_ROLES
                    - CONFERENCE_MANAGE_GROUPS
                    - CONFERENCE_MANAGE_ATTENDEES
          _table:
            schema: public
            name: FlatUserPermission
- table:
    schema: registrant
    name: Profile
  object_relationships:
  - name: registrant
    using:
      foreign_key_constraint_on: registrantId
  select_permissions:
  - role: user
    permission:
      columns:
      - affiliation
      - affiliationURL
      - registrantId
      - badges
      - bio
      - country
      - github
      - hasBeenEdited
      - photoURL_350x350
      - photoURL_50x50
      - pronouns
      - timezoneUTCOffset
      - twitter
      - website
      filter:
        registrant:
          _or:
          - _and:
            - userId:
                _is_null: false
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
          - _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_ROLES
                      - CONFERENCE_MANAGE_GROUPS
                      - CONFERENCE_MANAGE_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - affiliation
      - affiliationURL
      - badges
      - bio
      - country
      - github
      - hasBeenEdited
      - pronouns
      - timezoneUTCOffset
      - twitter
      - website
      filter:
        registrant:
          _or:
          - userId:
              _eq: X-Hasura-User-Id
          - _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_ROLES
                      - CONFERENCE_MANAGE_GROUPS
                      - CONFERENCE_MANAGE_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        registrant:
          conference:
            _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_ROLES
                      - CONFERENCE_MANAGE_GROUPS
                      - CONFERENCE_MANAGE_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
- table:
    schema: registrant
    name: ProfileBadges
  object_relationships:
  - name: registrant
    using:
      manual_configuration:
        remote_table:
          schema: registrant
          name: Registrant
        insertion_order: null
        column_mapping:
          registrantId: id
  select_permissions:
  - role: user
    permission:
      columns:
      - colour
      - name
      - registrantId
      filter:
        registrant:
          _or:
          - _and:
            - userId:
                _is_null: false
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
          - _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_ROLES
                      - CONFERENCE_MANAGE_GROUPS
                      - CONFERENCE_MANAGE_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
- table:
    schema: registrant
    name: Registrant
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: invitation
    using:
      manual_configuration:
        remote_table:
          schema: registrant
          name: Invitation
        insertion_order: null
        column_mapping:
          id: registrantId
  - name: profile
    using:
      manual_configuration:
        remote_table:
          schema: registrant
          name: Profile
        insertion_order: null
        column_mapping:
          id: registrantId
  - name: user
    using:
      foreign_key_constraint_on: userId
  array_relationships:
  - name: badges
    using:
      manual_configuration:
        remote_table:
          schema: registrant
          name: ProfileBadges
        insertion_order: null
        column_mapping:
          id: registrantId
  - name: groupRegistrants
    using:
      foreign_key_constraint_on:
        column: registrantId
        table:
          schema: permissions
          name: GroupRegistrant
  - name: programPeople
    using:
      foreign_key_constraint_on:
        column: registrantId
        table:
          schema: collection
          name: ProgramPerson
  - name: roomParticipants
    using:
      foreign_key_constraint_on:
        column: registrantId
        table:
          schema: room
          name: Participant
  computed_fields:
  - name: inviteSent
    definition:
      function:
        schema: registrant
        name: HasBeenInvited
    comment: ""
  insert_permissions:
  - role: user
    permission:
      check:
        conference:
          _or:
          - createdBy:
              _eq: X-Hasura-User-Id
          - _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_ROLES
                      - CONFERENCE_MANAGE_GROUPS
                      - CONFERENCE_MANAGE_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
      columns:
      - conferenceId
      - displayName
      - id
      - userId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - created_at
      - displayName
      - id
      - updated_at
      - userId
      computed_fields:
      - inviteSent
      filter:
        _or:
        - _and:
          - userId:
              _is_null: false
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW_ATTENDEES
              _table:
                schema: public
                name: FlatUserPermission
        - _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_ROLES
                    - CONFERENCE_MANAGE_GROUPS
                    - CONFERENCE_MANAGE_ATTENDEES
              _table:
                schema: public
                name: FlatUserPermission
        - conference:
            createdBy:
              _eq: X-Hasura-User-Id
        - _and:
          - userId:
              _is_null: false
          - userId:
              _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - displayName
      - userId
      filter:
        _or:
        - userId:
            _eq: X-Hasura-User-Id
        - conference:
            createdBy:
              _eq: X-Hasura-User-Id
        - _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_ROLES
                    - CONFERENCE_MANAGE_GROUPS
                    - CONFERENCE_MANAGE_ATTENDEES
              _table:
                schema: public
                name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _or:
        - userId:
            _eq: X-Hasura-User-Id
        - conference:
            createdBy:
              _eq: X-Hasura-User-Id
        - _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_ROLES
                    - CONFERENCE_MANAGE_GROUPS
                    - CONFERENCE_MANAGE_ATTENDEES
              _table:
                schema: public
                name: FlatUserPermission
- table:
    schema: registrant
    name: SavedVonageRoomRecording
  object_relationships:
  - name: recording
    using:
      foreign_key_constraint_on: recordingId
  - name: registrant
    using:
      foreign_key_constraint_on: registrantId
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - registrant:
            userId:
              _eq: X-Hasura-User-Id
        - recording:
            room:
              conference:
                registrants:
                  id:
                    _ceq:
                    - $
                    - registrantId
      columns:
      - recordingId
      - registrantId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - id
      - created_at
      - updated_at
      - recordingId
      - isHidden
      - registrantId
      filter:
        registrant:
          userId:
            _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - isHidden
      filter:
        registrant:
          userId:
            _eq: X-Hasura-User-Id
      check: null
- table:
    schema: room
    name: Backend
  is_enum: true
- table:
    schema: room
    name: ChimeMeeting
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      manual_configuration:
        remote_table:
          schema: conference
          name: Conference
        insertion_order: null
        column_mapping:
          conferenceId: id
  - name: room
    using:
      manual_configuration:
        remote_table:
          schema: room
          name: Room
        insertion_order: null
        column_mapping:
          roomId: id
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - created_at
      - id
      - roomId
      - updated_at
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
          - _and:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - _or:
              - room:
                  _or:
                  - managementModeName:
                      _eq: PUBLIC
                  - roomPeople:
                      registrant:
                        userId:
                          _eq: X-Hasura-User-Id
      limit: 1
- table:
    schema: room
    name: LivestreamDurations
  object_relationships:
  - name: conference
    using:
      manual_configuration:
        remote_table:
          schema: conference
          name: Conference
        insertion_order: null
        column_mapping:
          conferenceId: id
  - name: room
    using:
      manual_configuration:
        remote_table:
          schema: room
          name: Room
        insertion_order: null
        column_mapping:
          roomId: id
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - roomId
      - sum
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
- table:
    schema: room
    name: ManagementMode
  is_enum: true
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - name
      - description
      filter: {}
  - role: user
    permission:
      columns:
      - description
      - name
      filter: {}
- table:
    schema: room
    name: Mode
  is_enum: true
  array_relationships:
  - name: events
    using:
      foreign_key_constraint_on:
        column: intendedRoomModeName
        table:
          schema: schedule
          name: Event
  - name: rooms
    using:
      foreign_key_constraint_on:
        column: currentModeName
        table:
          schema: room
          name: Room
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - name
      - description
      filter: {}
  - role: user
    permission:
      columns:
      - description
      - name
      filter: {}
- table:
    schema: room
    name: Participant
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: registrant
    using:
      foreign_key_constraint_on: registrantId
  - name: room
    using:
      foreign_key_constraint_on: roomId
  select_permissions:
  - role: user
    permission:
      columns:
      - registrantId
      - conferenceId
      - created_at
      - id
      - roomId
      - updated_at
      filter:
        _and:
        - _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _or:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_SCHEDULE
                      - CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - _exists:
                _where:
                  _and:
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUnauthPermission
        - room:
            _or:
            - managementModeName:
                _eq: PUBLIC
            - roomPeople:
                registrant:
                  userId:
                    _eq: X-Hasura-User-Id
      allow_aggregations: true
- table:
    schema: room
    name: PersonRole
  is_enum: true
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - description
      - name
      filter: {}
  - role: user
    permission:
      columns:
      - description
      - name
      filter: {}
- table:
    schema: room
    name: Room
  object_relationships:
  - name: channelStack
    using:
      manual_configuration:
        remote_table:
          schema: video
          name: ChannelStack
        insertion_order: null
        column_mapping:
          id: roomId
  - name: channelStackWithStreamKey
    using:
      manual_configuration:
        remote_table:
          schema: video
          name: ChannelStackWithStreamKey
        insertion_order: null
        column_mapping:
          id: roomId
  - name: chat
    using:
      foreign_key_constraint_on: chatId
  - name: chimeMeeting
    using:
      manual_configuration:
        remote_table:
          schema: room
          name: ChimeMeeting
        insertion_order: null
        column_mapping:
          id: roomId
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: currentMode
    using:
      foreign_key_constraint_on: currentModeName
  - name: livestreamDuration
    using:
      manual_configuration:
        remote_table:
          schema: room
          name: LivestreamDurations
        insertion_order: null
        column_mapping:
          id: roomId
  - name: managementMode
    using:
      foreign_key_constraint_on: managementModeName
  - name: originatingData
    using:
      foreign_key_constraint_on: originatingDataId
  - name: originatingEvent
    using:
      foreign_key_constraint_on: originatingEventId
  - name: originatingItem
    using:
      foreign_key_constraint_on: originatingItemId
  - name: rtmpOutput
    using:
      manual_configuration:
        remote_table:
          schema: video
          name: RoomRtmpOutput
        insertion_order: null
        column_mapping:
          id: roomId
  array_relationships:
  - name: channelStackCreateJobs
    using:
      foreign_key_constraint_on:
        column: roomId
        table:
          schema: job_queues
          name: ChannelStackCreateJob
  - name: events
    using:
      foreign_key_constraint_on:
        column: roomId
        table:
          schema: schedule
          name: Event
  - name: participants
    using:
      foreign_key_constraint_on:
        column: roomId
        table:
          schema: room
          name: Participant
  - name: presenceCounts
    using:
      manual_configuration:
        remote_table:
          schema: analytics
          name: RoomPresence
        insertion_order: null
        column_mapping:
          id: id
  - name: roomPeople
    using:
      foreign_key_constraint_on:
        column: roomId
        table:
          schema: room
          name: RoomPerson
  - name: shuffleRooms
    using:
      foreign_key_constraint_on:
        column: roomId
        table:
          schema: room
          name: ShuffleRoom
  - name: stats
    using:
      foreign_key_constraint_on:
        column: roomId
        table:
          schema: analytics
          name: RoomStats
  - name: vonageRecordings
    using:
      manual_configuration:
        remote_table:
          schema: video
          name: VonageRoomRecording
        insertion_order: null
        column_mapping:
          id: roomId
  computed_fields:
  - name: isProgramRoom
    definition:
      function:
        schema: room
        name: IsProgramRoom
    comment: ""
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_VIEW_ATTENDEES
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - capacity
      - colour
      - conferenceId
      - currentModeName
      - id
      - managementModeName
      - name
      - originatingDataId
      - originatingItemId
      - priority
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - capacity
      - chatId
      - colour
      - conferenceId
      - created_at
      - currentModeName
      - id
      - managementModeName
      - name
      - originatingDataId
      - originatingEventId
      - originatingItemId
      - priority
      - updated_at
      computed_fields:
      - isProgramRoom
      filter:
        _and:
        - conference:
            _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW
                _table:
                  schema: public
                  name: FlatUnauthPermission
        - managementModeName:
            _eq: PUBLIC
  - role: user
    permission:
      columns:
      - backendName
      - capacity
      - chatId
      - colour
      - conferenceId
      - created_at
      - currentModeName
      - id
      - managementModeName
      - name
      - originatingDataId
      - originatingEventId
      - originatingItemId
      - priority
      - publicVonageSessionId
      - updated_at
      computed_fields:
      - isProgramRoom
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
          - _and:
            - _or:
              - _exists:
                  _where:
                    _and:
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _eq: CONFERENCE_VIEW
                  _table:
                    schema: public
                    name: FlatUnauthPermission
              - _exists:
                  _where:
                    _and:
                    - user_id:
                        _eq: X-Hasura-User-Id
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _in:
                        - CONFERENCE_VIEW
                        - CONFERENCE_VIEW_ATTENDEES
                        - CONFERENCE_MANAGE_SCHEDULE
                  _table:
                    schema: public
                    name: FlatUserPermission
            - _or:
              - managementModeName:
                  _eq: PUBLIC
              - roomPeople:
                  registrant:
                    userId:
                      _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - capacity
      - colour
      - managementModeName
      - name
      - originatingDataId
      - originatingItemId
      - priority
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
          - _and:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - roomPeople:
                _and:
                - registrant:
                    userId:
                      _eq: X-Hasura-User-Id
                - personRoleName:
                    _eq: ADMIN
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
          - _and:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - roomPeople:
                _and:
                - registrant:
                    userId:
                      _eq: X-Hasura-User-Id
                - personRoleName:
                    _eq: ADMIN
  event_triggers:
  - name: RoomCreated
    definition:
      enable_manual: true
      insert:
        columns: '*'
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/room/created'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: room
    name: RoomPerson
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: personRole
    using:
      foreign_key_constraint_on: personRoleName
  - name: registrant
    using:
      foreign_key_constraint_on: registrantId
  - name: room
    using:
      foreign_key_constraint_on: roomId
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - _or:
          - room:
              _and:
              - conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
              - _exists:
                  _where:
                    _and:
                    - user_id:
                        _eq: X-Hasura-User-Id
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _eq: CONFERENCE_MANAGE_SCHEDULE
                  _table:
                    schema: public
                    name: FlatUserPermission
          - _and:
            - room:
                _and:
                - conference:
                    slug:
                      _eq: X-Hasura-Conference-Slug
                - _exists:
                    _where:
                      _and:
                      - user_id:
                          _eq: X-Hasura-User-Id
                      - slug:
                          _eq: X-Hasura-Conference-Slug
                      - permission_name:
                          _eq: CONFERENCE_VIEW_ATTENDEES
                    _table:
                      schema: public
                      name: FlatUserPermission
            - room:
                roomPeople:
                  _and:
                  - registrant:
                      userId:
                        _eq: X-Hasura-User-Id
                  - personRole:
                      name:
                        _eq: ADMIN
      columns:
      - registrantId
      - roomId
      - personRoleName
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - registrantId
      - created_at
      - id
      - roomId
      - personRoleName
      - updated_at
      filter:
        _and:
        - _or:
          - room:
              _and:
              - conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
              - _exists:
                  _where:
                    _and:
                    - user_id:
                        _eq: X-Hasura-User-Id
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _eq: CONFERENCE_MANAGE_SCHEDULE
                  _table:
                    schema: public
                    name: FlatUserPermission
          - _and:
            - room:
                _and:
                - conference:
                    slug:
                      _eq: X-Hasura-Conference-Slug
                - _exists:
                    _where:
                      _and:
                      - user_id:
                          _eq: X-Hasura-User-Id
                      - slug:
                          _eq: X-Hasura-Conference-Slug
                      - permission_name:
                          _eq: CONFERENCE_VIEW_ATTENDEES
                    _table:
                      schema: public
                      name: FlatUserPermission
            - room:
                roomPeople:
                  _and:
                  - registrant:
                      userId:
                        _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - personRoleName
      filter:
        _and:
        - _or:
          - room:
              _and:
              - conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
              - _exists:
                  _where:
                    _and:
                    - user_id:
                        _eq: X-Hasura-User-Id
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _eq: CONFERENCE_MANAGE_SCHEDULE
                  _table:
                    schema: public
                    name: FlatUserPermission
          - _and:
            - room:
                _and:
                - conference:
                    slug:
                      _eq: X-Hasura-Conference-Slug
                - _exists:
                    _where:
                      _and:
                      - user_id:
                          _eq: X-Hasura-User-Id
                      - slug:
                          _eq: X-Hasura-Conference-Slug
                      - permission_name:
                          _eq: CONFERENCE_VIEW_ATTENDEES
                    _table:
                      schema: public
                      name: FlatUserPermission
            - room:
                roomPeople:
                  _and:
                  - registrant:
                      userId:
                        _eq: X-Hasura-User-Id
                  - personRole:
                      name:
                        _eq: ADMIN
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - _or:
          - room:
              _and:
              - conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
              - _exists:
                  _where:
                    _and:
                    - user_id:
                        _eq: X-Hasura-User-Id
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _eq: CONFERENCE_MANAGE_SCHEDULE
                  _table:
                    schema: public
                    name: FlatUserPermission
          - _and:
            - room:
                _and:
                - conference:
                    slug:
                      _eq: X-Hasura-Conference-Slug
                - _exists:
                    _where:
                      _and:
                      - user_id:
                          _eq: X-Hasura-User-Id
                      - slug:
                          _eq: X-Hasura-Conference-Slug
                      - permission_name:
                          _eq: CONFERENCE_VIEW_ATTENDEES
                    _table:
                      schema: public
                      name: FlatUserPermission
            - room:
                roomPeople:
                  _and:
                  - registrant:
                      userId:
                        _eq: X-Hasura-User-Id
                  - personRole:
                      name:
                        _eq: ADMIN
- table:
    schema: room
    name: ShuffleAlgorithm
  is_enum: true
- table:
    schema: room
    name: ShufflePeriod
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: organiser
    using:
      foreign_key_constraint_on: organiserId
  array_relationships:
  - name: events
    using:
      manual_configuration:
        remote_table:
          schema: schedule
          name: Event
        insertion_order: null
        column_mapping:
          id: shufflePeriodId
  - name: queueEntries
    using:
      foreign_key_constraint_on:
        column: shufflePeriodId
        table:
          schema: room
          name: ShuffleQueueEntry
  - name: shuffleRooms
    using:
      foreign_key_constraint_on:
        column: shufflePeriodId
        table:
          schema: room
          name: ShuffleRoom
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_SHUFFLE
            _table:
              schema: public
              name: FlatUserPermission
        - organiser:
            userId:
              _eq: X-Hasura-User-Id
      columns:
      - algorithm
      - conferenceId
      - endAt
      - id
      - maxRegistrantsPerRoom
      - name
      - organiserId
      - roomDurationMinutes
      - startAt
      - targetRegistrantsPerRoom
      - waitRoomMaxDurationSeconds
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - maxRegistrantsPerRoom
      - roomDurationMinutes
      - targetRegistrantsPerRoom
      - waitRoomMaxDurationSeconds
      - algorithm
      - name
      - created_at
      - endAt
      - startAt
      - updated_at
      - conferenceId
      - id
      - organiserId
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_SHUFFLE
                  - CONFERENCE_VIEW_ATTENDEES
            _table:
              schema: public
              name: FlatUserPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - algorithm
      - endAt
      - maxRegistrantsPerRoom
      - name
      - roomDurationMinutes
      - startAt
      - targetRegistrantsPerRoom
      - waitRoomMaxDurationSeconds
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_SHUFFLE
            _table:
              schema: public
              name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_SHUFFLE
            _table:
              schema: public
              name: FlatUserPermission
- table:
    schema: room
    name: ShuffleQueueEntry
  object_relationships:
  - name: registrant
    using:
      foreign_key_constraint_on: registrantId
  - name: shufflePeriod
    using:
      foreign_key_constraint_on: shufflePeriodId
  - name: shuffleRoom
    using:
      foreign_key_constraint_on: allocatedShuffleRoomId
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - shufflePeriod:
            conference:
              slug:
                _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_SHUFFLE
                  - CONFERENCE_VIEW_ATTENDEES
            _table:
              schema: public
              name: FlatUserPermission
        - registrant:
            userId:
              _eq: X-Hasura-User-Id
      columns:
      - allocatedShuffleRoomId
      - registrantId
      - id
      - shufflePeriodId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - allocatedShuffleRoomId
      - created_at
      - id
      - isExpired
      - registrantId
      - shufflePeriodId
      - updated_at
      filter:
        _and:
        - shufflePeriod:
            conference:
              slug:
                _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_SHUFFLE
                  - CONFERENCE_VIEW_ATTENDEES
            _table:
              schema: public
              name: FlatUserPermission
      allow_aggregations: true
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - shufflePeriod:
            conference:
              slug:
                _eq: X-Hasura-Conference-Slug
        - _or:
          - _and:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - registrant:
                userId:
                  _eq: X-Hasura-User-Id
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_SHUFFLE
              _table:
                schema: public
                name: FlatUserPermission
  event_triggers:
  - name: ShuffleQueueEntered
    definition:
      enable_manual: false
      insert:
        columns: '*'
    retry_conf:
      num_retries: 1
      interval_sec: 30
      timeout_sec: 20
    webhook: '{{ACTION_BASE_URL}}/shuffle/entered'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: room
    name: ShuffleRoom
  object_relationships:
  - name: room
    using:
      foreign_key_constraint_on: roomId
  - name: shufflePeriod
    using:
      foreign_key_constraint_on: shufflePeriodId
  array_relationships:
  - name: continuations
    using:
      manual_configuration:
        remote_table:
          schema: schedule
          name: Continuation
        insertion_order: null
        column_mapping:
          id: fromShuffleQueue
  - name: queueEntries
    using:
      foreign_key_constraint_on:
        column: allocatedShuffleRoomId
        table:
          schema: room
          name: ShuffleQueueEntry
  select_permissions:
  - role: user
    permission:
      columns:
      - id
      - created_at
      - updated_at
      - shufflePeriodId
      - roomId
      - durationMinutes
      - startedAt
      - reshuffleUponEnd
      - isEnded
      filter:
        _and:
        - shufflePeriod:
            conference:
              slug:
                _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_MANAGE_SHUFFLE
                  - CONFERENCE_VIEW_ATTENDEES
            _table:
              schema: public
              name: FlatUserPermission
- table:
    schema: schedule
    name: Continuation
  object_relationships:
  - name: event
    using:
      foreign_key_constraint_on: fromEvent
  - name: shufflePeriod
    using:
      foreign_key_constraint_on: fromShuffleQueue
  insert_permissions:
  - role: user
    permission:
      check:
        _or:
        - event:
            _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_MANAGE_SCHEDULE
                _table:
                  schema: public
                  name: FlatUserPermission
        - shufflePeriod:
            _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_MANAGE_SHUFFLE
                _table:
                  schema: public
                  name: FlatUserPermission
      columns:
      - isActiveChoice
      - priority
      - to
      - colour
      - defaultFor
      - description
      - fromEvent
      - fromShuffleQueue
      - id
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - id
      - fromEvent
      - to
      - defaultFor
      - isActiveChoice
      - priority
      - colour
      - description
      - fromShuffleQueue
      filter:
        _or:
        - event:
            _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _or:
              - _exists:
                  _where:
                    _and:
                    - user_id:
                        _eq: X-Hasura-User-Id
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _in:
                        - CONFERENCE_VIEW
                        - CONFERENCE_MANAGE_SCHEDULE
                  _table:
                    schema: public
                    name: FlatUserPermission
              - _exists:
                  _where:
                    _and:
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _eq: CONFERENCE_VIEW
                  _table:
                    schema: public
                    name: FlatUnauthPermission
        - shufflePeriod:
            _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_SHUFFLE
                      - CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - colour
      - defaultFor
      - description
      - isActiveChoice
      - priority
      - to
      filter:
        _or:
        - event:
            _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_MANAGE_SCHEDULE
                _table:
                  schema: public
                  name: FlatUserPermission
        - shufflePeriod:
            _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_MANAGE_SHUFFLE
                _table:
                  schema: public
                  name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _or:
        - event:
            _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_MANAGE_SCHEDULE
                _table:
                  schema: public
                  name: FlatUserPermission
        - shufflePeriod:
            _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_MANAGE_SHUFFLE
                _table:
                  schema: public
                  name: FlatUserPermission
- table:
    schema: schedule
    name: Event
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
      timings_updated_at: timingsUpdatedAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: eventVonageSession
    using:
      manual_configuration:
        remote_table:
          schema: video
          name: EventVonageSession
        insertion_order: null
        column_mapping:
          id: eventId
  - name: exhibition
    using:
      foreign_key_constraint_on: exhibitionId
  - name: item
    using:
      foreign_key_constraint_on: itemId
  - name: originatingData
    using:
      foreign_key_constraint_on: originatingDataId
  - name: room
    using:
      foreign_key_constraint_on: roomId
  - name: roomMode
    using:
      foreign_key_constraint_on: intendedRoomModeName
  - name: shufflePeriod
    using:
      foreign_key_constraint_on: shufflePeriodId
  array_relationships:
  - name: continuations
    using:
      foreign_key_constraint_on:
        column: fromEvent
        table:
          schema: schedule
          name: Continuation
  - name: eventPeople
    using:
      foreign_key_constraint_on:
        column: eventId
        table:
          schema: schedule
          name: EventProgramPerson
  - name: eventTags
    using:
      foreign_key_constraint_on:
        column: eventId
        table:
          schema: schedule
          name: EventTag
  - name: participantStreams
    using:
      foreign_key_constraint_on:
        column: eventId
        table:
          schema: video
          name: EventParticipantStream
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
      columns:
      - conferenceId
      - durationSeconds
      - enableRecording
      - exhibitionId
      - id
      - intendedRoomModeName
      - itemId
      - name
      - originatingDataId
      - roomId
      - shufflePeriodId
      - startTime
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - conferenceId
      - durationSeconds
      - enableRecording
      - endTime
      - exhibitionId
      - id
      - intendedRoomModeName
      - itemId
      - name
      - originatingDataId
      - roomId
      - shufflePeriodId
      - startTime
      filter:
        conference:
          _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - conferenceId
      - created_at
      - durationSeconds
      - enableRecording
      - endTime
      - exhibitionId
      - id
      - intendedRoomModeName
      - itemId
      - name
      - originatingDataId
      - roomId
      - shufflePeriodId
      - startTime
      - updated_at
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_VIEW
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
          - _exists:
              _where:
                _and:
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUnauthPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - durationSeconds
      - enableRecording
      - exhibitionId
      - intendedRoomModeName
      - itemId
      - name
      - originatingDataId
      - roomId
      - shufflePeriodId
      - startTime
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
  event_triggers:
  - name: EventUpdated
    definition:
      enable_manual: true
      insert:
        columns: '*'
      update:
        columns:
        - timings_updated_at
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/event/updated'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
  - name: Playout_EventUpdated
    definition:
      enable_manual: true
      update:
        columns:
        - durationSeconds
        - intendedRoomModeName
        - endTime
        - startTime
        - conferenceId
        - itemId
        - id
        - roomId
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{PLAYOUT_BASE_URL}}/hasura/events'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: schedule
    name: EventProgramPerson
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: event
    using:
      foreign_key_constraint_on: eventId
  - name: eventPersonRole
    using:
      foreign_key_constraint_on: roleName
  - name: person
    using:
      foreign_key_constraint_on: personId
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - event:
            conference:
              slug:
                _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
          - _and:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - event:
                eventPeople:
                  _and:
                  - person:
                      registrant:
                        userId:
                          _eq: X-Hasura-User-Id
                  - eventPersonRole:
                      name:
                        _in:
                        - CHAIR
                        - PRESENTER
      columns:
      - eventId
      - id
      - personId
      - roleName
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - eventId
      - id
      - personId
      - roleName
      filter:
        _and:
        - event:
            conference:
              slug:
                _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_VIEW
            _table:
              schema: public
              name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - eventId
      - id
      - personId
      - roleName
      filter:
        _and:
        - event:
            conference:
              slug:
                _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_VIEW
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - personId
      - roleName
      filter:
        _and:
        - event:
            conference:
              slug:
                _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
          - _and:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - event:
                eventPeople:
                  _and:
                  - person:
                      registrant:
                        userId:
                          _eq: X-Hasura-User-Id
                  - eventPersonRole:
                      name:
                        _in:
                        - CHAIR
                        - PRESENTER
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        _and:
        - event:
            conference:
              slug:
                _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
          - _and:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - event:
                eventPeople:
                  _and:
                  - person:
                      registrant:
                        userId:
                          _eq: X-Hasura-User-Id
                  - eventPersonRole:
                      name:
                        _in:
                        - CHAIR
                        - PRESENTER
          - person:
              registrant:
                userId:
                  _eq: X-Hasura-User-Id
  event_triggers:
  - name: EventPersonDeleted
    definition:
      enable_manual: false
      delete:
        columns: '*'
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/eventPerson/deleted'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: schedule
    name: EventProgramPersonRole
  is_enum: true
  array_relationships:
  - name: eventPeople
    using:
      foreign_key_constraint_on:
        column: roleName
        table:
          schema: schedule
          name: EventProgramPerson
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - name
      - description
      filter: {}
  - role: user
    permission:
      columns:
      - description
      - name
      filter: {}
- table:
    schema: schedule
    name: EventTag
  object_relationships:
  - name: event
    using:
      foreign_key_constraint_on: eventId
  - name: tag
    using:
      foreign_key_constraint_on: tagId
  insert_permissions:
  - role: user
    permission:
      check:
        event:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
      columns:
      - eventId
      - id
      - tagId
      backend_only: false
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - eventId
      - id
      - tagId
      filter:
        event:
          conference:
            _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW
                _table:
                  schema: public
                  name: FlatUnauthPermission
  - role: user
    permission:
      columns:
      - eventId
      - id
      - tagId
      filter:
        event:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_SCHEDULE
                    - CONFERENCE_VIEW
              _table:
                schema: public
                name: FlatUserPermission
  delete_permissions:
  - role: user
    permission:
      filter:
        event:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _eq: CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
- table:
    schema: schedule
    name: OverlappingEvents
  object_relationships:
  - name: conference
    using:
      manual_configuration:
        remote_table:
          schema: conference
          name: Conference
        insertion_order: null
        column_mapping:
          conferenceId: id
  - name: eventX
    using:
      manual_configuration:
        remote_table:
          schema: schedule
          name: Event
        insertion_order: null
        column_mapping:
          xId: id
  - name: eventY
    using:
      manual_configuration:
        remote_table:
          schema: schedule
          name: Event
        insertion_order: null
        column_mapping:
          yId: id
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - xId
      - yId
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
- table:
    schema: schedule
    name: StarredEvent
  object_relationships:
  - name: event
    using:
      foreign_key_constraint_on: eventId
  - name: registrant
    using:
      manual_configuration:
        remote_table:
          schema: registrant
          name: Registrant
        insertion_order: null
        column_mapping:
          registrantId: id
  insert_permissions:
  - role: user
    permission:
      check:
        registrant:
          userId:
            _eq: X-Hasura-User-Id
      columns:
      - eventId
      - registrantId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - created_at
      - updated_at
      - eventId
      - id
      - registrantId
      filter:
        registrant:
          userId:
            _eq: X-Hasura-User-Id
  delete_permissions:
  - role: user
    permission:
      filter:
        registrant:
          userId:
            _eq: X-Hasura-User-Id
- table:
    schema: system
    name: Configuration
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - key
      - updated_at
      - value
      filter:
        key:
          _in:
          - HOST_ORGANISATION_NAME
          - TERMS_LATEST_REVISION_TIMESTAMP
          - TERMS_URL
          - PRIVACY_POLICY_LATEST_REVISION_TIMESTAMP
          - PRIVACY_POLICY_URL
          - COOKIE_POLICY_LATEST_REVISION_TIMESTAMP
          - COOKIE_POLICY_URL
          - DEFAULT_VIDEO_ROOM_BACKEND
  - role: user
    permission:
      columns:
      - key
      - updated_at
      - value
      filter:
        key:
          _in:
          - HOST_ORGANISATION_NAME
          - TERMS_LATEST_REVISION_TIMESTAMP
          - TERMS_URL
          - PRIVACY_POLICY_LATEST_REVISION_TIMESTAMP
          - PRIVACY_POLICY_URL
          - COOKIE_POLICY_LATEST_REVISION_TIMESTAMP
          - COOKIE_POLICY_URL
          - DEFAULT_VIDEO_ROOM_BACKEND
- table:
    schema: system
    name: ConfigurationKey
  is_enum: true
- table:
    schema: video
    name: ChannelStack
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: channelStackCreateJob
    using:
      foreign_key_constraint_on: channelStackCreateJobId
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: mediaLiveChannelStatus
    using:
      manual_configuration:
        remote_table:
          schema: video
          name: MediaLiveChannelStatus
        insertion_order: null
        column_mapping:
          id: channelStackId
  - name: room
    using:
      foreign_key_constraint_on: roomId
  array_relationships:
  - name: channelStackUpdateJobs
    using:
      manual_configuration:
        remote_table:
          schema: job_queues
          name: ChannelStackUpdateJob
        insertion_order: null
        column_mapping:
          id: channelStackId
  select_permissions:
  - role: user
    permission:
      columns:
      - cloudFrontDomain
      - conferenceId
      - endpointUri
      - id
      - roomId
      filter:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    _or:
                    - permissionName:
                        _eq: CONFERENCE_VIEW
                    - permissionName:
                        _eq: CONFERENCE_MANAGE_SCHEDULE
            - _or:
              - includeUnauthenticated:
                  _eq: true
              - groupRegistrants:
                  registrant:
                    userId:
                      _eq: X-Hasura-User-Id
- table:
    schema: video
    name: ChannelStackWithStreamKey
  object_relationships:
  - name: conference
    using:
      manual_configuration:
        remote_table:
          schema: conference
          name: Conference
        insertion_order: null
        column_mapping:
          conferenceId: id
  - name: mediaLiveChannelStatus
    using:
      manual_configuration:
        remote_table:
          schema: video
          name: MediaLiveChannelStatus
        insertion_order: null
        column_mapping:
          id: channelStackId
  array_relationships:
  - name: channelStackUpdateJobs
    using:
      manual_configuration:
        remote_table:
          schema: job_queues
          name: ChannelStackUpdateJob
        insertion_order: null
        column_mapping:
          id: channelStackId
  select_permissions:
  - role: user
    permission:
      columns:
      - cloudFrontDomain
      - conferenceId
      - created_at
      - endpointUri
      - id
      - roomId
      - rtmpOutputDestinationId
      - rtmpOutputStreamKey
      - rtmpOutputUri
      - updated_at
      filter:
        conference:
          groups:
            _and:
            - enabled:
                _eq: true
            - groupRoles:
                role:
                  rolePermissions:
                    permissionName:
                      _eq: CONFERENCE_MANAGE_SCHEDULE
            - groupRegistrants:
                registrant:
                  userId:
                    _eq: X-Hasura-User-Id
- table:
    schema: video
    name: EventParticipantStream
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: event
    using:
      foreign_key_constraint_on: eventId
  - name: registrant
    using:
      foreign_key_constraint_on: registrantId
  select_permissions:
  - role: user
    permission:
      columns:
      - registrantId
      - conferenceId
      - eventId
      - id
      - updated_at
      - vonageStreamId
      - vonageStreamType
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _or:
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_SCHEDULE
                    - CONFERENCE_MANAGE_CONTENT
              _table:
                schema: public
                name: FlatUserPermission
          - _and:
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - event:
                eventPeople:
                  _and:
                  - person:
                      registrant:
                        userId:
                          _eq: X-Hasura-User-Id
                  - eventPersonRole:
                      name:
                        _in:
                        - CHAIR
                        - PRESENTER
- table:
    schema: video
    name: EventVonageSession
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: event
    using:
      foreign_key_constraint_on: eventId
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - created_at
      - id
      - sessionId
      - updated_at
      filter:
        _and:
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _in:
                  - CONFERENCE_VIEW
                  - CONFERENCE_MANAGE_SCHEDULE
            _table:
              schema: public
              name: FlatUserPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - layoutData
      filter:
        _or:
        - conference:
            _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_SCHEDULE
                _table:
                  schema: public
                  name: FlatUserPermission
        - _and:
          - _and:
            - conference:
                slug:
                  _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
          - event:
              eventPeople:
                _and:
                - person:
                    registrant:
                      userId:
                        _eq: X-Hasura-User-Id
                - eventPersonRole:
                    name:
                      _in:
                      - CHAIR
                      - PRESENTER
      check: null
  event_triggers:
  - name: EventVonageSessionUpdated
    definition:
      enable_manual: true
      update:
        columns:
        - layoutData
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/eventVonageSession/updated'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: video
    name: ImmediateSwitch
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      manual_configuration:
        remote_table:
          schema: conference
          name: Conference
        insertion_order: null
        column_mapping:
          conferenceId: id
  - name: event
    using:
      manual_configuration:
        remote_table:
          schema: schedule
          name: Event
        insertion_order: null
        column_mapping:
          eventId: id
  insert_permissions:
  - role: user
    permission:
      check:
        _and:
        - _or:
          - conference:
              _and:
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - _exists:
                  _where:
                    _and:
                    - user_id:
                        _eq: X-Hasura-User-Id
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _in:
                        - CONFERENCE_MANAGE_SCHEDULE
                  _table:
                    schema: public
                    name: FlatUserPermission
          - _and:
            - _and:
              - event:
                  conference:
                    slug:
                      _eq: X-Hasura-Conference-Slug
              - _exists:
                  _where:
                    _and:
                    - user_id:
                        _eq: X-Hasura-User-Id
                    - slug:
                        _eq: X-Hasura-Conference-Slug
                    - permission_name:
                        _eq: CONFERENCE_VIEW_ATTENDEES
                  _table:
                    schema: public
                    name: FlatUserPermission
              - event:
                  eventPeople:
                    _and:
                    - person:
                        registrant:
                          userId:
                            _eq: X-Hasura-User-Id
                    - eventPersonRole:
                        name:
                          _in:
                          - CHAIR
                          - PRESENTER
        - event:
            conferenceId:
              _ceq: conferenceId
      columns:
      - conferenceId
      - data
      - eventId
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - created_at
      - data
      - errorMessage
      - eventId
      - executedAt
      - id
      - updated_at
      filter:
        _or:
        - conference:
            _and:
            - slug:
                _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _in:
                      - CONFERENCE_MANAGE_SCHEDULE
                _table:
                  schema: public
                  name: FlatUserPermission
        - _and:
          - _and:
            - event:
                conference:
                  slug:
                    _eq: X-Hasura-Conference-Slug
            - _exists:
                _where:
                  _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - slug:
                      _eq: X-Hasura-Conference-Slug
                  - permission_name:
                      _eq: CONFERENCE_VIEW_ATTENDEES
                _table:
                  schema: public
                  name: FlatUserPermission
            - event:
                room:
                  _or:
                  - managementModeName:
                      _eq: PUBLIC
                  - roomPeople:
                      registrant:
                        userId:
                          _eq: X-Hasura-User-Id
  event_triggers:
  - name: ImmediateSwitchCreated
    definition:
      enable_manual: false
      insert:
        columns: '*'
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{PLAYOUT_BASE_URL}}/hasura/events'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: video
    name: InputType
  is_enum: true
  select_permissions:
  - role: unauthenticated
    permission:
      columns:
      - name
      - description
      filter: {}
- table:
    schema: video
    name: JobStatus
  is_enum: true
- table:
    schema: video
    name: MediaLiveChannelStatus
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: channelStack
    using:
      foreign_key_constraint_on: channelStackId
  - name: conference
    using:
      manual_configuration:
        remote_table:
          schema: conference
          name: Conference
        insertion_order: null
        column_mapping:
          conferenceId: id
  select_permissions:
  - role: user
    permission:
      columns:
      - activeInputAttachmentName
      - activeInputSwitchActionName
      - channelStackId
      - conferenceId
      - created_at
      - id
      - pipelinesRunningCount
      - state
      - updated_at
      filter:
        conference:
          _and:
          - slug:
              _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_VIEW_ATTENDEES
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
- table:
    schema: video
    name: RoomRtmpOutput
  object_relationships:
  - name: room
    using:
      foreign_key_constraint_on: roomId
  insert_permissions:
  - role: user
    permission:
      check:
        room:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
      columns:
      - id
      - roomId
      - streamKey
      - url
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - streamKey
      - url
      - created_at
      - updated_at
      - id
      - roomId
      filter:
        room:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
  update_permissions:
  - role: user
    permission:
      columns:
      - streamKey
      - url
      filter:
        room:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
      check: null
  delete_permissions:
  - role: user
    permission:
      filter:
        room:
          _and:
          - conference:
              slug:
                _eq: X-Hasura-Conference-Slug
          - _exists:
              _where:
                _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - slug:
                    _eq: X-Hasura-Conference-Slug
                - permission_name:
                    _in:
                    - CONFERENCE_MANAGE_SCHEDULE
              _table:
                schema: public
                name: FlatUserPermission
- table:
    schema: video
    name: RtmpInput
  is_enum: true
- table:
    schema: video
    name: TranscriptionJob
- table:
    schema: video
    name: VideoRenderJob
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: conferencePrepareJob
    using:
      foreign_key_constraint_on: conferencePrepareJobId
  - name: element
    using:
      manual_configuration:
        remote_table:
          schema: content
          name: Element
        insertion_order: null
        column_mapping:
          elementId: id
  - name: jobStatus
    using:
      foreign_key_constraint_on: jobStatusName
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - conferencePrepareJobId
      - created_at
      - elementId
      - id
      - jobStatusName
      - updated_at
      filter:
        _or:
        - conference:
            groups:
              _and:
              - enabled:
                  _eq: true
              - groupRoles:
                  role:
                    rolePermissions:
                      permissionName:
                        _eq: CONFERENCE_MANAGE_CONTENT
              - _or:
                - includeUnauthenticated:
                    _eq: true
                - groupRegistrants:
                    registrant:
                      userId:
                        _eq: X-Hasura-User-Id
  event_triggers:
  - name: VideoRenderJobUpdated
    definition:
      enable_manual: false
      insert:
        columns: '*'
      update:
        columns:
        - data
        - jobStatusName
        - message
        - conferenceId
        - conferencePrepareJobId
        - elementId
        - id
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook: '{{ACTION_BASE_URL}}/videoRenderJob/updated'
    headers:
    - name: x-hasura-event-secret
      value_from_env: EVENT_SECRET
- table:
    schema: video
    name: VonageRoomRecording
  object_relationships:
  - name: initiator
    using:
      foreign_key_constraint_on: initiatedBy
  - name: room
    using:
      foreign_key_constraint_on: roomId
  array_relationships:
  - name: saves
    using:
      manual_configuration:
        remote_table:
          schema: registrant
          name: SavedVonageRoomRecording
        insertion_order: null
        column_mapping:
          id: recordingId
  select_permissions:
  - role: user
    permission:
      columns:
      - id
      - created_at
      - updated_at
      - roomId
      - startedAt
      - endedAt
      - vonageSessionId
      - s3Url
      - initiatedBy
      filter:
        _or:
        - initiator:
            userId:
              _eq: X-Hasura-User-Id
        - saves:
            registrant:
              userId:
                _eq: X-Hasura-User-Id
- table:
    schema: video
    name: YouTubeUpload
  configuration:
    custom_root_fields: {}
    custom_column_names:
      updated_at: updatedAt
      created_at: createdAt
  object_relationships:
  - name: conference
    using:
      foreign_key_constraint_on: conferenceId
  - name: element
    using:
      foreign_key_constraint_on: elementId
  select_permissions:
  - role: user
    permission:
      columns:
      - conferenceId
      - elementId
      - created_at
      - id
      - updated_at
      - videoId
      - videoPrivacyStatus
      - videoStatus
      - videoTitle
      filter:
        _and:
        - _exists:
            _where:
              _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - slug:
                  _eq: X-Hasura-Conference-Slug
              - permission_name:
                  _eq: CONFERENCE_MANAGE_CONTENT
            _table:
              schema: public
              name: FlatUserPermission
        - element:
            conference:
              slug:
                _eq: X-Hasura-Conference-Slug
        - conference:
            slug:
              _eq: X-Hasura-Conference-Slug
